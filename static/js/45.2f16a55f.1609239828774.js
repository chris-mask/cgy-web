webpackJsonp([45],{bWgi:function(e,t,a){(e.exports=a("FZ+f")(!1)).push([e.i,"\n.file-list[data-v-6862313d] {\n  margin-right: 10px;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n}\n.file-list li[data-v-6862313d] {\n  position: relative;\n  margin-right: 10px;\n  border-radius: 4px;\n  width: 100px;\n  height: 100px;\n  border: 1px solid #c0ccda;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  overflow: hidden;\n  padding: 8px;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n}\n.file-list li img[data-v-6862313d] {\n  width: auto;\n}\n.file-list li .transition-box[data-v-6862313d] {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n  background: rgba(0, 0, 0, 0.5);\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n}\n.file-list li .transition-box i[data-v-6862313d] {\n  color: #fff;\n  cursor: pointer;\n  font-size: 22px;\n}\n.file-list li[data-v-6862313d]:last-child {\n  margin-right: 0;\n}\n.upload-pic[data-v-6862313d] .el-upload {\n  width: 100px;\n  height: 100px;\n  line-height: 110px;\n  background-color: #fbfdff;\n  border: 1px dashed #c0ccda;\n  border-radius: 6px;\n}\n.upload-pic[data-v-6862313d] .el-upload .icon-plus {\n  color: #8c939d;\n  font-size: 28px;\n}\n.upload-pic[data-v-6862313d] .el-upload-list--picture-card .el-upload-list__item {\n  width: 100px;\n  height: 100px;\n}\n[data-v-6862313d] .el-table {\n  border: #d9f2ff 1px solid !important;\n}\n[data-v-6862313d] .el-table th.gutter {\n  display: table-cell !important;\n}\n[data-v-6862313d] .el-table--border th,[data-v-6862313d] .el-table th {\n  background: #2CB1F5 !important;\n  color: #fff;\n  font-weight: 400;\n  border-right: 1px solid rgba(220, 223, 230, 0.21);\n  padding: 7px 0;\n}\n[data-v-6862313d] .el-table__row:nth-child(even) {\n  background: #ebf8ff !important;\n  border: 1px solid rgba(0, 141, 214, 0.26666667);\n}\n[data-v-6862313d] .el-table--border td {\n  border: none;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n}\n[data-v-6862313d] .el-table--border td:first-child {\n  border-right: #d9f2ff 1px solid !important;\n}\n[data-v-6862313d] .el-table--border td:last-child {\n  border-left: #d9f2ff 1px solid !important;\n}\n[data-v-6862313d] .el-form-item {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  margin-right: 115px;\n}\n[data-v-6862313d] .el-form-item__content {\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n  width: 100%;\n}\n[data-v-6862313d] .el-form-item__label {\n  min-width: 77px;\n}\n.btnList[data-v-6862313d] {\n  margin-top: 30px;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  /*width: 60%;*/\n}\n[data-v-6862313d] .el-card__header {\n  color: #008DD6;\n}\n[data-v-6862313d] input::-webkit-outer-spin-button,[data-v-6862313d] input::-webkit-inner-spin-button {\n  -webkit-appearance: none !important;\n  margin: 0;\n}\n.addRoleDept[data-v-6862313d] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n}\n.otherDept[data-v-6862313d] {\n  border: 1px solid #C0C4CC;\n  padding: 10px;\n  border-radius: 4px;\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n  margin-right: 15px;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-wrap: wrap;\n      flex-wrap: wrap;\n}\n.chooseBox[data-v-6862313d] {\n  background: #FD903C;\n  color: #fff;\n  line-height: normal;\n  padding: 5px 10px;\n  border-radius: 4px;\n  margin-right: 10px;\n  margin-bottom: 10px;\n}\n.chooseBox[data-v-6862313d]:last-child {\n  margin-right: 0;\n}\n.chooseBox i[data-v-6862313d] {\n  cursor: pointer;\n}\n.addBtn[data-v-6862313d] {\n  height: 35px;\n  font-size: 16px;\n}\n.btnList[data-v-6862313d] {\n  margin-top: 30px;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  /*width: 60%;*/\n}\n.userLogin[data-v-6862313d] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  /*align-items: center;*/\n  border-radius: 4px;\n  border: 1px solid #DCDFE6;\n  padding: 10px;\n  -ms-flex-wrap: wrap;\n      flex-wrap: wrap;\n}\n.userLogin input[data-v-6862313d] {\n  border: none;\n  outline: none;\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n  line-height: normal;\n}\n.userList[data-v-6862313d] {\n  border: 1px solid #DCDFE6;\n  margin-top: 10px;\n  border-radius: 4px;\n  /*display: flex;*/\n  position: relative;\n}\n/*.userList:before{*/\n/*  content:'';*/\n/*  width:0;*/\n/*  height:0;*/\n/*  border-left:30px solid transparent;*/\n/*  border-right:30px solid transparent;*/\n/*  border-bottom:30px solid #000;*/\n/*}*/\n.userBox[data-v-6862313d] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  border-bottom: 1px solid #DCDFE6;\n  padding: 10px;\n  cursor: pointer;\n}\n.userBox[data-v-6862313d]:hover {\n  background: rgba(44, 177, 245, 0.06);\n  -webkit-transition: all 0.2s ease-in;\n  transition: all 0.2s ease-in;\n}\n.userBox[data-v-6862313d]:last-child {\n  border-bottom: none;\n}\n.userAvatar[data-v-6862313d] {\n  line-height: normal;\n}\n.userName[data-v-6862313d] {\n  line-height: normal;\n  text-align: center;\n  margin-left: 10px;\n}\n.listJt[data-v-6862313d] {\n  position: absolute;\n  top: -10px;\n  left: 10px;\n  background: #fff;\n  color: #DCDFE6;\n}\n.el-cascader[data-v-6862313d] {\n  width: 100%;\n}\n",""])},iV5U:function(e,t,a){var s=a("bWgi");"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);a("rjj0")("2a90d14a",s,!0)},"uh/6":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("mvHQ"),n=a.n(s),r=a("Q5rI"),i=a("jlNU"),l=a("gu65"),d=a("ms7A"),o=a("5ybE"),p={data:function(){var e=this,t=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[\s\S]{8,16}$/,a=/^1[3456789]\d{9}$/;return{addUserMan:{loginName:"",defaultDeptName:"",defaultDeptId:"",otherUserDepts:[],roles:[],userId:[{userId:-1}],phoneNumber:"",userEmail:"",userName:"",userSex:"",jobNo:"",jobPost:"",jobLevel:"",userStateNum:"",loginPassword:"",personnelResume:""},rules:{loginName:[{required:!0,message:"请输入用户账号",trigger:"blur"}],userName:[{required:!0,message:"请输入用户名",trigger:"blur"}],phoneNumber:[{required:!0,message:"请输入手机号码",trigger:"blur"},{validator:function(e,t,s){if(!a.test(t))return s(new Error("请输入正确格式的手机号码"));s()},trigger:"blur"}],loginPassword:[{required:!0,message:"请输入登录密码",trigger:"blur"},{min:6,max:16,message:"密码长度不能小于6位",trigger:"blur"},{validator:function(e,a,s){if(!t.test(a))return s(new Error("密码要求6-16个字符，至少1个大写字母和1个小写字母"));s()},trigger:"blur"}],reLoginPassword:[{required:!0,message:"请输入确认密码",trigger:"blur"},{min:6,max:16,message:"密码长度不能小于6位",trigger:"blur"},{validator:function(t,a,s){if(a!==e.addUserMan.loginPassword)return s(new Error("两次输入密码不一致!"));s()},trigger:"blur"}],defaultDeptName:[{required:!0,message:"请选择默认部门",trigger:"blur"}],roles:[{required:!0,message:"请选择角色，最少一个",trigger:"blur"}]},circleUrl:"https://cube.elemecdn.com/3/7c/3ea6beec64369c2642b92c6726f1epng.png",userList:[],companyList:[],dialogVisible:!1,deptDialog:!1,successData:!1,roleData:[],defaultProps:{children:"child",label:"roleName",value:"roleId"},defaultPropsDept:{children:"child",label:"deptName",value:"deptId",checked:"selected"},roles:[],deptList:[],tempRoles:[],tempDeptList:[],sucUserList:[],halfDept:[],newDeptList:[],userId:"",resourceCheckedKey:[],defaultRole:[],userLevelList:[],userPositionList:[],detail:!1,isUserStateList:[{value:2,label:"否"},{value:1,label:"是"}],allowAdd:this.authorityControl("SYSTEM:BACKGROUND:MANAGE","SYSTEM:USER_MANAGE:MANAGE","SYSTEM:USER_MAAGE:INSERT"),allowUpdate:this.authorityControl("SYSTEM:BACKGROUND:MANAGE","SYSTEM:USER_MANAGE:MANAGE","SYSTEM:USER_MANAGE:UPDATE"),personnelTagList:[],headImgList:[],bodyImgList:[]}},activated:function(){this.getUserLevelDictory(),this.companyId=this.$store.getters.companyId,this.userId=this.$route.query.userId,this.detail=this.$route.query.detail,this.detail||this.getRoles(),void 0!=this.userId&&""!=this.userId?(this.getUserDetail(),this.getUserDept()):this.getCompanyList()},methods:{getUserLevelDictory:function(){var e=this;Object(r.d)({keyList:"DICT:USER_LEVEL,DICT:USER_POSITION"}).then(function(t){200===t.code&&(e.userLevelList=t.data["DICT:USER_LEVEL"],e.userPositionList=t.data["DICT:USER_POSITION"])}),Object(r.d)({keyList:"DICT:PERSONNEL_TAG",companyId:"697480101377343488"}).then(function(t){200===t.code&&(e.personnelTagList=t.data["DICT:PERSONNEL_TAG"])})},cancelSub:function(){this.companyId="",this.addUserMan.defaultDeptId="",this.addUserMan.defaultDeptName="",this.addUserMan.otherUserDepts=[],this.addUserMan.roles=[],this.addUserMan.userId=[],this.addUserMan.loginName="",this.roles=[],this.deptList=[],this.tempRoles=[],this.tempDeptList=[],this.sucUserList=[],this.closeCurrent(this.$store.state.tagsView.visitedViews,this.$route,"/backend/userManage")},addUserData:function(e){var t=this;if(""!=this.addUserMan.roles&&void 0!=this.addUserMan.roles){if(""!=this.addUserMan.otherUserDepts&&this.addUserMan.otherUserDepts.forEach(function(e){t.addUserMan.defaultDeptId!==e.deptId||t.$message({type:"warning",message:"默认部门跟其他部门不能相冲突！"})}),this.addUserMan.personnelTag&&(this.addUserMan.personnelTag=this.addUserMan.personnelTag.join(",")),this.addUserMan.headImg="",0!==this.headImgList.length){var a=this.headImgList.map(function(e){return e.fileId});this.addUserMan.headImg=a.join(",")}if(this.addUserMan.bodyImg="",0!==this.bodyImgList.length){var s=this.bodyImgList.map(function(e){return e.fileId});this.addUserMan.bodyImg=s.join(",")}this.$refs[e].validate(function(e,a){if(!e)return!1;Object(d.a)(t.addUserMan).then(function(e){200==e.code?(t.companyId="",t.addUserMan.defaultDeptId="",t.addUserMan.defaultDeptName="",t.addUserMan.otherUserDepts=[],t.addUserMan.roles=[],t.addUserMan.userId=[],t.addUserMan.loginName="",t.roles=[],t.deptList=[],t.tempRoles=[],t.tempDeptList=[],t.sucUserList=[],t.closeCurrent(t.$store.state.tagsView.visitedViews,t.$route,"/backend/userManage")):t.$message({type:"error",message:e.message})})})}else this.$message({type:"warning",message:"请选择角色"})},editSubmit:function(){var e=this;if(""!=this.addUserMan.defaultDeptId&&void 0!=this.addUserMan.defaultDeptId)if(""!=this.addUserMan.roles&&void 0!=this.addUserMan.roles){""!=this.addUserMan.otherUserDepts&&this.addUserMan.otherUserDepts.forEach(function(t){e.addUserMan.defaultDeptId!==t.deptId||e.$message({type:"warning",message:"默认部门跟其他部门不能相冲突！"})});var t={userId:this.userId};if(this.addUserMan.userId=[],this.addUserMan.userId.push(t),this.addUserMan.personnelTag&&(this.addUserMan.personnelTag=this.addUserMan.personnelTag.join(",")),this.addUserMan.headImg="",0!==this.headImgList.length){var a=this.headImgList.map(function(e){return e.fileId});this.addUserMan.headImg=a.join(",")}if(this.addUserMan.bodyImg="",0!==this.bodyImgList.length){var s=this.bodyImgList.map(function(e){return e.fileId});this.addUserMan.bodyImg=s.join(",")}Object(d.e)(this.addUserMan).then(function(t){200==t.code?(e.$message({type:"success",message:"修改成功"}),e.companyId="",e.addUserMan.defaultDeptId="",e.addUserMan.defaultDeptName="",e.addUserMan.otherUserDepts=[],e.addUserMan.roles=[],e.addUserMan.userId=[],e.addUserMan.loginName="",e.addUserMan.jobNo="",e.addUserMan.jobLevel="",e.addUserMan.jobPost="",e.roles=[],e.deptList=[],e.tempRoles=[],e.tempDeptList=[],e.sucUserList=[],e.closeCurrent(e.$store.state.tagsView.visitedViews,e.$route,"/backend/userManage")):e.$message({type:"error",message:t.message})})}else this.$message({type:"warning",message:"请选择角色"});else this.$message({type:"warning",message:"请选择默认部门"})},chooseDept:function(e){if(void 0!=e){var t=e[e.length-1],a=this.$refs.deptName.getCheckedNodes()[0].label;this.addUserMan.defaultDeptId=t,this.addUserMan.defaultDeptName=a}},getCompanyList:function(){var e=this;Object(o.f)({}).then(function(t){e.companyList=t.data.deptInfoTreeVos,e.companyName=t.data.companyName,e.companyId=t.data.companyId})},addRoles:function(){this.dialogVisible=!0,this.getRoles()},getRoles:function(){var e=this,t={companyId:this.companyId,userId:this.userId};Object(d.f)(t).then(function(t){200==t.code?(e.roleData=t.data,e.findAllChildren(e.roleData,e.defaultRole)):e.$message({type:"error",message:t.message})})},handleCheckChange:function(e,t,a){this.tempRoles=this.$refs.role.getHalfCheckedNodes().concat(this.$refs.role.getCheckedNodes()),""!=this.tempRoles&&(this.defaultRole=[])},deleteRole:function(e,t){this.roles.splice(t,1);for(var a=[],s=0;s<this.roles.length;s++)a.push(this.roles[s].roleId);this.$refs.role.setCheckedKeys(a)},addDepts:function(){this.deptDialog=!0},checkChangeDept:function(e,t,a){this.tempDeptList=this.$refs.dept.getHalfCheckedNodes().concat(this.$refs.dept.getCheckedNodes()),""!=this.tempDeptList&&(this.resourceCheckedKey=[])},deleteDeptBox:function(e){this.deptList.splice(e,1);for(var t=[],a=0;a<this.deptList.length;a++)t.push(this.deptList[a].deptId);this.$refs.dept.setCheckedKeys(t)},cancelDialog:function(e){0==e?this.dialogVisible=!1:this.deptDialog=!1},okChoose:function(e){if(0==e)if(this.dialogVisible=!1,0!=this.defaultRole.length)n()(this.$refs.role.getCheckedNodes());else{var t=n()(this.tempRoles);this.roles=JSON.parse(t),this.addUserMan.roles=this.roles}else if(this.deptDialog=!1,0!=this.resourceCheckedKey.length)n()(this.$refs.dept.getCheckedNodes());else{var a=n()(this.tempDeptList);this.deptList=JSON.parse(a),this.addUserMan.otherUserDepts=this.deptList}},getUserDetail:function(){var e=this,t={companyId:this.companyId,userId:this.userId};Object(d.h)(t).then(function(t){if(200==t.code){var a=JSON.parse(n()(t.data));if(e.addUserMan=t.data,e.addUserMan.loginName=t.data.loginName,e.addUserMan.defaultDeptName=t.data.defaultDeptName,e.addUserMan.defaultDeptId=t.data.defaultDeptId,e.addUserMan.otherUserDepts=t.data.userDeptViewVos,e.addUserMan.roles=t.data.userRoleViewVos,e.addUserMan.phoneNumber=t.data.phoneNumber,e.addUserMan.userEmail=t.data.userEmail,e.addUserMan.userName=t.data.userName,t.data.userSex&&(e.addUserMan.userSex=JSON.parse(t.data.userSex)),e.addUserMan.jobNo=a.jobNo,e.$set(e.addUserMan,"userStateNum",a.stateNum),e.$set(e.addUserMan,"jobPost",a.jobPost),e.$set(e.addUserMan,"jobLevel",a.jobLevel),e.deptList=t.data.userDeptViewVos,e.roles=t.data.userRoleViewVos,e.addUserMan.personnelTag&&(e.addUserMan.personnelTag=t.data.personnelTag?t.data.personnelTag.split(","):[]),t.data.headImg&&""!==t.data.headImg){var s=t.data.headImg.split(",");Object(r.k)({fileIds:s,haveView:!0}).then(function(t){200==t.code?(t.data.forEach(function(e){e.isShowDan=!1}),e.headImgList=t.data):e.$message.warning(t.message)})}if(t.data.bodyImg&&""!==t.data.bodyImg){var i=t.data.bodyImg.split(",");Object(r.k)({fileIds:i,haveView:!0}).then(function(t){200==t.code?(t.data.forEach(function(e){e.isShowDan=!1}),e.bodyImgList=t.data):e.$message.warning(t.message)})}}else e.$message({type:"error",message:t.message})})},getUserDept:function(){var e=this,t={companyId:this.companyId,userId:this.userId};Object(o.h)(t).then(function(t){200==t.code?(e.companyList=t.data,e.findAllChildren(e.companyList,e.resourceCheckedKey)):e.$message({type:"error",message:t.message})})},findAllChildren:function(e,t){var a=this;e.forEach(function(e,s){e.child&&0!==e.child.length&&a.findAllChildren(e.child,t),1==e.selected&&(e.roleId?t.push(e.roleId):t.push(e.deptId))})},handleCheckHeadImgUpload:function(e){var t=this;if(e.file.name.length>=150)return this.$message.error("文件名称超长，请检查"),void(this.headImgList=JSON.parse(n()(this.headImgList)));var a=e.file.name.split("."),s=Object(l.f)(this.$store.getters.companyName,"头像",a[0])+"."+a[a.length-1];Object(i.a)(s,e.file,e).then(function(n){if(n){var i=[],l={fileName:e.file.name,filePath:s,fileSize:e.file.size,fileType:a[a.length-1],parentType:4};i.push(l);var d={companyId:t.$store.getters.companyId,companyName:t.$store.getters.companyName,addFileDtos:i,haveView:!0};Object(r.a)(d).then(function(e){200==e.code&&(t.$message.success("上传成功"),e.data[0].isShowDan=!1,t.headImgList=e.data)})}})},filesHeadImgOver:function(e){this.headImgList[e].isShowDan=!0},filesHeadImgOut:function(e){this.headImgList[e].isShowDan=!1},handleCheckBodyImgUpload:function(e){var t=this;if(e.file.name.length>=150)return this.$message.error("文件名称超长，请检查"),void(this.bodyImgList=JSON.parse(n()(this.bodyImgList)));var a=e.file.name.split("."),s=Object(l.f)(this.$store.getters.companyName,"全身照",a[0])+"."+a[a.length-1];Object(i.a)(s,e.file,e).then(function(n){if(n){var i=[],l={fileName:e.file.name,filePath:s,fileSize:e.file.size,fileType:a[a.length-1],parentType:4};i.push(l);var d={companyId:t.$store.getters.companyId,companyName:t.$store.getters.companyName,addFileDtos:i,haveView:!0};Object(r.a)(d).then(function(e){200==e.code&&(t.$message.success("上传成功"),e.data[0].isShowDan=!1,t.bodyImgList=e.data)})}})},filesBodyImgOver:function(e){this.bodyImgList[e].isShowDan=!0},filesBodyImgOut:function(e){this.bodyImgList[e].isShowDan=!1}}},c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-card",{staticClass:"box-card box-margin"},[a("div",{staticClass:"clearfix headerTop",attrs:{slot:"header"},slot:"header"},[a("span",[e._v(e._s(""==e.userId||void 0==e.userId?"添加用户":"编辑用户"))])]),e._v(" "),a("div",{staticClass:"addUserContent"},[a("el-form",{ref:"addUserMan",staticClass:"demo-ruleForm",attrs:{model:e.addUserMan,rules:e.rules}},[a("div",[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"用户账号:",prop:"loginName"}},[void 0==e.userId||""==e.userId?a("el-input",{attrs:{maxlength:"50",placeholder:"请输入用户账号"},model:{value:e.addUserMan.loginName,callback:function(t){e.$set(e.addUserMan,"loginName","string"==typeof t?t.trim():t)},expression:"addUserMan.loginName"}}):a("span",[e._v(e._s(e.addUserMan.loginName))])],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"用户名称:",prop:"userName"}},[void 0==e.userId||""==e.userId?a("el-input",{attrs:{maxlength:"50",placeholder:"请输入用户名"},model:{value:e.addUserMan.userName,callback:function(t){e.$set(e.addUserMan,"userName","string"==typeof t?t.trim():t)},expression:"addUserMan.userName"}}):a("span",[e._v(e._s(e.addUserMan.userName))])],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"手机号码:",prop:"phoneNumber"}},[void 0==e.userId||""==e.userId?a("el-input",{attrs:{type:"number",maxlength:"11",placeholder:"请输入手机号码"},model:{value:e.addUserMan.phoneNumber,callback:function(t){e.$set(e.addUserMan,"phoneNumber","string"==typeof t?t.trim():t)},expression:"addUserMan.phoneNumber"}}):a("span",[e._v(e._s(e.addUserMan.phoneNumber))])],1)],1)],1),e._v(" "),void 0==e.userId||""==e.userId?a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"登录密码:",prop:"loginPassword"}},[a("el-input",{attrs:{type:"password",maxlength:"16",placeholder:"请输入登录密码"},model:{value:e.addUserMan.loginPassword,callback:function(t){e.$set(e.addUserMan,"loginPassword","string"==typeof t?t.trim():t)},expression:"addUserMan.loginPassword"}})],1)],1)],1):e._e(),e._v(" "),void 0==e.userId||""==e.userId?a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"确认密码:",prop:"reLoginPassword"}},[a("el-input",{attrs:{type:"password",maxlength:"16",placeholder:"请再次确认密码"},model:{value:e.addUserMan.reLoginPassword,callback:function(t){e.$set(e.addUserMan,"reLoginPassword","string"==typeof t?t.trim():t)},expression:"addUserMan.reLoginPassword"}})],1)],1)],1):e._e(),e._v(" "),a("el-row",[a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"性别:",prop:"userSex"}},[void 0==e.userId||""==e.userId?a("el-radio-group",{model:{value:e.addUserMan.userSex,callback:function(t){e.$set(e.addUserMan,"userSex",t)},expression:"addUserMan.userSex"}},[a("el-radio",{attrs:{label:1}},[e._v("男")]),e._v(" "),a("el-radio",{attrs:{label:0}},[e._v("女")])],1):a("span",[e._v(e._s(1==e.addUserMan.userSex?"男":0==e.addUserMan.userSex?"女":"-"))])],1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"默认部门:",prop:"defaultDeptName"}},[e.detail?a("span",[e._v(e._s(e.addUserMan.defaultDeptName))]):a("el-cascader",{ref:"deptName",attrs:{size:"small",placeholder:"默认部门",options:e.companyList,props:{checkStrictly:!0,value:"deptId",label:"deptName",children:"child"},clearable:""},on:{change:e.chooseDept},model:{value:e.addUserMan.defaultDeptId,callback:function(t){e.$set(e.addUserMan,"defaultDeptId",t)},expression:"addUserMan.defaultDeptId"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"其他部门:",prop:"otherUserDepts"}},[a("div",{staticClass:"addRoleDept"},[a("div",{staticClass:"otherDept"},e._l(e.deptList,function(t,s){return a("div",{key:s,staticClass:"chooseBox"},[a("span",[e._v(e._s(t.deptName))]),e._v(" "),e.detail?e._e():a("i",{staticClass:"el-icon-close",on:{click:function(t){return e.deleteDeptBox(s)}}})])}),0),e._v(" "),e.detail?e._e():a("el-button",{staticClass:"addBtn",attrs:{size:"small",type:"primary"},on:{click:e.addDepts}},[e._v("+")])],1)])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"角色:",prop:"roles"}},[a("div",{staticClass:"addRoleDept"},[a("div",{staticClass:"otherDept"},e._l(e.roles,function(t,s){return a("div",{key:s,staticClass:"chooseBox"},[a("span",[e._v(e._s(t.roleName))]),e._v(" "),e.detail?e._e():a("i",{staticClass:"el-icon-close",on:{click:function(a){return e.deleteRole(t,s)}}})])}),0),e._v(" "),e.detail?e._e():a("el-button",{staticClass:"addBtn",attrs:{size:"small",type:"primary"},on:{click:e.addRoles}},[e._v("+")])],1)])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"工号:",prop:"jobNo"}},[a("el-input",{attrs:{placeholder:"请输入工号",maxlength:"10"},model:{value:e.addUserMan.jobNo,callback:function(t){e.$set(e.addUserMan,"jobNo","string"==typeof t?t.trim():t)},expression:"addUserMan.jobNo"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"级别:",prop:"jobLevel"}},[a("el-select",{model:{value:e.addUserMan.jobLevel,callback:function(t){e.$set(e.addUserMan,"jobLevel",t)},expression:"addUserMan.jobLevel"}},e._l(e.userLevelList,function(e){return a("el-option",{key:e.dictId,attrs:{label:e.dictName,value:e.dictId}})}),1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"岗位:",prop:"jobPost"}},[a("el-select",{model:{value:e.addUserMan.jobPost,callback:function(t){e.$set(e.addUserMan,"jobPost",t)},expression:"addUserMan.jobPost"}},e._l(e.userPositionList,function(e){return a("el-option",{key:e.dictId,attrs:{label:e.dictName,value:e.dictId}})}),1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"是否在职:"}},[a("el-select",{model:{value:e.addUserMan.userStateNum,callback:function(t){e.$set(e.addUserMan,"userStateNum",t)},expression:"addUserMan.userStateNum"}},e._l(e.isUserStateList,function(e){return a("el-option",{key:e.value,attrs:{value:e.value,label:e.label}})}),1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"用户标签:"}},[a("el-select",{attrs:{placeholder:"用户标签",clearable:"",multiple:""},model:{value:e.addUserMan.personnelTag,callback:function(t){e.$set(e.addUserMan,"personnelTag",t)},expression:"addUserMan.personnelTag"}},e._l(e.personnelTagList,function(e){return a("el-option",{key:e.dictId,attrs:{label:e.dictName,value:e.dictId}})}),1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"简历:"}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"字符长度",placement:"bottom-end"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入简历,不得超过800字符",maxlength:"800"},model:{value:e.addUserMan.personnelResume,callback:function(t){e.$set(e.addUserMan,"personnelResume",t)},expression:"addUserMan.personnelResume"}})],1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"头像:"}},[a("div",{staticStyle:{display:"flex","align-items":"center"}},[a("ul",{staticClass:"file-list",staticStyle:{margin:"0",padding:"0"}},e._l(e.headImgList,function(t,s){return a("li",{on:{mousemove:function(t){return e.filesHeadImgOver(s)},mouseout:function(t){return e.filesHeadImgOut(s)}}},[a("el-image",{staticStyle:{width:"100px",height:"100px","line-height":"110px"},attrs:{src:t.fileUrl,"preview-src-list":[t.fileUrl],fit:"cover"},on:{click:function(e){e.stopPropagation()}}})],1)}),0),e._v(" "),a("el-upload",{staticClass:"upload-pic",attrs:{"http-request":e.handleCheckHeadImgUpload,"file-list":e.headImgList,"show-file-list":!1,action:"",accept:".jpg,.png,.JPG,.JPEG"}},[a("i",{staticClass:"icon-plus el-icon-plus"})])],1)])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"全身照:"}},[a("div",{staticStyle:{display:"flex","align-items":"center"}},[a("ul",{staticClass:"file-list",staticStyle:{margin:"0",padding:"0"}},e._l(e.bodyImgList,function(t,s){return a("li",{on:{mousemove:function(t){return e.filesBodyImgOver(s)},mouseout:function(t){return e.filesBodyImgOut(s)}}},[a("el-image",{staticStyle:{width:"100px",height:"100px","line-height":"110px"},attrs:{src:t.fileUrl,"preview-src-list":[t.fileUrl],fit:"cover"},on:{click:function(e){e.stopPropagation()}}})],1)}),0),e._v(" "),a("el-upload",{staticClass:"upload-pic",attrs:{"http-request":e.handleCheckBodyImgUpload,"file-list":e.bodyImgList,"show-file-list":!1,action:"",accept:".jpg,.png,.JPG,.JPEG"}},[a("i",{staticClass:"icon-plus el-icon-plus"})])],1)])],1)],1)],1)],1)]),e._v(" "),a("div",{staticClass:"btnList"},[""==e.userId||void 0==e.userId&&!e.detail&&e.allowAdd.twoAllow?a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.addUserData("addUserMan")}}},[e._v("确定\n      ")]):e._e(),e._v(" "),""!=e.userId&&void 0!=e.userId&&!e.detail&&e.allowUpdate.twoAllow?a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.editSubmit("addUserMan")}}},[e._v("修改\n      ")]):e._e(),e._v(" "),a("el-button",{attrs:{size:"small"},on:{click:e.cancelSub}},[e._v("取消")])],1),e._v(" "),a("el-dialog",{attrs:{title:"添加部门",visible:e.deptDialog,width:"40%"},on:{"update:visible":function(t){e.deptDialog=t}}},[a("el-tree",{ref:"dept",attrs:{data:e.companyList,"show-checkbox":"","node-key":"deptId","highlight-current":"",props:e.defaultPropsDept,"default-checked-keys":e.resourceCheckedKey},on:{"check-change":e.checkChangeDept}}),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){return e.cancelDialog(1)}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.okChoose(1)}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"添加角色",visible:e.dialogVisible,width:"40%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-tree",{ref:"role",attrs:{data:e.roleData,"show-checkbox":"","node-key":"roleId","highlight-current":"",props:e.defaultProps,"default-checked-keys":e.defaultRole},on:{"check-change":e.handleCheckChange}}),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){return e.cancelDialog(0)}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.okChoose(0)}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"用户列表",visible:e.successData,width:"50%"},on:{"update:visible":function(t){e.successData=t}}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.sucUserList}},[a("el-table-column",{attrs:{prop:"loginName",label:"登陆账号",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"userName",label:"用户名",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"userSex",label:"性别",width:"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(1==t.row.userSex?"男":"女"))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"phoneNumber",label:"手机号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"userEmail",label:"邮箱"}}),e._v(" "),a("el-table-column",{attrs:{label:"提示"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(1==t.row.existUser?"该公司已存在此用户":"添加成功"))])]}}])})],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.userOkadd}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var u=a("VU/8")(p,c,!1,function(e){a("iV5U")},"data-v-6862313d",null);t.default=u.exports}});