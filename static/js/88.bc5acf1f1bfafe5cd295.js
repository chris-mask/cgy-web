webpackJsonp([88],{CA7k:function(t,e,n){(t.exports=n("FZ+f")(!0)).push([t.i,"\n.searchCont[data-v-3a70cd68] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n}\n.searchCont .searchLeft[data-v-3a70cd68] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n}\n[data-v-3a70cd68] .el-input {\n  width: auto;\n  margin-right: 10px;\n}\n[data-v-3a70cd68] .el-table {\n  border: #d9f2ff 1px solid !important;\n}\n[data-v-3a70cd68] .el-table th.gutter {\n  display: table-cell !important;\n}\n[data-v-3a70cd68] .el-table--border th,[data-v-3a70cd68] .el-table th {\n  background: #2CB1F5 !important;\n  color: #fff;\n  font-weight: 400;\n  border-right: 1px solid rgba(220, 223, 230, 0.21);\n  padding: 7px 0;\n}\n[data-v-3a70cd68] .el-table__row:nth-child(even) {\n  background: #ebf8ff !important;\n  border: 1px solid rgba(0, 141, 214, 0.26666667);\n}\n[data-v-3a70cd68] .el-table--border td {\n  border: none;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n}\n[data-v-3a70cd68] .el-table--border td:first-child {\n  border-right: #d9f2ff 1px solid !important;\n}\n[data-v-3a70cd68] .el-table--border td:last-child {\n  border-left: #d9f2ff 1px solid !important;\n}\n.spanButton[data-v-3a70cd68] {\n  color: #05AAFF;\n}\n.shu[data-v-3a70cd68] {\n  margin: 0 10px;\n  color: #ccc;\n}\n.col_red[data-v-3a70cd68] {\n  color: #FF6B6B !important;\n}\n.col_red[data-v-3a70cd68]:hover {\n  opacity: 0.5;\n}\n.col_skyblue[data-v-3a70cd68] {\n  color: #05AAFF !important;\n}\n.col_skyblue[data-v-3a70cd68]:hover {\n  opacity: 0.5;\n}\n.colUpDown[data-v-3a70cd68] {\n  color: #FD903C !important;\n}\n.colUpDown[data-v-3a70cd68]:hover {\n  opacity: 0.5;\n}\n.chooseCompany[data-v-3a70cd68] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  margin-bottom: 10px;\n}\n[data-v-3a70cd68] .el-select {\n  /*margin-right: 10px;*/\n}\n.noMore[data-v-3a70cd68] {\n  text-align: center;\n  font-size: 14px;\n  padding: 10px 0;\n  cursor: pointer;\n}\n[data-v-3a70cd68] .el-dialog__header {\n  background: #05AAFF;\n  padding: 20px;\n}\n[data-v-3a70cd68] .el-dialog__header /deep/ .el-dialog__title {\n  color: #fff;\n  font-size: 16px;\n}\n[data-v-3a70cd68] .el-dialog__header /deep/ .el-dialog__headerbtn {\n  border-radius: 50%;\n  background: #fff;\n  padding: 4px;\n  font-size: 12px;\n  font-weight: 400;\n}\n[data-v-3a70cd68] .el-dialog__header /deep/ .el-dialog__headerbtn /deep/ .el-dialog__close {\n  color: #05AAFF;\n}\n[data-v-3a70cd68] .el-dialog__body {\n  padding: 10px 20px;\n}\n[data-v-3a70cd68] .el-dialog__footer {\n  text-align: center;\n}\n[data-v-3a70cd68] .el-dialog__footer /deep/ .el-button {\n  border-radius: 2px;\n  height: 36px;\n  line-height: 36px;\n  padding: 0 20px;\n}\n","",{version:3,sources:["H:/chengguoyun-web/src/views/policy/projectManage/matchingCompany.vue"],names:[],mappings:";AACA;EACE,qBAAqB;EACrB,qBAAqB;EACrB,cAAc;EACd,0BAA0B;MACtB,uBAAuB;UACnB,oBAAoB;EAC5B,0BAA0B;MACtB,uBAAuB;UACnB,+BAA+B;CACxC;AACD;EACE,qBAAqB;EACrB,qBAAqB;EACrB,cAAc;CACf;AACD;EACE,YAAY;EACZ,mBAAmB;CACpB;AACD;EACE,qCAAqC;CACtC;AACD;EACE,+BAA+B;CAChC;AACD;EACE,+BAA+B;EAC/B,YAAY;EACZ,iBAAiB;EACjB,kDAAkD;EAClD,eAAe;CAChB;AACD;EACE,+BAA+B;EAC/B,gDAAgD;CACjD;AACD;EACE,aAAa;EACb,+BAA+B;UACvB,uBAAuB;CAChC;AACD;EACE,2CAA2C;CAC5C;AACD;EACE,0CAA0C;CAC3C;AACD;EACE,eAAe;CAChB;AACD;EACE,eAAe;EACf,YAAY;CACb;AACD;EACE,0BAA0B;CAC3B;AACD;EACE,aAAa;CACd;AACD;EACE,0BAA0B;CAC3B;AACD;EACE,aAAa;CACd;AACD;EACE,0BAA0B;CAC3B;AACD;EACE,aAAa;CACd;AACD;EACE,qBAAqB;EACrB,qBAAqB;EACrB,cAAc;EACd,oBAAoB;CACrB;AACD;EACE,uBAAuB;CACxB;AACD;EACE,mBAAmB;EACnB,gBAAgB;EAChB,gBAAgB;EAChB,gBAAgB;CACjB;AACD;EACE,oBAAoB;EACpB,cAAc;CACf;AACD;EACE,YAAY;EACZ,gBAAgB;CACjB;AACD;EACE,mBAAmB;EACnB,iBAAiB;EACjB,aAAa;EACb,gBAAgB;EAChB,iBAAiB;CAClB;AACD;EACE,eAAe;CAChB;AACD;EACE,mBAAmB;CACpB;AACD;EACE,mBAAmB;CACpB;AACD;EACE,mBAAmB;EACnB,aAAa;EACb,kBAAkB;EAClB,gBAAgB;CACjB",file:"matchingCompany.vue",sourcesContent:["\n.searchCont[data-v-3a70cd68] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n}\n.searchCont .searchLeft[data-v-3a70cd68] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n}\n[data-v-3a70cd68] .el-input {\n  width: auto;\n  margin-right: 10px;\n}\n[data-v-3a70cd68] .el-table {\n  border: #d9f2ff 1px solid !important;\n}\n[data-v-3a70cd68] .el-table th.gutter {\n  display: table-cell !important;\n}\n[data-v-3a70cd68] .el-table--border th,[data-v-3a70cd68] .el-table th {\n  background: #2CB1F5 !important;\n  color: #fff;\n  font-weight: 400;\n  border-right: 1px solid rgba(220, 223, 230, 0.21);\n  padding: 7px 0;\n}\n[data-v-3a70cd68] .el-table__row:nth-child(even) {\n  background: #ebf8ff !important;\n  border: 1px solid rgba(0, 141, 214, 0.26666667);\n}\n[data-v-3a70cd68] .el-table--border td {\n  border: none;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n}\n[data-v-3a70cd68] .el-table--border td:first-child {\n  border-right: #d9f2ff 1px solid !important;\n}\n[data-v-3a70cd68] .el-table--border td:last-child {\n  border-left: #d9f2ff 1px solid !important;\n}\n.spanButton[data-v-3a70cd68] {\n  color: #05AAFF;\n}\n.shu[data-v-3a70cd68] {\n  margin: 0 10px;\n  color: #ccc;\n}\n.col_red[data-v-3a70cd68] {\n  color: #FF6B6B !important;\n}\n.col_red[data-v-3a70cd68]:hover {\n  opacity: 0.5;\n}\n.col_skyblue[data-v-3a70cd68] {\n  color: #05AAFF !important;\n}\n.col_skyblue[data-v-3a70cd68]:hover {\n  opacity: 0.5;\n}\n.colUpDown[data-v-3a70cd68] {\n  color: #FD903C !important;\n}\n.colUpDown[data-v-3a70cd68]:hover {\n  opacity: 0.5;\n}\n.chooseCompany[data-v-3a70cd68] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  margin-bottom: 10px;\n}\n[data-v-3a70cd68] .el-select {\n  /*margin-right: 10px;*/\n}\n.noMore[data-v-3a70cd68] {\n  text-align: center;\n  font-size: 14px;\n  padding: 10px 0;\n  cursor: pointer;\n}\n[data-v-3a70cd68] .el-dialog__header {\n  background: #05AAFF;\n  padding: 20px;\n}\n[data-v-3a70cd68] .el-dialog__header /deep/ .el-dialog__title {\n  color: #fff;\n  font-size: 16px;\n}\n[data-v-3a70cd68] .el-dialog__header /deep/ .el-dialog__headerbtn {\n  border-radius: 50%;\n  background: #fff;\n  padding: 4px;\n  font-size: 12px;\n  font-weight: 400;\n}\n[data-v-3a70cd68] .el-dialog__header /deep/ .el-dialog__headerbtn /deep/ .el-dialog__close {\n  color: #05AAFF;\n}\n[data-v-3a70cd68] .el-dialog__body {\n  padding: 10px 20px;\n}\n[data-v-3a70cd68] .el-dialog__footer {\n  text-align: center;\n}\n[data-v-3a70cd68] .el-dialog__footer /deep/ .el-button {\n  border-radius: 2px;\n  height: 36px;\n  line-height: 36px;\n  padding: 0 20px;\n}\n"],sourceRoot:""}])},ELlX:function(t,e,n){var a=n("CA7k");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n("rjj0")("ef57f65c",a,!0)},X6Fl:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("rN1C"),o={data:function(){return{projectId:"",noticeId:"",companyList:[],companyName:"",matchingCompanyInfoList:[],dialogVisible:!1,total:0,listQuery:{page:0,pageSize:20,companyPosition:[]},loading:!1,btnFlag:0}},directives:{loadMore:{bind:function(t,e){t.querySelector(".el-select-dropdown .el-select-dropdown__wrap").addEventListener("scroll",function(){this.scrollHeight-this.scrollTop<=this.clientHeight&&e.value()})}}},activated:function(){"notice"==this.$route.query.queryType?(this.noticeId=this.$route.query.id,this.projectId=""):(this.noticeId="",this.projectId=this.$route.query.id),this.getCompanyData(),window.addEventListener("scroll",this.scrollToTop)},destroyed:function(){clearInterval(this.timer),window.removeEventListener("scroll",this.scrollToTop)},methods:{backTop:function(){var t=this,e=setInterval(function(){var n=Math.floor(-t.scrollTop/5);document.documentElement.scrollTop=document.body.scrollTop=t.scrollTop+n,0===t.scrollTop&&clearInterval(e)},16)},scrollToTop:function(){var t=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;this.scrollTop=t,this.scrollTop>0?this.btnFlag=!0:this.btnFlag=!1},pageDown:function(){this.listQuery.page=this.listQuery.page+20,this.getCompanyData()},goSearch:function(){this.listQuery.page=0,this.listQuery.pageSize=20,this.getCompanyData()},getCompanyData:function(){var t=this;this.listQuery.projectId=this.projectId,this.listQuery.noticeId=this.noticeId,Object(a.b)(this.listQuery).then(function(e){200===e.code&&(t.total=e.data.total,t.listQuery.page>0?t.companyList=t.companyList.concat(e.data.data):t.companyList=e.data.data)})},getMatchingCompanyInfo:function(t){var e=this;this.dialogVisible=!0,this.companyName='" '+t.companyName+' "的匹配详情',Object(a.d)({projectId:t.projectId,companyId:t.companyId}).then(function(n){200===n.code&&(e.matchingCompanyInfoList=n.data,e.matchingCompanyInfoList.forEach(function(n){n.projectId=t.projectId,n.noticeId=t.noticeId,n.getScore=n.getScore>0?e.$set(n,"getScore",n.getScore):e.$set(n,"getScore",0),n.isPass=n.isPass>0?e.$set(n,"isPass",1):e.$set(n,"isPass",0)}))})},updateGetScore:function(){var t=this,e=!1,n=0,o=/^\d+$/;this.matchingCompanyInfoList.forEach(function(t){o.test(t.getScore)?n+=Number(t.getScore):e=!0}),e?this.$message.error("已得分必须为正数或0"):n>100?this.$message.error("所有条件总得分不能超过100分"):Object(a.l)(this.matchingCompanyInfoList).then(function(e){200===e.code&&(t.companyName="",t.getCompanyData(),t.$message.success("修改成功"),t.dialogVisible=!1)})}}},i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("el-card",{staticClass:"box-card box-margin",staticStyle:{"margin-bottom":"20px"}},[a("div",{staticClass:"searchCont"},[a("div",{staticClass:"searchLeft"},[a("el-input",{attrs:{size:"small",placeholder:"企业名称/社会信用代码"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.goSearch(e)}},model:{value:t.listQuery.companyName,callback:function(e){t.$set(t.listQuery,"companyName",e)},expression:"listQuery.companyName"}}),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-search"},on:{click:t.goSearch}},[t._v("搜索")])],1)])]),t._v(" "),a("el-card",{staticClass:"box-card box-margin"},[a("div",[a("el-table",{ref:"companyTable",attrs:{data:t.companyList,border:"",fit:"","highlight-current-row":"","row-key":"companyId","reserve-selection":!0}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{align:"center","min-width":"160px",label:"项目名称"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.projectName))])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center","min-width":"160px",label:"企业名称"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.companyName))])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"成立时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.registerTime))])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"得分"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.totalScore))])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"spanButton",on:{click:function(n){return t.getMatchingCompanyInfo(e.row)}}},[t._v("编辑")])]}}])})],1),t._v(" "),t.total-t.companyList.length>0?a("div",{staticClass:"noMore",on:{click:t.pageDown}},[t._v("\n          点击加载更多\n        ")]):a("div",{staticClass:"noMore"},[t._v("没有更多数据了")])],1)]),t._v(" "),a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:t.companyName,visible:t.dialogVisible,width:"80%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-table",{attrs:{data:t.matchingCompanyInfoList,border:"","highlight-current-row":""}},[a("el-table-column",{attrs:{align:"center",label:"所属政策",prop:"noticeName"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.noticeName))])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"条件描述",prop:"conditionDesc"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.conditionDesc))])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"匹配方式",prop:"autoMatch",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.autoMatch?a("span",[t._v("人工判断")]):a("span",[t._v("自动匹配")])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"是否符合",prop:"weightScore",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[1===e.row.isPass?a("span",[t._v("符合")]):a("span",[t._v("不符合")]),t._v(" "),a("span")]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"条件总分",prop:"weightScore",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.weightScore))])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"已得分",prop:"getScore",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{type:"number"},model:{value:e.row.getScore,callback:function(n){t.$set(e.row,"getScore",n)},expression:"scope.row.getScore"}})]}}])})],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"medium"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"medium"},on:{click:t.updateGetScore}},[t._v("修改已得分")])],1)],1),t._v(" "),a("div",{staticStyle:{height:"60px",position:"fixed",bottom:"100px",right:"0",width:"80px"}},[t.btnFlag?a("a",{attrs:{href:"javascript:",target:"_self"},on:{click:t.backTop}},[a("img",{attrs:{src:n("1XGe"),alt:""}})]):t._e()])],1)},staticRenderFns:[]};var l=n("VU/8")(o,i,!1,function(t){n("ELlX")},"data-v-3a70cd68",null);e.default=l.exports}});
//# sourceMappingURL=88.bc5acf1f1bfafe5cd295.js.map