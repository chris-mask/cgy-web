webpackJsonp([41],{VKyu:function(e,t,i){var a=i("gy60");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);i("rjj0")("69f83a8e",a,!0)},gy60:function(e,t,i){(e.exports=i("FZ+f")(!1)).push([e.i,"\n.body[data-v-0b8f462a] {\n  width: 100%;\n  height: 100px;\n  overflow-y: hidden;\n  font-size: 12px;\n}\n.order_number[data-v-0b8f462a] {\n  width: 20px;\n  margin-top: 5px;\n  color: #ffffff;\n}\n.line-height-30[data-v-0b8f462a] {\n  height: 30px;\n  line-height: 30px;\n}\n.ul-li[data-v-0b8f462a] {\n  list-style-type: none;\n  text-align: left;\n  margin-bottom: 15px;\n}\n.ul-ul li[data-v-0b8f462a]:first-child {\n  margin-left: 0;\n}\n.ul-li-left-margin[data-v-0b8f462a] {\n  margin-left: 2%;\n}\n.width-0-2[data-v-0b8f462a] {\n  width: 20%;\n}\n.width-0-3[data-v-0b8f462a] {\n  width: 30%;\n}\n.width-0-5[data-v-0b8f462a] {\n  width: 50%;\n}\nwidth-0-6[data-v-0b8f462a] {\n  width: 60%;\n}\n.input-90[data-v-0b8f462a] {\n  width: 90px;\n}\n.input-100[data-v-0b8f462a] {\n  width: 100px;\n}\n.input-120[data-v-0b8f462a] {\n  width: 120px;\n}\n.input-150[data-v-0b8f462a] {\n  width: 150px;\n  text-align: right;\n}\n.input-180[data-v-0b8f462a] {\n  width: 180px;\n}\n.input-200[data-v-0b8f462a] {\n  width: 200px;\n}\n.input-240[data-v-0b8f462a] {\n  width: 240px;\n}\n.input-360[data-v-0b8f462a] {\n  width: 360px;\n}\n.input-460[data-v-0b8f462a] {\n  width: 460px;\n}\n.span-input[data-v-0b8f462a] {\n  font-size: 14px;\n  height: 28px;\n  line-height: 28px;\n  position: relative;\n}\n.overflow-x[data-v-0b8f462a] {\n  overflow-x: hidden;\n}\n.overflow-y[data-v-0b8f462a] {\n  overflow-y: hidden;\n}\n.dq[data-v-0b8f462a] {\n  width: 28%;\n  height: 18px;\n  line-height: 18px;\n}\n.bg_dq[data-v-0b8f462a] {\n  padding: 2px 10px;\n  background-color: #CDEEFF;\n}\n.zy[data-v-0b8f462a] {\n  width: 65%;\n  height: 18px;\n  line-height: 18px;\n}\n.bg_zy[data-v-0b8f462a] {\n  padding: 2px 10px;\n  background-color: #DEE6FF;\n  color: #88A0E9;\n}\n.color-05[data-v-0b8f462a] {\n  color: #05AAFF;\n}\n.color-F5[data-v-0b8f462a] {\n  color: #F56C6C;\n}\n.inline-block[data-v-0b8f462a] {\n  display: inline-block;\n}\n.text-align-center[data-v-0b8f462a] {\n  text-align: center;\n}\n.hover_cursor[data-v-0b8f462a] {\n  cursor: pointer;\n}\n.hover_cursor[data-v-0b8f462a] :hover {\n  color: #05AAFF;\n}\n.top-margin-20[data-v-0b8f462a] {\n  margin-top: 20px;\n}\n.top-margin-10[data-v-0b8f462a] {\n  margin-top: 10px;\n}\n.left-margin-5[data-v-0b8f462a] {\n  margin-left: 5px;\n}\n.left-margin-10[data-v-0b8f462a] {\n  margin-left: 10px;\n}\n.bottom-margin-30[data-v-0b8f462a] {\n  margin-bottom: 30px;\n}\n.left-margin-50[data-v-0b8f462a] {\n  margin-left: 50px;\n}\n.left-margin-20[data-v-0b8f462a] {\n  margin-left: 20px;\n}\n.right-margin-10[data-v-0b8f462a] {\n  margin-right: 10px;\n}\n.padding-0[data-v-0b8f462a] {\n  padding: 0;\n}\n.padding-10[data-v-0b8f462a] {\n  padding: 10px;\n}\n.padding-20[data-v-0b8f462a] {\n  padding: 20px;\n}\n.hot-search[data-v-0b8f462a] {\n  width: 48px;\n  height: 17px;\n  font-family: PingFang SC;\n  font-weight: 400;\n  line-height: 17px;\n  color: #042b40;\n  opacity: 1;\n}\n.hot-search-kw[data-v-0b8f462a] {\n  margin: auto 10px;\n  width: 24px;\n  height: 16px;\n  font-size: 12px;\n  font-family: Microsoft YaHei;\n  font-weight: 400;\n  line-height: 16px;\n  color: #979797;\n  opacity: 1;\n}\n.center-items[data-v-0b8f462a] {\n  text-align: center;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n.row-width-auto-margin-0-90[data-v-0b8f462a] {\n  width: auto;\n  margin: auto 5%;\n  min-width: 960px;\n}\n.search-background[data-v-0b8f462a] {\n  background-color: #3ABBFD;\n  border: none;\n  color: white;\n}\n.float-right[data-v-0b8f462a] {\n  float: right;\n}\n.float-left[data-v-0b8f462a] {\n  float: left;\n}\n.padding-vertical-5[data-v-0b8f462a] {\n  padding: 5px 0;\n}\n.padding-vertical-10[data-v-0b8f462a] {\n  padding: 10px 0;\n}\n.padding-level-10[data-v-0b8f462a] {\n  padding: 0 10px;\n}\n.bg_orange[data-v-0b8f462a] {\n  background: #FD903C;\n  color: #fff;\n}\n.bg_orange[data-v-0b8f462a]:hover {\n  background: #FD903C;\n  opacity: 0.5;\n}\n.bg_pale_pink[data-v-0b8f462a] {\n  background: #fe95b2;\n  color: #ffffff;\n}\n.bg_pale_pink[data-v-0b8f462a]:hover {\n  background: rgba(254, 149, 178, 0.5);\n}\n.bg_pale_green[data-v-0b8f462a] {\n  background: #91e5a1;\n  color: #ffffff;\n}\n.bg_pale_green[data-v-0b8f462a]:hover {\n  background: rgba(145, 229, 161, 0.5);\n}\n.bg_pink[data-v-0b8f462a] {\n  background: #ff709a;\n  color: #fff;\n}\n.bg_pink[data-v-0b8f462a]:hover {\n  background: rgba(255, 112, 154, 0.5);\n}\n.bg_pale_yellow[data-v-0b8f462a] {\n  background: #ffcba6;\n  color: #ffffff;\n}\n.bg_pale_yellow[data-v-0b8f462a]:hover {\n  background: rgba(255, 203, 166, 0.5);\n}\n.bg_gray[data-v-0b8f462a] {\n  background: #b4b4b4;\n  color: #ffffff;\n}\n.bg_gray[data-v-0b8f462a]:hover {\n  background: rgba(180, 180, 180, 0.5);\n}\n.bg_blue[data-v-0b8f462a] {\n  background: #05AAFF;\n  color: #fff;\n}\n.bg_blue[data-v-0b8f462a]:hover {\n  background: #05AAFF;\n  opacity: 0.5;\n}\n.bg_pale_blue[data-v-0b8f462a] {\n  background: #32b8ff;\n  color: #ffffff;\n}\n.bg_pale_blue[data-v-0b8f462a]:hover {\n  background: rgba(50, 184, 255, 0.5);\n}\n.bg_pale_orange[data-v-0b8f462a] {\n  background: #ffba88;\n  color: #ffffff;\n}\n.bg_pale_orange[data-v-0b8f462a]:hover {\n  background: rgba(255, 186, 136, 0.5);\n}\n.bg_pale_violet[data-v-0b8f462a] {\n  background: #799cff;\n  color: #ffffff;\n}\n.bg_pale_violet[data-v-0b8f462a]:hover {\n  background: rgba(121, 156, 255, 0.5);\n}\n.ent_shorthand[data-v-0b8f462a] {\n  font-size: 18px;\n  color: #f0f7ff;\n}\n/*--------------*/\n.flex[data-v-0b8f462a] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n}\n.flex-align-center[data-v-0b8f462a] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n.report-list[data-v-0b8f462a] {\n  font-size: 14px;\n  padding: 10px 0;\n}\n.report-list[data-v-0b8f462a] .el-card__body {\n  padding: 0 20px;\n}\n.report-list .list .parent-list[data-v-0b8f462a] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  margin-bottom: 10px;\n}\n.report-list .list .child-list[data-v-0b8f462a] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: start;\n      -ms-flex-align: start;\n          align-items: flex-start;\n  margin-left: 42px;\n}\n.report-list .list .child-list .child[data-v-0b8f462a] {\n  width: 100%;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-wrap: wrap;\n      flex-wrap: wrap;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n.report-list .list .child-list .item[data-v-0b8f462a] {\n  margin-right: 30px;\n  margin-bottom: 10px;\n}\n.report-list .list .child-list .item[data-v-0b8f462a] .el-input__inner {\n  height: 28px;\n}\n.report-list .list .child-list .item .year[data-v-0b8f462a] {\n  width: 100px;\n}\n.report-list .list .child-list .item .year[data-v-0b8f462a] .el-input__icon {\n  line-height: 30px;\n}\n.report-list .list .child-list .item .year[data-v-0b8f462a] .el-input__inner {\n  width: 100px;\n  padding-right: 0;\n}\n.report-list .list .child-list .item .daterpick[data-v-0b8f462a] {\n  width: 140px;\n}\n.report-list .list .child-list .item .daterpick[data-v-0b8f462a] .el-input__icon {\n  line-height: 30px;\n}\n.report-list .list .child-list .item .daterpick[data-v-0b8f462a] .el-range-separator {\n  /*line-height: 26px;*/\n}\n.report-list .list .child-list .item .daterpick[data-v-0b8f462a] .el-input__inner {\n  padding-top: 2px;\n}\n.report-list .list .child-list .item .del[data-v-0b8f462a] {\n  margin-top: 6px;\n  color: red;\n  font-size: 16px;\n  cursor: pointer;\n}\n.report-term-list[data-v-0b8f462a] .el-card__body {\n  padding-top: 5px;\n}\n@media (min-width: 1600px) and (max-width: 1750px) {\n.report-list .child[data-v-0b8f462a] {\n    width: 80% !important;\n}\n}\n@media screen and (max-width: 1600px) {\n.report-list .child[data-v-0b8f462a] {\n    width: 70% !important;\n}\n}\n@media screen and (max-width: 1440px) {\n.report-list .child[data-v-0b8f462a] {\n    width: 70% !important;\n}\n}\n[data-v-0b8f462a] .el-table {\n  border: #d9f2ff 1px solid !important;\n  margin-top: 10px;\n}\n[data-v-0b8f462a] .el-table th.gutter {\n  display: table-cell !important;\n}\n[data-v-0b8f462a] .el-table--border th,[data-v-0b8f462a] .el-table th {\n  background: #2CB1F5 !important;\n  color: #fff;\n  font-weight: 400;\n  border-right: 1px solid rgba(220, 223, 230, 0.21);\n  padding: 7px 0;\n}\n[data-v-0b8f462a] .el-table__row:nth-child(even) {\n  background: #ebf8ff !important;\n  border: 1px solid rgba(0, 141, 214, 0.26666667);\n}\n[data-v-0b8f462a] .el-table--border td {\n  border: none;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n}\n[data-v-0b8f462a] .el-table--border td:first-child {\n  border-right: #d9f2ff 1px solid !important;\n}\n[data-v-0b8f462a] .el-table--border td:last-child {\n  border-left: #d9f2ff 1px solid !important;\n}\n.addProcess[data-v-0b8f462a] {\n  background: #2CB1F5;\n  color: #fff;\n  border-radius: 100%;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  font-size: 12px;\n  width: 20px;\n  height: 20px;\n  cursor: pointer;\n}\n.pic-modal .pic[data-v-0b8f462a] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  max-width: 920px;\n  max-height: 614px;\n  overflow: hidden;\n}\n.pic-modal .pic img[data-v-0b8f462a] {\n  width: auto;\n  height: 100%;\n}\n.el-tag + .el-tag[data-v-0b8f462a] {\n  margin-left: 10px;\n}\n.button-new-tag[data-v-0b8f462a] {\n  margin-left: 10px;\n  height: 32px;\n  line-height: 30px;\n  padding-top: 0;\n  padding-bottom: 0;\n}\n.input-new-tag[data-v-0b8f462a] {\n  width: 90px;\n  margin-left: 10px;\n  vertical-align: bottom;\n}\n",""])},"ou+r":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i("mvHQ"),l=i.n(a),n=i("TIfe"),s=i("rN1C"),o=i("Q5rI"),r=i("MdFA"),c=i("5aCZ"),m=i("jlNU"),d=i("gu65"),p={components:{Tinymce:c.a},props:{},data:function(){return{id:"",field_id:"",filterField:"",activeName:"first",check:!0,ruleForm:{unitPriceBill:null,originalPriceBill:null,channelCommissioBill:null,isOftenApply:0,isOftenProject:0,isPickProject:0,priceType:0,marketCommissioWay:null,projectCommissioWay:null,projectType:null},scheduleState:[],province_list:[],city_list:[],district_list:[],town_list:[],stateList:[],type_list:[],orderTypeList:[{dictId:"0",dictName:"项目型"},{dictId:"1",dictName:"知识产权型"},{dictId:"2",dictName:"财务型"},{dictId:"4",dictName:"项目审计型"}],batchNoList:[{label:"未指定",value:"0"},{label:"第一批",value:"1"},{label:"第二批",value:"2"},{label:"第三批",value:"3"},{label:"第四批",value:"4"},{label:"第五批",value:"5"}],conditionList:[],modelList:[],fieldList:[],currentFieldData:{},fieldVisiable:!1,filterFieldVisiable:!1,itemList:[],can_edit:Object(n.d)(this,"sys-setup/grp-project-mng/edit",""),value3:"",chinaRegion:[],level:3,parentId:0,projectType:"",isOftenApply:"",isOftenProject:"",flowList:[],flowBoxList:[],batchShow:!1,addFlowList:[{}],imgDialogVisible:!1,dialogImageUrl:"",iconFileList:[],imgFileList:[],dynamicTags:[],inputVisible:!1,inputValue:"",allowAdd:this.authorityControl("SYSTEM:POLICY:MANAGE","SYSTEM:PROJECTLIBRARY:MANAGE","SYSTEM:PROJECTLIBRARY:INSERT"),allowUpdate:this.authorityControl("SYSTEM:POLICY:MANAGE","SYSTEM:PROJECTLIBRARY:MANAGE","SYSTEM:PROJECTLIBRARY:UPDATE"),allowDeleteSon:this.authorityControl("SYSTEM:POLICY:MANAGE","SYSTEM:PROJECTLIBRARY:MANAGE","SYSTEM:PROJECTLIBRARY:DELETE:CHILD")}},filters:{},activated:function(){var e=this;this.getCommonData(),this.getFlowList(),this.$route.query.id&&(this.id=this.$route.query.id,setTimeout(function(){e.getDetail()},200)),this.$route.query.check&&(this.check=!1)},methods:{getDetail:function(){var e=this;Object(s.e)({projectId:this.id,page:0,pageSize:10}).then(function(t){if(200==t.code){if(e.ruleForm=JSON.parse(l()(t.data.data[0])),e.check&&e.ruleForm.projectContent&&""!=e.ruleForm.projectContent&&e.$refs.editor.setContent(e.ruleForm.projectContent),0!=t.data.data[0].unitPrice&&t.data.data[0].unitPrice<=1?(e.$set(e.ruleForm,"unitPrice",parseFloat((100*t.data.data[0].unitPrice).toPrecision(12))),e.$set(e.ruleForm,"unitPriceBill","1")):e.$set(e.ruleForm,"unitPriceBill","0"),0!=t.data.data[0].originalPrice&&t.data.data[0].originalPrice<=1?(e.$set(e.ruleForm,"originalPrice",parseFloat((100*t.data.data[0].originalPrice).toPrecision(12))),e.$set(e.ruleForm,"originalPriceBill","1")):t.data.data[0].originalPrice&&""!=t.data.data[0].originalPrice&&e.$set(e.ruleForm,"originalPriceBill","0"),0!=t.data.data[0].salesMinimum&&t.data.data[0].salesMinimum<=1?(e.$set(e.ruleForm,"salesMinimum",parseFloat((100*t.data.data[0].salesMinimum).toPrecision(12))),e.$set(e.ruleForm,"salesMinimumWay","1")):e.$set(e.ruleForm,"salesMinimumWay","0"),0!=t.data.data[0].marketCommissio&&t.data.data[0].marketCommissio<=1?(e.$set(e.ruleForm,"marketCommissio",parseFloat((100*t.data.data[0].marketCommissio).toPrecision(12))),e.$set(e.ruleForm,"marketCommissioWay","1")):e.$set(e.ruleForm,"marketCommissioWay","0"),t.data.data[0].projectCommissioMoneyBill<=1?(e.$set(e.ruleForm,"projectCommissioMoneyBill",parseFloat((100*t.data.data[0].projectCommissioMoneyBill).toPrecision(12))),e.$set(e.ruleForm,"projectCommissioWay","1")):e.$set(e.ruleForm,"projectCommissioWay","0"),t.data.data[0].channelNumber<=1?(e.$set(e.ruleForm,"channelNumber",parseFloat((100*t.data.data[0].channelNumber).toPrecision(12))),e.$set(e.ruleForm,"channelCommissioBill","1")):e.$set(e.ruleForm,"channelCommissioBill","0"),e.ruleForm.engineerCommissio=l()(t.data.data[0].engineerCommissio),t.data.data[0].priceType?e.$set(e.ruleForm,"priceType",t.data.data[0].priceType):e.$set(e.ruleForm,"priceType",0),e.ruleForm.channelCommissioBill=l()(t.data.data[0].channelCommissioBill),e.type_list.forEach(function(i){t.data.data[0].projectType==i.dictId&&(e.ruleForm.projectTypeName=i.dictName,e.projectType=i.dictName)}),1==t.data.data[0].isOftenApply?(e.isOftenApply=!0,e.ruleForm.isOftenApply=1):(e.isOftenApply=!1,e.ruleForm.isOftenApply=0),e.ruleForm.orderType=l()(t.data.data[0].orderType),e.itemList=t.data.data[0].policyProjectAreaVoList,""!=e.itemList?e.itemList.forEach(function(t){e.getRegionList(3,0),t.provinceId&&e.getRegionList(2,t.provinceId,t),t.cityId&&e.getRegionList(1,t.cityId,t),t.districtId&&e.getRegionList(0,t.districtId,t),e.$set(t,"policyProjectYearDtoList",t.policyProjectYearVoList),t.policyProjectYearDtoList.forEach(function(t){e.$set(t,"applyYear",l()(t.applyYear))})}):e.getRegionList(e.level,e.parentId),t.data.data[0].flowId){e.addFlowList=[];t.data.data[0].flowId.split(",").forEach(function(t){e.flowChange(t)})}t.data.data[0].iconFileId&&""!=t.data.data[0].iconFileId&&setTimeout(function(){e.getFileDetail([t.data.data[0].iconFileId],"icon")},300),t.data.data[0].imgFileId&&""!=t.data.data[0].imgFileId&&setTimeout(function(){e.getFileDetail([t.data.data[0].imgFileId],"img")},300),t.data.data[0].projectAlias&&""!=t.data.data[0].projectAlias&&(e.dynamicTags=t.data.data[0].projectAlias.split(","))}else e.$message({type:"error",message:res.message})})},toEdit:function(){this.check=!0},changeProvince:function(e,t){t.cityId=null,t.districtId=null,t.townId=null,t.parentId=e,t.level=2,this.getRegionList(t.level,t.parentId,t)},changeCity:function(e,t){t.districtId=null,t.townId=null,t.parentId=e,t.level=1,this.getRegionList(t.level,t.parentId,t)},changeDistrict:function(e,t){t.townId=null,t.parentId=e,t.level=0,this.getRegionList(t.level,t.parentId,t)},changeTowns:function(e){this.$forceUpdate(e)},saveForm:function(){var e=this,t=[];""!=this.addFlowList&&0!=this.addFlowList.length&&(this.addFlowList.forEach(function(e){e.flowId&&t.push(e.flowId)}),this.ruleForm.flowId=t.join(",")),""!=this.ruleForm.channelNumber&&void 0!=this.ruleForm.channelNumber&&0!=this.ruleForm.channelNumber?""!=this.ruleForm.channelCommissioBill&&void 0!=this.ruleForm.channelCommissioBill?"1"==this.ruleForm.channelCommissioBill&&this.ruleForm.channelNumber>100?this.$message.warning("渠道提成比例不能大于100%"):""!=this.ruleForm.engineerCommissio&&void 0!=this.ruleForm.engineerCommissio?""!==this.ruleForm.marketCommissio&&void 0!==this.ruleForm.marketCommissio&&0!==this.ruleForm.marketCommissio?"1"==this.ruleForm.marketCommissioWay&&this.ruleForm.marketCommissio>100?this.$message.warning("市场部提成比例不能大于100%"):""!=this.ruleForm.marketCommissioWay&&void 0!=this.ruleForm.marketCommissioWay?""!=this.ruleForm.projectName&&void 0!=this.ruleForm.projectName?""!=this.ruleForm.projectCommissioMoneyBill&&void 0!=this.ruleForm.projectCommissioMoneyBill&&0!=this.ruleForm.projectCommissioMoneyBill?"1"==this.ruleForm.projectCommissioWay&&this.ruleForm.projectCommissioMoneyBill>100?this.$message.warning("项目部提成比例不能大于100%"):""!=this.ruleForm.projectCommissioWay&&void 0!=this.ruleForm.projectCommissioWay?""!=this.ruleForm.projectType&&void 0!=this.ruleForm.projectType?""!=this.ruleForm.orderType&&void 0!=this.ruleForm.orderType?""!=this.ruleForm.salesMinimum&&void 0!=this.ruleForm.salesMinimum&&0!=this.ruleForm.salesMinimum?"1"==this.ruleForm.salesMinimumWay&&this.ruleForm.salesMinimum>100?this.$message.warning("销售保底价比例不能大于100%"):""!==this.ruleForm.unitPrice&&void 0!==this.ruleForm.unitPrice?"1"==this.ruleForm.unitPriceBill&&this.ruleForm.unitPrice>100?this.$message.warning("单价比例不能大于100%"):"1"==this.ruleForm.originalPriceBill&&this.ruleForm.originalPrice>100?this.$message.warning("原价比例不能大于100%"):"0"!=this.ruleForm.originalPriceBill||""!==this.ruleForm.originalPrice&&void 0!==this.ruleForm.originalPrice&&0!=this.ruleForm.originalPrice?""!=this.ruleForm.flowId&&void 0!=this.ruleForm.flowId?(this.itemList.forEach(function(t){if(delete t.policyProjectYearVoList,delete t.city_list,delete t.district_list,delete t.town_list,""==t.areaLevel||void 0==t.areaLevel)throw e.$message.warning("请选择级别"),new Error;if(""==t.provinceId||void 0==t.provinceId)throw e.$message.warning("请选择地区省份"),new Error;t.policyProjectYearDtoList.forEach(function(i,a){if(""==i.applyYear||void 0==i.applyYear)throw e.$message.warning("请选择年份"),new Error;if(""===i.subsidyType||void 0===i.subsidyType)throw e.$message.warning("请选择补贴类型"),new Error;if(0==i.subsidyType){if(""===i.subsidyTotal||void 0===i.subsidyTotal)throw e.$message.warning("请填写补贴金额"),new Error}else if(""===i.realSubsidyPrice||void 0===i.realSubsidyPrice)throw e.$message.warning("请填写补贴金额"),new Error;0==e.batchShow?""!=i.applyBatchNo&&void 0!=i.applyBatchNo&&0!=i.applyBatchNo&&t.policyProjectYearDtoList.forEach(function(t,l){if(a!=l&&i.applyYear==t.applyYear&&i.applyBatchNo==t.applyBatchNo)throw e.$message.warning("同年同批次的不能重复"),e.batchShow=!0,new Error}):""!=i.applyBatchNo&&void 0!=i.applyBatchNo&&0!=i.applyBatchNo&&t.policyProjectYearDtoList.forEach(function(t,l){a!=l&&i.applyYear==t.applyYear&&i.applyBatchNo!=t.applyBatchNo&&(e.batchShow=!1)})})}),1!=this.batchShow&&("1"==this.ruleForm.channelCommissioBill&&(this.ruleForm.channelNumber=this.ruleForm.channelNumber/100),"1"==this.ruleForm.marketCommissioWay&&(this.ruleForm.marketCommissio=this.ruleForm.marketCommissio/100),"1"==this.ruleForm.salesMinimumWay&&(this.ruleForm.salesMinimum=this.ruleForm.salesMinimum/100),"1"==this.ruleForm.unitPriceBill&&(this.ruleForm.unitPrice=this.ruleForm.unitPrice/100),"1"==this.ruleForm.originalPriceBill&&(this.ruleForm.originalPrice=this.ruleForm.originalPrice/100),"1"==this.ruleForm.projectCommissioWay&&(this.ruleForm.projectCommissioMoneyBill=this.ruleForm.projectCommissioMoneyBill/100),this.ruleForm.policyProjectAreaDtoList=this.itemList,0!=this.dynamicTags.length&&(this.ruleForm.projectAlias=this.dynamicTags.join(",")),Object(s.j)(this.ruleForm).then(function(t){200==t.code&&(e.$message({message:"操作成功",type:"success"}),e.ruleForm={channelCommissioBill:null,isOftenApply:0,marketCommissioWay:null,projectCommissioWay:null,projectType:null},e.itemList=[],e.flowList=[],e.flowBoxList=[],e.addFlowList=[],e.isOftenApply=!1,e.$store.commit("SET_PROJECT_SCROLL",0),e.$refs.editor.setContent(""),e.closeCurrent(e.$store.state.tagsView.visitedViews,e.$route,"/policy/project/list"))}))):this.$message.warning("请选择进度流程"):this.$message.warning("原价不能为0或空"):this.$message.warning("单价不能为空"):this.$message.warning("销售保底价不能为0或空"):this.$message.warning("请选择订单类型"):this.$message.warning("请选择项目分类"):this.$message.warning("请选择项目部提成方式"):this.$message.warning("项目部提成金额或比例不能为0或空"):this.$message.warning("项目名称不能为空"):this.$message.warning("请选择市场部提成方式"):this.$message.warning("市场部提成金额或比例不能为0和空"):this.$message.warning("请选择工程师是否一次性提成"):this.$message.warning("请选择渠道提成是金额还是比例"):this.$message.warning("渠道的金额或比例不能为0和空")},editSubmit:function(){var e=this,t=[];""!=this.addFlowList&&0!=this.addFlowList.length&&(this.addFlowList.forEach(function(e){t.push(e.flowId)}),this.ruleForm.flowId=t.join(",")),void 0!=this.id&&""!=this.id&&(this.ruleForm.projectId=this.id),""!=this.ruleForm.channelNumber&&void 0!=this.ruleForm.channelNumber&&0!=this.ruleForm.channelNumber?""!=this.ruleForm.channelCommissioBill&&void 0!=this.ruleForm.channelCommissioBill?"1"==this.ruleForm.channelCommissioBill&&this.ruleForm.channelNumber>100?this.$message.warning("渠道提成比例不能大于100%"):""!=this.ruleForm.engineerCommissio&&void 0!=this.ruleForm.engineerCommissio?""!==this.ruleForm.marketCommissio&&void 0!==this.ruleForm.marketCommissio&&0!==this.ruleForm.marketCommissio?"1"==this.ruleForm.marketCommissioWay&&this.ruleForm.marketCommissio>100?this.$message.warning("市场部提成比例不能大于100%"):""!=this.ruleForm.marketCommissioWay&&void 0!=this.ruleForm.marketCommissioWay?""!=this.ruleForm.projectName&&void 0!=this.ruleForm.projectName?""!=this.ruleForm.projectCommissioMoneyBill&&void 0!=this.ruleForm.projectCommissioMoneyBill&&0!=this.ruleForm.projectCommissioMoneyBill?"1"==this.ruleForm.projectCommissioWay&&this.ruleForm.projectCommissioMoneyBill>100?this.$message.warning("项目部提成比例不能大于100%"):""!=this.ruleForm.projectCommissioWay&&void 0!=this.ruleForm.projectCommissioWay?""!=this.ruleForm.projectType&&void 0!=this.ruleForm.projectType?""!=this.ruleForm.orderType&&void 0!=this.ruleForm.orderType?""!=this.ruleForm.salesMinimum&&void 0!=this.ruleForm.salesMinimum&&0!=this.ruleForm.salesMinimum?"1"==this.ruleForm.salesMinimumWay&&this.ruleForm.salesMinimum>100?this.$message.warning("销售保底价比例不能大于100%"):""!==this.ruleForm.unitPrice&&void 0!==this.ruleForm.unitPrice?"1"==this.ruleForm.unitPriceBill&&this.ruleForm.unitPrice>100?this.$message.warning("单价比例不能大于100%"):"1"==this.ruleForm.originalPriceBill&&this.ruleForm.originalPrice>100?this.$message.warning("原价比例不能大于100%"):"0"!=this.ruleForm.originalPriceBill||""!==this.ruleForm.originalPrice&&void 0!==this.ruleForm.originalPrice&&0!=this.ruleForm.originalPrice?""!=this.ruleForm.flowId&&void 0!=this.ruleForm.flowId?(this.itemList.forEach(function(t){if(delete t.policyProjectYearVoList,delete t.city_list,delete t.district_list,delete t.town_list,""==t.areaLevel||void 0==t.areaLevel)throw e.$message.warning("请选择级别"),new Error;t.policyProjectYearDtoList.forEach(function(i,a){if(""==i.applyYear||void 0==i.applyYear)throw e.$message.warning("请选择年份"),new Error;if(""===i.subsidyType||void 0===i.subsidyType)throw e.$message.warning("请选择补贴类型"),new Error;0==e.batchShow?""!=i.applyBatchNo&&void 0!=i.applyBatchNo&&0!=i.applyBatchNo&&t.policyProjectYearDtoList.forEach(function(t,l){if(a!=l&&i.applyYear==t.applyYear&&i.applyBatchNo==t.applyBatchNo)throw e.$message.warning("同年同批次的不能重复"),e.batchShow=!0,new Error}):""!=i.applyBatchNo&&void 0!=i.applyBatchNo&&0!=i.applyBatchNo&&t.policyProjectYearDtoList.forEach(function(t,l){a!=l&&i.applyYear==t.applyYear&&i.applyBatchNo!=t.applyBatchNo&&(e.batchShow=!1)})})}),1!=this.batchShow&&("1"==this.ruleForm.channelCommissioBill&&(this.ruleForm.channelNumber=this.ruleForm.channelNumber/100),"1"==this.ruleForm.marketCommissioWay&&(this.ruleForm.marketCommissio=this.ruleForm.marketCommissio/100),"1"==this.ruleForm.salesMinimumWay&&(this.ruleForm.salesMinimum=this.ruleForm.salesMinimum/100),"1"==this.ruleForm.unitPriceBill&&(this.ruleForm.unitPrice=this.ruleForm.unitPrice/100),"1"==this.ruleForm.originalPriceBill&&(this.ruleForm.originalPrice=this.ruleForm.originalPrice/100),"1"==this.ruleForm.projectCommissioWay&&(this.ruleForm.projectCommissioMoneyBill=this.ruleForm.projectCommissioMoneyBill/100),this.ruleForm.policyProjectAreaDtoList=this.itemList,delete this.ruleForm.policyProjectAreaVoList,0!=this.dynamicTags.length&&(this.ruleForm.projectAlias=this.dynamicTags.join(",")),Object(s.k)(this.ruleForm).then(function(t){200==t.code&&(e.$message({message:"操作成功",type:"success"}),e.ruleForm={channelCommissioBill:null,isOftenApply:0,marketCommissioWay:null,projectCommissioWay:null,projectType:null},e.itemList=[],e.flowList=[],e.flowBoxList=[],e.addFlowList=[],e.batchShow=!1,e.isOftenApply=!1,e.closeCurrent(e.$store.state.tagsView.visitedViews,e.$route,"/policy/project/list"))}))):this.$message.warning("请选择进度流程"):this.$message.warning("原价不能为0或空"):this.$message.warning("单价不能为空"):this.$message.warning("销售保底价不能为0或空"):this.$message.warning("请选择订单类型"):this.$message.warning("请选择项目分类"):this.$message.warning("请选择项目部提成方式"):this.$message.warning("项目部提成金额或比例不能为0或空"):this.$message.warning("项目名称不能为空"):this.$message.warning("请选择市场部提成方式"):this.$message.warning("市场部提成金额或比例不能为0和空"):this.$message.warning("请选择工程师是否一次性提成"):this.$message.warning("请选择渠道提成是金额还是比例"):this.$message.warning("渠道的金额或比例不能为0和空")},cancel:function(){this.ruleForm={channelCommissioBill:null,isOftenApply:0,marketCommissioWay:null,projectCommissioWay:null,projectType:null},this.itemList=[],this.flowList=[],this.flowBoxList=[],this.batchShow=!1,this.isOftenApply=!1,this.$refs.editor&&this.$refs.editor.setContent(""),this.closeCurrent(this.$store.state.tagsView.visitedViews,this.$route,"/policy/project/list")},addProjectItem:function(){this.itemList.push({policyProjectYearDtoList:[{}]}),this.getRegionList(this.level,this.parentId)},delProjectItem:function(e){this.itemList.splice(e,1)},addConditionItem:function(){this.conditionList.push({appLabelName:"",modelName:"",fieldZhName:"",judgeCondition:0,conditionValue:"",fieldType:"",filterFieldZhName:"",filterValue:""})},delConditionItem:function(e){this.conditionList.splice(e,1)},changeAppName:function(e){this.conditionList[e].modelName=""},getFieldIndex:function(e){this.fieldName=e.name,this.fieldZhName=e.verbose_name,this.fieldType=e.fieldType},changeItem:function(){this.currentFieldData.fieldName=this.fieldName,this.currentFieldData.fieldZhName=this.fieldZhName,this.currentFieldData.fieldType=this.fieldType,this.currentFieldData.fieldType=this.fieldType,this.field_id="",this.fieldVisiable=!1},handleFilterSearch:function(e){this.filterFieldVisiable=!0,this.currentFieldData=e},getFilterFieldIndex:function(e){this.filterField=e.name,this.filterFieldZhName=e.verbose_name},changeFilterItem:function(){this.currentFieldData.filterField=this.filterField,this.currentFieldData.filterFieldZhName=this.filterFieldZhName,this.filterFieldVisiable=!1},addYear:function(e){e.policyProjectYearDtoList.push({})},delYear:function(e,t,i,a){var l=this;void 0!=this.id&&""!=this.id&&e.areaId&&t.yearId?this.$confirm("您确定删除吗？").then(function(n){Object(s.i)({yearId:t.yearId}).then(function(t){200==t.code?(e.policyProjectYearDtoList.splice(a,1),l.$message({type:"success",message:"删除成功"}),0===e.policyProjectYearDtoList.length&&Object(s.g)({areaId:e.areaId}).then(function(e){200==e.code?l.itemList.splice(i,1):l.$message({type:"error",message:e.message})})):l.$message({type:"error",message:t.message})})}):(e.policyProjectYearDtoList.splice(a,1),0===e.policyProjectYearDtoList.length&&this.itemList.splice(i,1))},getCommonData:function(){var e=this;Object(o.d)({keyList:"DICT:PROCESS_FLOW_PROJECT,DICT:PROJECT_TYPE"}).then(function(t){200==t.code?(e.stateList=t.data["DICT:PROCESS_FLOW_PROJECT"],e.type_list=t.data["DICT:PROJECT_TYPE"]):e.$message({type:"error",message:t.message})})},getRegionList:function(e,t,i){var a=this,l={level:e,parentId:t};Object(o.f)(l).then(function(t){200==t.code?(3==e&&(a.province_list=t.data),2==e&&a.$set(i,"city_list",t.data),1==e&&a.$set(i,"district_list",t.data),0==e&&a.$set(i,"town_list",t.data)):a.$message({type:"error",message:t.message})})},typeChange:function(e){var t=this;this.projectType="",this.scheduleState=[],this.getCommonData(),this.addFlowList=[{}],this.type_list.forEach(function(i){e==i.dictId&&(t.projectType=i.dictName)})},applyChange:function(e){this.ruleForm.isOftenApply=1==e?1:0},projectChange:function(e){1==e?this.$set(this.ruleForm,"isOftenProject",1):this.$set(this.ruleForm,"isOftenProject",0)},isPickProjectChange:function(e){1==e?this.$set(this.ruleForm,"isPickProject",1):this.$set(this.ruleForm,"isPickProject",0)},scheduleChange:function(e){this.ruleForm.scheduleState="";var t="";e.forEach(function(e){t+=e+","}),t.length>0&&(t=t.substr(0,t.length-1)),this.ruleForm.scheduleState=JSON.parse(l()(t))},checkIpr:function(e){var t=this,i="";0==e&&(i="DICT:PROCESS_FLOW_PROJECT"),1==e&&(i="DICT:INTELLECTUAL_PROPERTY_TYPE"),2==e&&(i="DICT:PROCESS_FLOW_FINANCE");var a={keyList:i};Object(o.d)(a).then(function(e){200==e.code?t.stateList=e.data[i]:t.$message({type:"error",message:e.message})})},getFlowList:function(){var e=this;Object(r.d)().then(function(t){200==t.code?e.flowList=t.data:e.$message.warning(t.message)})},flowChange:function(e){var t=this;if(e.flowId){var i={page:0,pageSize:10,flowId:e.flowId};Object(r.f)(i).then(function(i){200==i.code?t.$set(e,"flowBoxList",i.data.nodeVoList):t.$message.warning(i.message)})}else if(e&&!e.flowBoxList){var a={flowId:e},l={page:0,pageSize:10,flowId:e};Object(r.f)(l).then(function(e){200==e.code?(a.flowName=e.data.flowName,t.$set(a,"flowBoxList",e.data.nodeVoList),t.addFlowList.push(a)):t.$message.warning(e.message)})}},addProcess:function(){this.addFlowList.push({})},deleteFLow:function(e){this.addFlowList.splice(e,1)},handleExceed:function(e,t){this.$message.warning("当前限制选择 1 个文件")},uploadBeforeFile:function(e){},handleRemoveContract:function(e,t){this.iconFileList=[],this.ruleForm.iconFileId=""},importApprovalContract:function(e){var t=this;if(""==this.ruleForm.projectName||void 0==this.ruleForm.projectName)return this.$message("请先填写项目名称"),void(this.iconFileList=JSON.parse(l()(this.iconFileList)));if(e.file.name.length>=150)return this.$message("文件名称超长，请检查"),void(this.iconFileList=JSON.parse(l()(this.iconFileList)));var i=e.file.size/1024;if(i>this.$store.getters.singleCapacity)return this.$message.error("文件大小超出限制，上传失败"),void(this.iconFileList=JSON.parse(l()(this.iconFileList)));if(i>this.$store.getters.totalCapacity)return this.$message.error("文件大小超出容量剩余空间，上传失败"),void(this.iconFileList=JSON.parse(l()(this.iconFileList)));var a=e.file.name.lastIndexOf("."),n=e.file.name.substring(0,a),s=e.file.name.substring(a+1,e.file.name.length),r=Object(d.j)(this.ruleForm.projectName,"图标",n)+"."+s;Object(m.a)(r,e.file,e).then(function(a){if(a){var n=[],c={fileName:e.file.name,filePath:r,fileSize:i,fileType:s,parentType:4};n.push(c);var m={companyId:t.$store.getters.companyId,companyName:t.$store.getters.companyName,addFileDtos:n,haveView:!1};Object(o.a)(m).then(function(e){200==e.code?(t.$message.success("上传成功"),t.$set(t.ruleForm,"iconFileId",e.data[0].fileId)):(t.$message.error("上传失败，请检查重新上传"),t.iconFileList=JSON.parse(l()(t.iconFileList)))})}else t.$message.error("文件出错或文件已存在，无法覆盖"),t.iconFileList=JSON.parse(l()(t.iconFileList))})},handleExceedImg:function(e,t){this.$message.warning("当前限制选择 1 个文件")},uploadBeforeFileImg:function(e){},handleRemoveContractImg:function(e,t){this.imgFileList=[],this.ruleForm.imgFileId=""},importApprovalContractImg:function(e){var t=this;if(""==this.ruleForm.projectName||void 0==this.ruleForm.projectName)return this.$message("请先填写项目名称"),void(this.imgFileList=JSON.parse(l()(this.imgFileList)));if(e.file.name.length>=150)return this.$message("文件名称超长，请检查"),void(this.imgFileList=JSON.parse(l()(this.imgFileList)));var i=e.file.size/1024;if(i>this.$store.getters.singleCapacity)return this.$message.error("文件大小超出限制，上传失败"),void(this.imgFileList=JSON.parse(l()(this.imgFileList)));if(i>this.$store.getters.totalCapacity)return this.$message.error("文件大小超出容量剩余空间，上传失败"),void(this.imgFileList=JSON.parse(l()(this.imgFileList)));var a=e.file.name.lastIndexOf("."),n=e.file.name.substring(0,a),s=e.file.name.substring(a+1,e.file.name.length),r=Object(d.j)(this.ruleForm.projectName,"图标",n)+"."+s;Object(m.a)(r,e.file,e).then(function(a){if(a){var n=[],c={fileName:e.file.name,filePath:r,fileSize:i,fileType:s,parentType:4};n.push(c);var m={companyId:t.$store.getters.companyId,companyName:t.$store.getters.companyName,addFileDtos:n,haveView:!1};Object(o.a)(m).then(function(e){200==e.code?(t.$message.success("上传成功"),t.$set(t.ruleForm,"imgFileId",e.data[0].fileId)):(t.$message.error("上传失败，请检查重新上传"),t.imgFileList=JSON.parse(l()(t.imgFileList)))})}else t.$message.error("文件出错或文件已存在，无法覆盖"),t.imgFileList=JSON.parse(l()(t.imgFileList))})},handlePictureCardPreview:function(e){this.imgDialogVisible=!0,this.dialogImageUrl=e.url},getFileDetail:function(e,t){var i=this;Object(o.k)({fileIds:e,haveView:!1}).then(function(e){200==e.code?"icon"==t?(i.iconFileList=e.data,Object(o.q)(e.data[0]).then(function(t){200==e.code&&i.$set(i.iconFileList[0],"url",t.data)})):(i.imgFileList=e.data,Object(o.q)(e.data[0]).then(function(t){200==e.code&&i.$set(i.imgFileList[0],"url",t.data)})):i.$message.warning(e.message)})},handleClose:function(e){this.dynamicTags.splice(this.dynamicTags.indexOf(e),1)},showInput:function(){var e=this;this.inputVisible=!0,this.$nextTick(function(t){e.$refs.saveTagInput.$refs.input.focus()})},handleInputConfirm:function(){var e=this.inputValue;e&&this.dynamicTags.push(e),this.inputVisible=!1,this.inputValue=""}}},u={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"dashboard-container",staticStyle:{overflow:"auto","overflow-x":"hidden",height:"100%"}},[a("el-row",{staticClass:"row-width-auto-margin-0-90",staticStyle:{"margin-bottom":"20px"}},[a("el-card",{staticClass:"top-margin-10 padding-0"},[a("div",[a("span",{staticStyle:{color:"#03ADF4","font-weight":"bold"}},[e._v("|")]),e._v(" "),a("span",{staticClass:"left-margin-10",staticStyle:{color:"#263B45"}},[e._v("基本信息")])])]),e._v(" "),a("el-card",[a("div",{staticStyle:{display:"flex"}},[a("div",{staticClass:"float-left",staticStyle:{width:"90px"}},[a("div",{staticClass:"bg_pale_blue ent_shorthand left-margin-10 padding-20 float-left text-align-center",staticStyle:{width:"80px",height:"80px"}},[e._v("\n              "+e._s(e.ruleForm.projectTitle?e.ruleForm.projectTitle:"项目简称")+"\n            ")])]),e._v(" "),a("div",{staticClass:"float-left left-margin-10",staticStyle:{width:"90%","min-width":"1000px"}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,inline:!0}},[a("el-row",[a("div",{staticClass:"float-left inline-block width-0-6",staticStyle:{display:"flex","align-items":"center"}},[a("span",{staticClass:"float-left inline-block span-input input-150"},[a("span",{staticClass:"star",staticStyle:{"margin-left":"-10px"}},[e._v("*")]),e._v("项目名称：")]),e._v(" "),e.check?a("el-input",{staticClass:"inline-block left-margin-5",staticStyle:{width:"300px"},attrs:{size:"mini",maxlength:"50","show-word-limit":"",placeholder:"项目名称"},model:{value:e.ruleForm.projectName,callback:function(t){e.$set(e.ruleForm,"projectName","string"==typeof t?t.trim():t)},expression:"ruleForm.projectName"}}):a("span",{staticStyle:{width:"260px"}},[e._v(e._s(e.ruleForm.projectName)+"\n                  "),e.check&&e.can_edit?a("img",{staticClass:"hover_cursor",staticStyle:{"vertical-align":"middle","margin-left":"3px"},attrs:{src:i("qzBd")},on:{click:e.toEdit}}):e._e()])],1)]),e._v(" "),a("el-row",[a("div",{staticClass:"float-left inline-block top-margin-10 width-0-3"},[a("span",{staticClass:"float-left inline-block span-input input-150"},[e._v("项目简称：")]),e._v(" "),e.check?a("el-input",{staticClass:"float-left inline-block left-margin-5 input-100",attrs:{size:"mini",maxlength:"4","show-word-limit":"",placeholder:"项目简称"},model:{value:e.ruleForm.projectTitle,callback:function(t){e.$set(e.ruleForm,"projectTitle",t)},expression:"ruleForm.projectTitle"}}):a("span",{staticClass:"float-left inline-block left-margin-5 span-input"},[e._v(e._s(e.ruleForm.projectTitle))])],1),e._v(" "),a("div",{staticClass:"float-left inline-block top-margin-10 width-0-2",staticStyle:{display:"flex"}},[a("span",{staticClass:"float-left inline-block span-input input-150"},[a("span",{staticClass:"star",staticStyle:{"margin-left":"-10px"}},[e._v("*")]),e._v("项目分类：")]),e._v(" "),e.check?a("el-select",{staticClass:"float-left inline-block left-margin-5",attrs:{size:"mini",clearable:"",placeholder:"项目分类"},on:{change:e.typeChange},model:{value:e.ruleForm.projectType,callback:function(t){e.$set(e.ruleForm,"projectType",t)},expression:"ruleForm.projectType"}},e._l(e.type_list,function(e){return a("el-option",{key:e.dictId,attrs:{value:e.dictId,label:e.dictName}})}),1):a("span",{staticClass:"float-left inline-block left-margin-5 span-input"},[e._v(e._s(e.ruleForm.projectTypeName))])],1),e._v(" "),a("div",{staticClass:"float-left inline-block top-margin-10 width-0-2",staticStyle:{display:"flex"}},[a("span",{staticClass:"float-left inline-block span-input input-150"},[a("span",{staticClass:"star",staticStyle:{"margin-left":"-10px"}},[e._v("*")]),e._v("订单类型：")]),e._v(" "),e.check?a("el-select",{staticClass:"float-left inline-block left-margin-5",attrs:{size:"mini",clearable:"",placeholder:"订单类型"},on:{change:e.typeChange},model:{value:e.ruleForm.orderType,callback:function(t){e.$set(e.ruleForm,"orderType",t)},expression:"ruleForm.orderType"}},e._l(e.orderTypeList,function(e){return a("el-option",{key:e.dictId,attrs:{value:e.dictId,label:e.dictName}})}),1):a("span",{staticClass:"float-left inline-block left-margin-5 span-input"},[e._v(e._s(0==e.ruleForm.orderType?"项目型":1==e.ruleForm.orderType?"知识产权型":2==e.ruleForm.orderType?"财务型":4==e.ruleForm.orderType?"项目审计型":"-"))])],1)]),e._v(" "),a("el-row",[a("div",{staticClass:"flex inline-block top-margin-10"},[a("span",{staticClass:"inline-block span-input input-150"},[e._v("项目别名：")]),e._v(" "),a("div",[e._l(e.dynamicTags,function(t){return a("el-tag",{key:t,attrs:{closable:"","disable-transitions":!1},on:{close:function(i){return e.handleClose(t)}}},[e._v("\n                      "+e._s(t)+"\n                    ")])}),e._v(" "),e.inputVisible?a("el-input",{ref:"saveTagInput",staticClass:"input-new-tag",attrs:{size:"mini"},on:{blur:e.handleInputConfirm},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleInputConfirm(t)}},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}}):a("el-button",{staticClass:"button-new-tag",attrs:{size:"mini"},on:{click:e.showInput}},[e._v("+ 新增")])],2)])]),e._v(" "),a("el-row",[a("div",{staticClass:"flex inline-block top-margin-10"},[a("span",{staticClass:"inline-block span-input input-150"},[e._v("项目概述：")]),e._v(" "),e.check?a("el-input",{staticClass:"inline-block left-margin-5",attrs:{size:"mini",type:"textarea",maxlength:"400","show-word-limit":"",autosize:{minRows:3},placeholder:"项目概述"},model:{value:e.ruleForm.projectSummary,callback:function(t){e.$set(e.ruleForm,"projectSummary",t)},expression:"ruleForm.projectSummary"}}):a("p",{staticClass:"inline-block left-margin-5",staticStyle:{flex:"1"}},[e._v(e._s(e.ruleForm.projectSummary))])],1)]),e._v(" "),a("el-row",[a("div",{staticClass:"float-left inline-block top-margin-10 width-0-3"},[a("span",{staticClass:"float-left inline-block span-input input-150"},[a("span",{staticClass:"star",staticStyle:{"margin-left":"-10px"}},[e._v("*")]),e._v("单价金额/比例：\n                  ")]),e._v(" "),a("el-radio",{staticClass:"float-left inline-block span-input",attrs:{label:"0",disabled:!e.check},model:{value:e.ruleForm.unitPriceBill,callback:function(t){e.$set(e.ruleForm,"unitPriceBill",t)},expression:"ruleForm.unitPriceBill"}},[e._v("金额\n                  ")]),e._v(" "),a("el-radio",{staticClass:"float-left inline-block span-input",attrs:{label:"1",disabled:!e.check},model:{value:e.ruleForm.unitPriceBill,callback:function(t){e.$set(e.ruleForm,"unitPriceBill",t)},expression:"ruleForm.unitPriceBill"}},[e._v("比例\n                  ")])],1),e._v(" "),a("div",{staticClass:"float-left inline-block top-margin-10 width-0-3"},[a("span",{staticClass:"float-left inline-block span-input input-150"},[a("span",{staticClass:"star",staticStyle:{"margin-left":"-10px"}},[e._v("*")]),e._v("单价金额/比例：\n                  ")]),e._v(" "),e.check?a("el-input",{staticClass:"float-left inline-block left-margin-5 input-90",attrs:{size:"mini",onkeyup:"value=value.replace(/[^\\d]/g,'')",maxlength:"13",placeholder:"单价金额/比例"},model:{value:e.ruleForm.unitPrice,callback:function(t){e.$set(e.ruleForm,"unitPrice",t)},expression:"ruleForm.unitPrice"}}):e._e(),e._v(" "),e.check&&"0"==e.ruleForm.unitPriceBill?a("span",{staticClass:"left-margin-5 span-input",staticStyle:{"font-size":"12px"}},[e._v("元")]):e._e(),e._v(" "),e.check&&"1"==e.ruleForm.unitPriceBill?a("span",{staticClass:"left-margin-5 span-input",staticStyle:{"font-size":"12px"}},[e._v("%")]):e._e(),e._v(" "),e.check||"0"!==e.ruleForm.unitPriceBill?e._e():a("span",{staticClass:"float-left inline-block left-margin-5 span-input"},[e._v(e._s(e.ruleForm.unitPrice)+"元")]),e._v(" "),e.check||"1"!==e.ruleForm.unitPriceBill?e._e():a("span",{staticClass:"float-left inline-block left-margin-5 span-input"},[e._v(e._s(e.ruleForm.unitPrice)+"%")])],1)]),e._v(" "),a("el-row",[a("div",{staticClass:"float-left inline-block top-margin-10 width-0-3"},[a("span",{staticClass:"float-left inline-block span-input input-150"},[e._v("\n                    原价金额/比例：\n                  ")]),e._v(" "),a("el-radio",{staticClass:"float-left inline-block span-input",attrs:{label:"0",disabled:!e.check},model:{value:e.ruleForm.originalPriceBill,callback:function(t){e.$set(e.ruleForm,"originalPriceBill",t)},expression:"ruleForm.originalPriceBill"}},[e._v("金额\n                  ")]),e._v(" "),a("el-radio",{staticClass:"float-left inline-block span-input",attrs:{label:"1",disabled:!e.check},model:{value:e.ruleForm.originalPriceBill,callback:function(t){e.$set(e.ruleForm,"originalPriceBill",t)},expression:"ruleForm.originalPriceBill"}},[e._v("比例\n                  ")])],1),e._v(" "),a("div",{staticClass:"float-left inline-block top-margin-10 width-0-3"},[a("span",{staticClass:"float-left inline-block span-input input-150"},[e._v("\n                    原价金额/比例：\n                  ")]),e._v(" "),e.check?a("el-input",{staticClass:"float-left inline-block left-margin-5 input-90",attrs:{size:"mini",onkeyup:"value=value.replace(/[^\\d]/g,'')",maxlength:"13",placeholder:"原价金额/比例"},model:{value:e.ruleForm.originalPrice,callback:function(t){e.$set(e.ruleForm,"originalPrice",t)},expression:"ruleForm.originalPrice"}}):e._e(),e._v(" "),e.check&&"0"==e.ruleForm.originalPriceBill?a("span",{staticClass:"left-margin-5 span-input",staticStyle:{"font-size":"12px"}},[e._v("元")]):e._e(),e._v(" "),e.check&&"1"==e.ruleForm.originalPriceBill?a("span",{staticClass:"left-margin-5 span-input",staticStyle:{"font-size":"12px"}},[e._v("%")]):e._e(),e._v(" "),e.check||"0"!==e.ruleForm.originalPriceBill?e._e():a("span",{staticClass:"float-left inline-block left-margin-5 span-input"},[e._v(e._s(e.ruleForm.originalPrice)+"元")]),e._v(" "),e.check||"1"!==e.ruleForm.originalPriceBill?e._e():a("span",{staticClass:"float-left inline-block left-margin-5 span-input"},[e._v(e._s(e.ruleForm.originalPrice)+"%")])],1)]),e._v(" "),a("el-row",[a("div",{staticClass:"float-left inline-block top-margin-10 width-0-3"},[a("span",{staticClass:"float-left inline-block span-input input-150"},[a("span",{staticClass:"star",staticStyle:{"margin-left":"-10px"}},[e._v("*")]),e._v("销售保底价金额/比例：")]),e._v(" "),a("el-radio",{staticClass:"float-left inline-block span-input",attrs:{label:"0",disabled:!e.check},model:{value:e.ruleForm.salesMinimumWay,callback:function(t){e.$set(e.ruleForm,"salesMinimumWay",t)},expression:"ruleForm.salesMinimumWay"}},[e._v("金额\n                  ")]),e._v(" "),a("el-radio",{staticClass:"float-left inline-block span-input",attrs:{label:"1",disabled:!e.check},model:{value:e.ruleForm.salesMinimumWay,callback:function(t){e.$set(e.ruleForm,"salesMinimumWay",t)},expression:"ruleForm.salesMinimumWay"}},[e._v("比例\n                  ")])],1),e._v(" "),a("div",{staticClass:"float-left inline-block top-margin-10 width-0-3"},[a("span",{staticClass:"float-left inline-block span-input input-150"},[a("span",{staticClass:"star",staticStyle:{"margin-left":"-10px"}},[e._v("*")]),e._v("销售保底价金额/比例：")]),e._v(" "),e.check?a("el-input",{staticClass:"float-left inline-block left-margin-5 input-90",attrs:{onkeyup:"value=value.replace(/[^\\d]/g,'')",maxlength:"13",size:"mini",placeholder:"销售保底价"},model:{value:e.ruleForm.salesMinimum,callback:function(t){e.$set(e.ruleForm,"salesMinimum",t)},expression:"ruleForm.salesMinimum"}}):e._e(),e._v(" "),e.check&&"0"==e.ruleForm.salesMinimumWay?a("span",{staticClass:"left-margin-5 span-input",staticStyle:{"font-size":"12px"}},[e._v("元")]):e._e(),e._v(" "),e.check&&"1"==e.ruleForm.salesMinimumWay?a("span",{staticClass:"left-margin-5 span-input",staticStyle:{"font-size":"12px"}},[e._v("%")]):e._e(),e._v(" "),e.check||"0"!==e.ruleForm.salesMinimumWay?e._e():a("span",{staticClass:"float-left inline-block left-margin-5 span-input"},[e._v(e._s(e.ruleForm.salesMinimum)+"元")]),e._v(" "),e.check||"1"!==e.ruleForm.salesMinimumWay?e._e():a("span",{staticClass:"float-left inline-block left-margin-5 span-input"},[e._v(e._s(e.ruleForm.salesMinimum)+"%")])],1)]),e._v(" "),a("el-row",[a("div",{staticClass:"float-left inline-block top-margin-10 width-0-3"},[a("span",{staticClass:"float-left inline-block span-input input-150"},[a("span",{staticClass:"star",staticStyle:{"margin-left":"-10px"}},[e._v("*")]),e._v("渠道提成方式：")]),e._v(" "),a("el-radio",{staticClass:"float-left inline-block span-input",attrs:{label:"0",disabled:!e.check},model:{value:e.ruleForm.channelCommissioBill,callback:function(t){e.$set(e.ruleForm,"channelCommissioBill",t)},expression:"ruleForm.channelCommissioBill"}},[e._v("金额\n                  ")]),e._v(" "),a("el-radio",{staticClass:"float-left inline-block span-input",attrs:{label:"1",disabled:!e.check},model:{value:e.ruleForm.channelCommissioBill,callback:function(t){e.$set(e.ruleForm,"channelCommissioBill",t)},expression:"ruleForm.channelCommissioBill"}},[e._v("比例\n                  ")])],1),e._v(" "),a("div",{staticClass:"float-left inline-block top-margin-10 width-0-3"},[a("span",{staticClass:"float-left inline-block span-input input-150"},[a("span",{staticClass:"star",staticStyle:{"margin-left":"-10px"}},[e._v("*")]),e._v("渠道提成金额/比例：")]),e._v(" "),e.check?a("el-input",{staticClass:"float-left inline-block left-margin-5 input-90",attrs:{size:"mini",onkeyup:"value=value.replace(/[^\\d]/g,'')",maxlength:"13",placeholder:"渠道提成金额/比例"},model:{value:e.ruleForm.channelNumber,callback:function(t){e.$set(e.ruleForm,"channelNumber",t)},expression:"ruleForm.channelNumber"}}):e._e(),e._v(" "),e.check&&"0"==e.ruleForm.channelCommissioBill?a("span",{staticClass:"left-margin-5 span-input",staticStyle:{"font-size":"12px"}},[e._v("元")]):e._e(),e._v(" "),e.check&&"1"==e.ruleForm.channelCommissioBill?a("span",{staticClass:"left-margin-5 span-input",staticStyle:{"font-size":"12px"}},[e._v("%")]):e._e(),e._v(" "),e.check||"0"!==e.ruleForm.channelCommissioBill?e._e():a("span",{staticClass:"float-left inline-block left-margin-5 span-input"},[e._v(e._s(e.ruleForm.channelNumber)+"元")]),e._v(" "),e.check||"1"!==e.ruleForm.channelCommissioBill?e._e():a("span",{staticClass:"float-left inline-block left-margin-5 span-input"},[e._v(e._s(e.ruleForm.channelNumber)+"%")])],1)]),e._v(" "),a("el-row",[a("div",{staticClass:"float-left inline-block top-margin-10 width-0-3"},[a("span",{staticClass:"float-left inline-block span-input input-150"},[a("span",{staticClass:"star",staticStyle:{"margin-left":"-10px"}},[e._v("*")]),e._v("市场部提成方式：")]),e._v(" "),a("el-radio",{staticClass:"float-left inline-block span-input",attrs:{label:"0",disabled:!e.check},model:{value:e.ruleForm.marketCommissioWay,callback:function(t){e.$set(e.ruleForm,"marketCommissioWay",t)},expression:"ruleForm.marketCommissioWay"}},[e._v("金额\n                  ")]),e._v(" "),a("el-radio",{staticClass:"float-left inline-block span-input",attrs:{label:"1",disabled:!e.check},model:{value:e.ruleForm.marketCommissioWay,callback:function(t){e.$set(e.ruleForm,"marketCommissioWay",t)},expression:"ruleForm.marketCommissioWay"}},[e._v("比例\n                  ")])],1),e._v(" "),a("div",{staticClass:"float-left inline-block top-margin-10 width-0-3"},[a("span",{staticClass:"float-left inline-block span-input input-150"},[a("span",{staticClass:"star",staticStyle:{"margin-left":"-10px"}},[e._v("*")]),e._v("市场部提成金额/比例：")]),e._v(" "),e.check?a("el-input",{staticClass:"float-left inline-block left-margin-5 input-90",attrs:{onkeyup:"value=value.replace(/[^\\d]/g,'')",maxlength:"13",size:"mini",placeholder:"市场部提成金额/比例"},model:{value:e.ruleForm.marketCommissio,callback:function(t){e.$set(e.ruleForm,"marketCommissio",t)},expression:"ruleForm.marketCommissio"}}):e._e(),e._v(" "),e.check&&"0"===e.ruleForm.marketCommissioWay?a("span",{staticClass:"left-margin-5 span-input",staticStyle:{"font-size":"12px"}},[e._v("元")]):e._e(),e._v(" "),e.check&&"1"===e.ruleForm.marketCommissioWay?a("span",{staticClass:"left-margin-5 span-input",staticStyle:{"font-size":"12px"}},[e._v("%")]):e._e(),e._v(" "),e.check||"0"!==e.ruleForm.marketCommissioWay?e._e():a("span",{staticClass:"float-left inline-block left-margin-5 span-input"},[e._v(e._s(e.ruleForm.marketCommissio)+"元")]),e._v(" "),e.check||"1"!==e.ruleForm.marketCommissioWay?e._e():a("span",{staticClass:"float-left inline-block left-margin-5 span-input"},[e._v(e._s(e.ruleForm.marketCommissio)+"%")])],1)]),e._v(" "),a("el-row",[a("div",{staticClass:"float-left inline-block top-margin-10 width-0-3"},[a("span",{staticClass:"float-left inline-block span-input input-150"},[a("span",{staticClass:"star",staticStyle:{"margin-left":"-10px"}},[e._v("*")]),e._v("项目部提成方式：")]),e._v(" "),a("el-radio",{staticClass:"float-left inline-block span-input",attrs:{label:"0",disabled:!e.check},model:{value:e.ruleForm.projectCommissioWay,callback:function(t){e.$set(e.ruleForm,"projectCommissioWay",t)},expression:"ruleForm.projectCommissioWay"}},[e._v("金额\n                  ")]),e._v(" "),a("el-radio",{staticClass:"float-left inline-block span-input",attrs:{label:"1",disabled:!e.check},model:{value:e.ruleForm.projectCommissioWay,callback:function(t){e.$set(e.ruleForm,"projectCommissioWay",t)},expression:"ruleForm.projectCommissioWay"}},[e._v("比例\n                  ")])],1),e._v(" "),a("div",{staticClass:"float-left inline-block top-margin-10 width-0-3"},[a("span",{staticClass:"float-left inline-block span-input input-150"},[a("span",{staticClass:"star",staticStyle:{"margin-left":"-10px"}},[e._v("*")]),e._v("项目部提成金额/比例：")]),e._v(" "),e.check?a("el-input",{staticClass:"float-left inline-block left-margin-5 input-90",attrs:{onkeyup:"value=value.replace(/[^\\d]/g,'')",maxlength:"13",size:"mini",placeholder:"项目部提成金额/比例"},model:{value:e.ruleForm.projectCommissioMoneyBill,callback:function(t){e.$set(e.ruleForm,"projectCommissioMoneyBill",t)},expression:"ruleForm.projectCommissioMoneyBill"}}):e._e(),e._v(" "),e.check&&"0"===e.ruleForm.projectCommissioWay?a("span",{staticClass:"left-margin-5 span-input",staticStyle:{"font-size":"12px"}},[e._v("元")]):e._e(),e._v(" "),e.check&&"1"===e.ruleForm.projectCommissioWay?a("span",{staticClass:"left-margin-5 span-input",staticStyle:{"font-size":"12px"}},[e._v("%")]):e._e(),e._v(" "),e.check||"0"!==e.ruleForm.projectCommissioWay?e._e():a("span",{staticClass:"float-left inline-block left-margin-5 span-input"},[e._v(e._s(e.ruleForm.projectCommissioMoneyBill)+"元")]),e._v(" "),e.check||"1"!==e.ruleForm.projectCommissioWay?e._e():a("span",{staticClass:"float-left inline-block left-margin-5 span-input"},[e._v(e._s(e.ruleForm.projectCommissioMoneyBill)+"%")])],1)]),e._v(" "),a("el-row",[a("div",{staticClass:"float-left inline-block top-margin-10 width-0-3"},[a("span",{staticClass:"float-left inline-block span-input input-150"},[a("span",{staticClass:"star",staticStyle:{"margin-left":"-10px"}},[e._v("*")]),e._v("工程师一次性提成：")]),e._v(" "),a("el-radio",{staticClass:"float-left inline-block span-input",attrs:{label:"0",disabled:!e.check},model:{value:e.ruleForm.engineerCommissio,callback:function(t){e.$set(e.ruleForm,"engineerCommissio",t)},expression:"ruleForm.engineerCommissio"}},[e._v("是\n                  ")]),e._v(" "),a("el-radio",{staticClass:"float-left inline-block span-input",attrs:{label:"1",disabled:!e.check},model:{value:e.ruleForm.engineerCommissio,callback:function(t){e.$set(e.ruleForm,"engineerCommissio",t)},expression:"ruleForm.engineerCommissio"}},[e._v("否\n                  ")])],1)]),e._v(" "),a("el-row",[a("div",{staticClass:"float-left inline-block top-margin-10 width-0-5"},[a("el-checkbox",{staticClass:"float-left inline-block span-input",attrs:{disabled:!e.check},on:{change:e.applyChange},model:{value:e.isOftenApply,callback:function(t){e.isOftenApply=t},expression:"isOftenApply"}},[e._v("常年可报\n                  ")]),e._v(" "),a("el-checkbox",{staticClass:"float-left inline-block span-input",attrs:{disabled:!e.check},on:{change:e.projectChange},model:{value:1==e.ruleForm.isOftenProject,callback:function(t){e.$set(e.ruleForm,"isOftenProject ==1?true:false",t)},expression:"ruleForm.isOftenProject ==1?true:false"}},[e._v("常规项目\n                  ")]),e._v(" "),a("el-checkbox",{staticClass:"float-left inline-block span-input input-150",attrs:{disabled:!e.check},on:{change:e.isPickProjectChange},model:{value:1==e.ruleForm.isPickProject,callback:function(t){e.$set(e.ruleForm,"isPickProject ==1?true:false",t)},expression:"ruleForm.isPickProject ==1?true:false"}},[e._v("精选项目\n                  ")])],1),e._v(" "),a("div",{staticClass:"float-left inline-block top-margin-10 width-0-5"},[a("el-radio-group",{model:{value:e.ruleForm.priceType,callback:function(t){e.$set(e.ruleForm,"priceType",t)},expression:"ruleForm.priceType"}},[a("el-radio",{attrs:{label:0}},[e._v("面议")]),e._v(" "),a("el-radio",{attrs:{label:1}},[e._v("单价起")]),e._v(" "),a("el-radio",{attrs:{label:2}},[e._v("单价")])],1)],1)])],1)],1)])]),e._v(" "),a("el-card",{staticClass:"top-margin-10 padding-0"},[a("div",{staticStyle:{display:"flex"}},[a("span",{staticStyle:{color:"#FFA96A","font-weight":"bold"}},[e._v("|")]),e._v(" "),a("span",{staticClass:"left-margin-10",staticStyle:{color:"#263B45"}},[e._v("进度流程（必填）")]),e._v(" "),e.check&&4==e.ruleForm.orderType?a("span",{staticClass:"addProcess",attrs:{title:"新增流程"},on:{click:e.addProcess}},[a("i",{staticClass:"el-icon-plus"})]):e._e()]),e._v(" "),a("div",[a("div",{staticStyle:{height:"3px","background-color":"#EDF4FF",width:"100%","margin-top":"10px"}}),e._v(" "),e._l(e.addFlowList,function(t,i){return a("div",{staticClass:"flowCont"},[a("div",{staticStyle:{display:"flex","align-items":"center","margin-top":"15px"}},[e.check?a("el-select",{staticStyle:{width:"250px"},attrs:{placeholder:"请选择流程",size:"small",clearable:""},on:{change:function(i){return e.flowChange(t)}},model:{value:t.flowId,callback:function(i){e.$set(t,"flowId",i)},expression:"list.flowId"}},e._l(e.flowList,function(e){return a("el-option",{key:e.flowId,attrs:{label:e.flowName,value:e.flowId}})}),1):a("p",[e._v("流程名称："+e._s(t.flowName))]),e._v(" "),4==e.ruleForm.orderType&&e.check?a("i",{staticClass:"el-icon-delete-solid",staticStyle:{color:"#F56C6C","margin-left":"10px",cursor:"pointer"},on:{click:function(t){return e.deleteFLow(i)}}}):e._e()],1),e._v(" "),t.flowBoxList?a("el-table",{attrs:{data:t.flowBoxList,border:"","default-expand-all":!1}},[a("el-table-column",{attrs:{label:"序号",align:"center",type:"index",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{label:"环节名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.nodeName))])]}}],null,!0)}),e._v(" "),a("el-table-column",{attrs:{label:"初审"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(1==t.row.firstTrial?"是":"否"))])]}}],null,!0)}),e._v(" "),a("el-table-column",{attrs:{label:"复审"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(1==t.row.recheck?"是":"否"))])]}}],null,!0)}),e._v(" "),a("el-table-column",{attrs:{label:"意见"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(1==t.row.opinion?"是":"否"))])]}}],null,!0)}),e._v(" "),a("el-table-column",{attrs:{label:"附件"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(1==t.row.accessory?"是":"否"))])]}}],null,!0)}),e._v(" "),a("el-table-column",{attrs:{label:"节点描述"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.nodeDesc))])]}}],null,!0)})],1):e._e()],1)})],2)]),e._v(" "),a("el-card",{staticClass:"top-margin-10 padding-0"},[a("div",{staticStyle:{display:"flex"}},[a("span",{staticStyle:{color:"#FFA96A","font-weight":"bold"}},[e._v("|")]),e._v(" "),a("span",{staticClass:"left-margin-10",staticStyle:{color:"#263B45"}},[e._v("项目详述")])]),e._v(" "),a("div",{staticStyle:{height:"3px","background-color":"#EDF4FF",width:"100%","margin-top":"10px"}}),e._v(" "),a("div",{staticClass:"top-margin-20"},[e.check?a("Tinymce",{ref:"editor",attrs:{height:400},model:{value:e.ruleForm.projectContent,callback:function(t){e.$set(e.ruleForm,"projectContent",t)},expression:"ruleForm.projectContent"}}):a("p",{staticClass:"editorHtml",domProps:{innerHTML:e._s(e.ruleForm.projectContent)}},[e._v(e._s(e.ruleForm.projectContent))])],1),e._v(" "),a("div",{staticClass:"top-margin-20"},[a("el-row",[a("el-col",{attrs:{span:"12"}},[a("p",{staticStyle:{"margin-bottom":"10px"}},[e._v("图标：")]),e._v(" "),a("p",{staticStyle:{"margin-bottom":"10px","font-size":"12px",color:"#ff3f4b","line-height":"normal"}},[e._v("限制文件不超过"+e._s(e.$store.getters.singleCapacity/1024+"M"))]),e._v(" "),e.check?a("el-upload",{attrs:{action:"#","list-type":"picture-card",limit:1,"file-list":e.iconFileList,"http-request":e.importApprovalContract,"before-upload":e.uploadBeforeFile,"show-file-list":!0,"on-exceed":e.handleExceed},scopedSlots:e._u([{key:"file",fn:function(t){var i=t.file;return a("div",{},[a("img",{staticClass:"el-upload-list__item-thumbnail",attrs:{src:i.url,alt:""}}),e._v(" "),a("span",{staticClass:"el-upload-list__item-actions"},[a("span",{staticClass:"el-upload-list__item-preview",on:{click:function(t){return e.handlePictureCardPreview(i)}}},[a("i",{staticClass:"el-icon-zoom-in"})]),e._v(" "),e.disabled?e._e():a("span",{staticClass:"el-upload-list__item-delete",on:{click:function(t){return e.handleRemoveContract(i)}}},[a("i",{staticClass:"el-icon-delete"})])])])}}],null,!1,427111136)},[a("i",{staticClass:"el-icon-plus",attrs:{slot:"default"},slot:"default"})]):e._e(),e._v(" "),e.check||0==e.iconFileList.length?e._e():a("p",e._l(e.iconFileList,function(e){return a("img",{attrs:{src:e.url,alt:"",width:"100%"}})}),0)],1),e._v(" "),a("el-col",{attrs:{span:"12"}},[a("p",{staticStyle:{"margin-bottom":"10px"}},[e._v("封面图：")]),e._v(" "),a("p",{staticStyle:{"margin-bottom":"10px","font-size":"12px",color:"#ff3f4b","line-height":"normal"}},[e._v("限制文件不超过"+e._s(e.$store.getters.singleCapacity/1024+"M"))]),e._v(" "),e.check?a("el-upload",{attrs:{action:"#","list-type":"picture-card",limit:1,"file-list":e.imgFileList,"http-request":e.importApprovalContractImg,"before-upload":e.uploadBeforeFileImg,"show-file-list":!0,"on-exceed":e.handleExceedImg},scopedSlots:e._u([{key:"file",fn:function(t){var i=t.file;return a("div",{},[a("img",{staticClass:"el-upload-list__item-thumbnail",attrs:{src:i.url,alt:""}}),e._v(" "),a("span",{staticClass:"el-upload-list__item-actions"},[a("span",{staticClass:"el-upload-list__item-preview",on:{click:function(t){return e.handlePictureCardPreview(i)}}},[a("i",{staticClass:"el-icon-zoom-in"})]),e._v(" "),e.disabled?e._e():a("span",{staticClass:"el-upload-list__item-delete",on:{click:function(t){return e.handleRemoveContractImg(i)}}},[a("i",{staticClass:"el-icon-delete"})])])])}}],null,!1,3808749859)},[a("i",{staticClass:"el-icon-plus",attrs:{slot:"default"},slot:"default"})]):e._e(),e._v(" "),e.check||0==e.imgFileList.length?e._e():a("p",e._l(e.imgFileList,function(e){return a("img",{attrs:{src:e.url,alt:"",width:"100%"}})}),0)],1)],1),e._v(" "),a("el-dialog",{staticClass:"pic-modal",attrs:{visible:e.imgDialogVisible},on:{"update:visible":function(t){e.imgDialogVisible=t}}},[a("div",{staticClass:"pic"},[a("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})])])],1)]),e._v(" "),a("el-card",{staticClass:"top-margin-10"},[a("div",{staticClass:"center-items"},[!e.id&&e.allowAdd.twoAllow?a("el-button",{staticClass:"filter-item bg_pale_blue",attrs:{size:"large"},on:{click:e.saveForm}},[e._v("\n            确定\n          ")]):e._e(),e._v(" "),e.id&&e.check&&e.allowUpdate.twoAllow?a("el-button",{staticClass:"filter-item bg_pale_blue",attrs:{size:"large"},on:{click:e.editSubmit}},[e._v("修改\n          ")]):e._e(),e._v(" "),a("el-button",{staticClass:"filter-item bg_pale_blue left-margin-50",attrs:{size:"large"},on:{click:e.cancel}},[e._v("取消")])],1)])],1),e._v(" "),a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"条件字段选择",visible:e.fieldVisiable,width:"80%"},on:{"update:visible":function(t){e.fieldVisiable=t}}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.fieldList,border:""}},[a("el-table-column",{attrs:{align:"center",label:"",width:"65"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-radio",{attrs:{label:t.$index},on:{change:function(i){return e.getFieldIndex(t.row)}},model:{value:e.field_id,callback:function(t){e.field_id=t},expression:"field_id"}},[e._v(" ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"字段英文名",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.name))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"字段中文名",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.verbose_name))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"字段类型",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.fieldType))])]}}])})],1),e._v(" "),a("div",{staticClass:"table-button"},[a("el-button",{on:{click:function(t){e.fieldVisiable=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.changeItem}},[e._v("确定")])],1)],1),e._v(" "),a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"筛选字段选择",visible:e.filterFieldVisiable,width:"80%"},on:{"update:visible":function(t){e.filterFieldVisiable=t}}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.fieldList,border:""}},[a("el-table-column",{attrs:{align:"center",label:"",width:"65"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-radio",{attrs:{label:t.$index},on:{change:function(i){return e.getFilterFieldIndex(t.row)}},model:{value:e.field_id,callback:function(t){e.field_id=t},expression:"field_id"}},[e._v(" \n            ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"字段英文名",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.name))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"字段中文名",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.verbose_name))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"字段类型",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.fieldType))])]}}])})],1),e._v(" "),a("div",{staticClass:"table-button"},[a("el-button",{on:{click:function(t){e.filterFieldVisiable=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.changeFilterItem}},[e._v("确定")])],1)],1)],1)},staticRenderFns:[]};var f=i("VU/8")(p,u,!1,function(e){i("VKyu")},"data-v-0b8f462a",null);t.default=f.exports}});