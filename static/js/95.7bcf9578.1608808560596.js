webpackJsonp([95],{"6qHi":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("mvHQ"),n=i.n(a),s=i("Q5rI"),l=i("54n5"),o=i.n(l),r=i("ZWSL"),c={props:{id:{type:String},companyNames:{type:String}},data:function(){return{patentIcon:o.a,sortSelectData:"",sortDataList:[{id:"annualFeeDate",value:"按缴费截止顺序",type:"ASC"},{id:"-annualFeeDate",value:"按缴费截止倒序",type:"DESC"},{id:"applyDate",value:"按申请日期顺序",type:"ASC"},{id:"-applyDate",value:"按申请日期倒序",type:"DESC"},{id:"updateTime",value:"按更新日期顺序",type:"ASC"},{id:"-updateTime",value:"按更新日期倒序",type:"DESC"}],listQuery:{page:0,pageSize:20},tempPage:null,listData:[],check_biz_ids:[],isCheckAll:!1,patentType:[],listTotal:0,picBackgroundList:["#FE95B2","#9BB5FF","#69CCFF","#91E5A1","#FFCBA6"],allowAdd:this.authorityControl("SYSTEM:PROPERTY:MANAGE","SYSTEM:PROPERTY:PATENT","SYSTEM:PROPERTY:PATENT:INSERT"),allowUpdate:this.authorityControl("SYSTEM:PROPERTY:MANAGE","SYSTEM:PROPERTY:PATENT","SYSTEM:PROPERTY:PATENT:UPDATE"),allowDetail:this.authorityControl("SYSTEM:PROPERTY:MANAGE","SYSTEM:PROPERTY:PATENT","SYSTEM:PROPERTY:PATENT:DETAILS"),allowDelete:this.authorityControl("SYSTEM:PROPERTY:MANAGE","SYSTEM:PROPERTY:PATENT","SYSTEM:PROPERTY:PATENT:DELETE"),allowGetList:this.authorityControl("SYSTEM:PROPERTY:MANAGE","SYSTEM:PROPERTY:PATENT","SYSTEM:PROPERTY:PATENT:LIST"),allowExport:this.authorityControl("SYSTEM:PROPERTY:MANAGE","SYSTEM:PROPERTY:PATENT","SYSTEM:PROPERTY:PATENT:EXPORT")}},activated:function(){0!=this.$store.getters.patentPage?(this.listQuery.page=0,this.listQuery.pageSize=this.$store.getters.patentPage+20,this.getPatentData()):(this.listQuery.page=this.$store.getters.patentPage,this.listQuery.pageSize=20,this.getPatentData()),this.isCheckAll=!1,this.$nextTick(function(){var t=this.$store.getters.patentScroll;document.documentElement.scrollTop=document.body.scrollTop=t})},beforeRouteLeave:function(t,e,i){var a=document.documentElement.scrollTop;this.$store.commit("SET_PATENT_SCROLL",a),this.$store.commit("SET_PATENT_PAGE",this.listQuery.page),i()},methods:{getPatentData:function(){var t=this;Object(s.d)({keyList:"DICT:PATENT_TYPE"}).then(function(e){200===e.code&&(t.patentType=e.data["DICT:PATENT_TYPE"],t.getList())})},goHandle:function(t,e){var i=void 0;void 0!==this.id?"add"===t?this.$router.push({path:"/ipr/patent/form/add",query:{type:t,companyId:e,companyNames:this.companyNames,isUser:!0}}):"edit"===t?this.$router.push({path:"/ipr/patent/form/edit",query:{type:t,patentId:e,isUser:!0}}):"read"===t&&this.$router.push({path:"/ipr/patent/form/detail",query:{type:t,patentId:e}}):("add"===t?i="/ipr/patent/form/add":"edit"===t?i="/ipr/patent/form/edit":"read"===t&&(i="/ipr/patent/form/detail"),this.$router.push({path:i,query:{type:t,patentId:e}}))},getList:function(){var t=this;void 0!==this.id?(this.listQuery.companyId="",this.listQuery.crmCompanyId=this.id):this.listQuery.companyId="",this.allowGetList.twoAllow?Object(r.o)(this.listQuery).then(function(e){if(200===e.code){var i=e.data.data;i.forEach(function(e){t.patentType.forEach(function(t){e.patentType===t.dictId&&(e.patentTypeName=t.dictName)})});var a=[],n=[],s=void 0;for(s=0;s<i.length;)n.push(i.slice(s,s+=5));n.forEach(function(e){e.forEach(function(e,i){t.picBackgroundList.forEach(function(t,a){i===a&&(e.bgColor=t)})})}),n.forEach(function(t){t.forEach(function(t){a.push(t)})}),t.listQuery.page>0?t.listData=t.listData.concat(a):(t.listData=a,t.check_biz_ids=[],0!=t.$store.getters.patentPage&&(t.listQuery.page=t.$store.getters.patentPage,t.listQuery.pageSize=20));var l={};t.listData=t.listData.reduce(function(t,e){return!l[e.patentId]&&(l[e.patentId]=t.push(e)),t},[]),t.listTotal=e.data.total,void 0!==t.id&&t.$emit("patentTotal",e.data.total)}}):this.$message.warning("抱歉，您没有权限获取列表数据")},checkOneOrNo:function(){this.check_biz_ids.length===this.listData.length?this.isCheckAll=!0:this.isCheckAll=!1},checkAllOrNo:function(){if(this.isCheckAll)this.check_biz_ids=[],this.isCheckAll=!1;else{var t=this;this.listData.forEach(function(e,i){-1===t.check_biz_ids.indexOf(e.patentId)&&t.check_biz_ids.push(e.patentId),t.isCheckAll=!0})}},delItemHandle:function(){var t=this;0===this.check_biz_ids.length?this.$message({message:"请勾选要删除的行！",type:"warning"}):Object(r.c)(this.check_biz_ids).then(function(e){200===e.code&&(t.check_biz_ids=[],t.isCheckAll=!1,t.$message({message:e.message,type:"success"}),t.listQuery.page=0,t.getPatentData())})},handleExport:function(){var t=this;this.listQuery.page=0,void 0!==this.id?(this.listQuery.crmCompanyId=this.id,this.listQuery.pageSize=this.listData.length):(this.listQuery.crmCompanyId="",this.listQuery.pageSize=this.listTotal);var e=JSON.parse(n()(this.listQuery));e.patentIds=this.check_biz_ids,Object(r.h)(e).then(function(e){200===e.code&&Object(r.e)({fileName:e.message,delete:!0}).then(function(e){var i=window.URL.createObjectURL(e),a=document.createElement("a");document.body.appendChild(a),t.listQuery.page=t.tempPage;var n=(new Date).getFullYear()+""+((new Date).getMonth()+1)+(new Date).getDate()+(new Date).getHours()+(new Date).getMinutes()+(new Date).getSeconds()+"-专利列表.xlsx";a.href=i,a.download=n,a.click(),window.URL.revokeObjectURL(i),t.$message({type:"success",message:"操作成功！"})})})},sortListHandle:function(t){var e=this;this.sortDataList.forEach(function(i){i.id===t&&i.type&&void 0!==i.type&&(e.listQuery.orderType=i.type)}),t.includes("-")&&(t=t.substr(1)),this.listQuery.orderField=t,this.listQuery.page=0,this.listQuery.pageSize=20,this.getPatentData()},loadMore:function(){this.tempPage=this.listQuery.page+=20,this.listQuery.pageSize=20,this.listData.length<this.listTotal&&this.getPatentData()}}},d={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"sales-plan-box"},[i("div",{staticClass:"list"},[i("div",{staticClass:"list-title"},[i("div",{staticClass:"left"},[i("div",{staticClass:"title-text"},[i("span",{staticClass:"line"}),t._v(" "),i("div",{staticClass:"search-total-num"},[t._v("搜索到 "),i("span",{staticClass:"num"},[t._v(t._s(t.listTotal))]),t._v(" 条记录")]),t._v(" "),t.check_biz_ids.length>0?i("div",{staticClass:"search-total-num",staticStyle:{"margin-left":"10px"}},[t._v("已选中 "),i("span",{staticClass:"num"},[t._v(t._s(t.check_biz_ids.length))]),t._v(" 条记录")]):t._e()]),t._v(" "),i("div",{staticClass:"title-btn-group"},[i("div",{staticClass:"btn",on:{click:t.checkAllOrNo}},[t._v("\n            "+t._s(t.isCheckAll?"取消全选":"全选")+"\n          ")]),t._v(" "),t.allowAdd.twoAllow?i("div",{staticClass:"btn",on:{click:function(e){return t.goHandle("add",t.id)}}},[t._v("新增")]):t._e(),t._v(" "),t.allowExport.twoAllow?i("div",{staticClass:"btn",on:{click:t.handleExport}},[t._v("导出")]):t._e(),t._v(" "),t.allowDelete.twoAllow?i("div",{staticClass:"btn del",on:{click:t.delItemHandle}},[t._v("删除")]):t._e()])]),t._v(" "),i("div",{staticClass:"right"},[i("el-select",{staticClass:"select-sort",attrs:{clearable:"",placeholder:"默认排序","popper-class":"select-sort-option","popper-append-to-body":!1},on:{change:t.sortListHandle},model:{value:t.sortSelectData,callback:function(e){t.sortSelectData=e},expression:"sortSelectData"}},t._l(t.sortDataList,function(t){return i("el-option",{key:t.id,attrs:{value:t.id,label:t.value}})}),1)],1)]),t._v(" "),i("div",{staticClass:"list-detail"},[t._l(t.listData,function(e){return i("div",{staticClass:"item"},[i("div",{staticClass:"item-detail"},[i("div",{staticClass:"pic"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.check_biz_ids,expression:"check_biz_ids"}],staticClass:"check-box",attrs:{type:"checkbox",name:"check_biz_ids"},domProps:{value:e.patentId,checked:Array.isArray(t.check_biz_ids)?t._i(t.check_biz_ids,e.patentId)>-1:t.check_biz_ids},on:{change:[function(i){var a=t.check_biz_ids,n=i.target,s=!!n.checked;if(Array.isArray(a)){var l=e.patentId,o=t._i(a,l);n.checked?o<0&&(t.check_biz_ids=a.concat([l])):o>-1&&(t.check_biz_ids=a.slice(0,o).concat(a.slice(o+1)))}else t.check_biz_ids=s},t.checkOneOrNo]}}),t._v(" "),i("div",{staticClass:"img-box",style:"background:"+e.bgColor},[t._v("\n              专利\n            ")])]),t._v(" "),i("div",{staticClass:"detail"},[i("div",{staticClass:"title"},[i("span",{staticClass:"text",on:{click:function(i){return t.goHandle("read",e.patentId)}}},[t._v(t._s(e.patentName))]),t._v(" "),i("span",{staticClass:"title-tag"},[t._v("\n                  专利类型："+t._s(e.patentTypeName)+"\n              ")])]),t._v(" "),i("div",{staticClass:"user-conent"},[i("div",{staticClass:"item"},[i("div",{staticClass:"cate"},[t._v("专利编号："),i("span",[t._v(t._s(e.patentNo))])]),t._v(" "),i("div",{staticClass:"cate"},[t._v("第一申请人："),i("span",[t._v(t._s(e.firstApplyName))])]),t._v(" "),i("div",{staticClass:"cate"}),t._v(" "),i("div",{staticClass:"cate"})]),t._v(" "),i("div",{staticClass:"item"},[i("div",{staticClass:"cate"},[t._v("申请日期："),i("span",[t._v(t._s(e.applyDate))])]),t._v(" "),i("div",{staticClass:"cate"},[t._v("年费截止日期："),i("span",{staticClass:"red"},[t._v(t._s(e.annualFeeDate))])]),t._v(" "),i("div",{staticClass:"cate"},[t._v("更新日期："),i("span",[t._v(t._s(e.updateTime))])]),t._v(" "),i("div",{staticClass:"cate"})])])])]),t._v(" "),i("div",{staticClass:"bage"},[i("img",{attrs:{src:t.patentIcon}})]),t._v(" "),i("div",{staticClass:"handle-btn-group"},[t.allowDetail.twoAllow?i("div",{staticClass:"btn-img read-img",on:{click:function(i){return t.goHandle("read",e.patentId)}}}):t._e(),t._v(" "),t.allowUpdate.twoAllow?i("div",{staticClass:"btn-img edit-img",on:{click:function(i){return t.goHandle("edit",e.patentId)}}}):t._e()])])}),t._v(" "),t.listData.length>=t.listTotal?i("div",{staticClass:"get-more"},[t._v("\n        没有更多\n      ")]):i("div",{staticClass:"get-more",on:{click:t.loadMore}},[t._v("\n        加载更多\n      ")])],2)])])},staticRenderFns:[]};var p=i("VU/8")(c,d,!1,function(t){i("iWgA")},"data-v-09e00447",null);e.default=p.exports},EWhr:function(t,e,i){(t.exports=i("FZ+f")(!1)).push([t.i,"\n[data-v-09e00447] .el-popper .popper__arrow {\n  right: 0 !important;\n  left: inherit !important;\n}\n.sales-plan-box[data-v-09e00447] {\n  margin: auto 5%;\n}\n.sales-plan-box .title-name[data-v-09e00447] {\n  padding-left: 20px;\n  margin-top: 20px;\n  font-size: 14px;\n  color: rgba(68, 68, 68, 0.75);\n}\n.sales-plan-box .list[data-v-09e00447] {\n  background: #ffffff;\n  -webkit-box-shadow: 0 3px 12px rgba(5, 170, 255, 0.08);\n          box-shadow: 0 3px 12px rgba(5, 170, 255, 0.08);\n  margin-top: 16px;\n}\n.sales-plan-box .list .list-title[data-v-09e00447] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n  padding: 5px 16px;\n  -webkit-box-shadow: -1px 2px 12px rgba(5, 170, 255, 0.08);\n          box-shadow: -1px 2px 12px rgba(5, 170, 255, 0.08);\n}\n.sales-plan-box .list .list-title .left[data-v-09e00447] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n.sales-plan-box .list .list-title .left .title-text[data-v-09e00447] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  margin-right: 38px;\n}\n.sales-plan-box .list .list-title .left .title-text .line[data-v-09e00447] {\n  margin-right: 8px;\n  display: inline-block;\n  width: 3px;\n  height: 14px;\n  background: #ffa96a;\n}\n.sales-plan-box .list .list-title .left .title-text .search-total-num[data-v-09e00447] {\n  font-size: 14px;\n  font-family: Microsoft YaHei;\n  font-weight: 400;\n  color: rgba(68, 68, 68, 0.75);\n}\n.sales-plan-box .list .list-title .left .title-text .search-total-num .num[data-v-09e00447] {\n  color: #FF6C6C;\n}\n.sales-plan-box .list .list-title .left .title-btn-group[data-v-09e00447] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n.sales-plan-box .list .list-title .left .title-btn-group .btn[data-v-09e00447] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  margin-right: 14px;\n  padding: 4px 9px;\n  font-size: 16px;\n  color: #05aaff;\n  border: 1px solid #05aaff;\n  border-radius: 2px;\n  cursor: pointer;\n}\n.sales-plan-box .list .list-title .left .title-btn-group .btn[data-v-09e00447]:hover {\n  color: #fff;\n  background: #05aaff;\n}\n.sales-plan-box .list .list-title .left .title-btn-group .btn.del[data-v-09e00447] {\n  border: 1px solid #f56c6c;\n  color: #f56c6c;\n}\n.sales-plan-box .list .list-title .left .title-btn-group .btn.del[data-v-09e00447]:hover {\n  color: #fff;\n  background: #f56c6c;\n}\n.sales-plan-box .list .list-title .left .title-btn-group .btn[data-v-09e00447]:active {\n  opacity: 0.5;\n}\n.sales-plan-box .list .list-title .right .select-sort[data-v-09e00447] .el-input__inner {\n  font-size: 15px;\n  border: 0;\n  text-align: right;\n  color: #05aaff;\n}\n.sales-plan-box .list .list-title .right .select-sort[data-v-09e00447] .el-input__icon {\n  line-height: 0;\n}\n.sales-plan-box .list .list-detail .item[data-v-09e00447] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n  padding: 20px;\n  padding-bottom: 8px;\n  position: relative;\n  border-bottom: 1px solid #ddd;\n}\n.sales-plan-box .list .list-detail .item[data-v-09e00447]:last-child {\n  border-bottom: 0;\n}\n.sales-plan-box .list .list-detail .item .item-detail[data-v-09e00447] {\n  width: 100%;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: start;\n      -ms-flex-align: start;\n          align-items: flex-start;\n}\n.sales-plan-box .list .list-detail .item .item-detail .pic[data-v-09e00447] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  margin-right: 20px;\n}\n.sales-plan-box .list .list-detail .item .item-detail .pic .check-box[data-v-09e00447] {\n  width: 18px;\n  height: 18px;\n  cursor: pointer;\n}\n.sales-plan-box .list .list-detail .item .item-detail .pic .check-box[data-v-09e00447] .el-checkbox__inner::after {\n  height: 10px;\n  left: 6px;\n}\n.sales-plan-box .list .list-detail .item .item-detail .pic .img-box[data-v-09e00447] {\n  width: 84px;\n  height: 84px;\n  border-radius: 4px;\n  background: #69ccff;\n  margin-left: 15px;\n  font-size: 18px;\n  font-family: PingFang SC;\n  font-weight: 400;\n  color: #fff;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  padding: 24px;\n}\n.sales-plan-box .list .list-detail .item .item-detail .detail[data-v-09e00447] {\n  width: 100%;\n  padding-top: 3px;\n}\n.sales-plan-box .list .list-detail .item .item-detail .detail .text[data-v-09e00447] {\n  margin-right: 18px;\n}\n.sales-plan-box .list .list-detail .item .item-detail .detail .title[data-v-09e00447] {\n  font-size: 18px;\n  color: #444444;\n  font-weight: bold;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  margin-bottom: 12px;\n  cursor: pointer;\n}\n.sales-plan-box .list .list-detail .item .item-detail .detail .title .title-tag[data-v-09e00447] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  padding: 3px 8px;\n  background: #cdeeff;\n  border-radius: 12px;\n  color: #05aaff;\n  font-weight: normal;\n  font-size: 14px;\n}\n.sales-plan-box .list .list-detail .item .item-detail .detail .user-conent .item[data-v-09e00447] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -ms-flex-wrap: wrap;\n      flex-wrap: wrap;\n  padding: 0;\n  font-size: 14px;\n  border-bottom: 0;\n}\n.sales-plan-box .list .list-detail .item .item-detail .detail .user-conent .item .cate[data-v-09e00447] {\n  min-width: 25%;\n  color: rgba(68, 68, 68, 0.75);\n  margin-bottom: 12px;\n}\n.sales-plan-box .list .list-detail .item .item-detail .detail .user-conent .item .cate span[data-v-09e00447] {\n  color: #444444;\n}\n.sales-plan-box .list .list-detail .item .item-detail .detail .user-conent .item .cate .blue[data-v-09e00447] {\n  color: #05aaff;\n  cursor: pointer;\n}\n.sales-plan-box .list .list-detail .item .item-detail .detail .user-conent .item .cate .red[data-v-09e00447] {\n  color: #f56c6c;\n}\n.sales-plan-box .list .list-detail .item .bage[data-v-09e00447] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  margin-right: 10%;\n}\n.sales-plan-box .list .list-detail .item .handle-btn-group[data-v-09e00447] {\n  width: 98px;\n  min-width: 98px;\n}\n.sales-plan-box .list .list-detail .item .handle-btn-group .btn-img[data-v-09e00447] {\n  margin: 8px;\n  cursor: pointer;\n  width: 70px;\n  height: 30px;\n}\n.sales-plan-box .list .list-detail .item .handle-btn-group .btn-img.read-img[data-v-09e00447] {\n  background: url("+i("30/W")+") no-repeat;\n}\n.sales-plan-box .list .list-detail .item .handle-btn-group .btn-img.read-img[data-v-09e00447]:hover {\n  background: url("+i("Kxc/")+") no-repeat;\n}\n.sales-plan-box .list .list-detail .item .handle-btn-group .btn-img.edit-img[data-v-09e00447] {\n  background: url("+i("cuAl")+") no-repeat;\n}\n.sales-plan-box .list .list-detail .item .handle-btn-group .btn-img.edit-img[data-v-09e00447]:hover {\n  background: url("+i("L74e")+") no-repeat;\n}\n.sales-plan-box .list .list-detail .get-more[data-v-09e00447] {\n  padding: 30px 0;\n  text-align: center;\n  cursor: pointer;\n}\n[data-v-09e00447] .select-sort-option {\n  z-index: 98 !important;\n}\n[data-v-09e00447] .select-sort-option /deep/ .popper__arrow {\n  right: 40px !important;\n  left: auto !important;\n}\n",""])},iWgA:function(t,e,i){var a=i("EWhr");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);i("rjj0")("7f2cb833",a,!0)}});