webpackJsonp([31],{S05I:function(e,t,a){(e.exports=a("FZ+f")(!1)).push([e.i,"\n.col_skyblue[data-v-3aef66de] {\n  color: #05AAFF !important;\n}\n.col_skyblue[data-v-3aef66de]:hover {\n  opacity: 0.5;\n}\n.col_green[data-v-3aef66de] {\n  color: #85ce61 !important;\n}\n.col_green[data-v-3aef66de]:hover {\n  opacity: 0.5;\n}\n.col_blue[data-v-3aef66de] {\n  color: #008DD6 !important;\n}\n.col_blue[data-v-3aef66de]:hover {\n  opacity: 0.5;\n}\n.col_orange[data-v-3aef66de] {\n  color: #FF8527 !important;\n}\n.col_orange[data-v-3aef66de]:hover {\n  opacity: 0.5;\n}\n.col_red[data-v-3aef66de] {\n  color: #FF6B6B !important;\n}\n.col_red[data-v-3aef66de]:hover {\n  opacity: 0.5;\n}\n.col_black[data-v-3aef66de] {\n  color: #b4b4b4 !important;\n}\n.col_black[data-v-3aef66de]:hover {\n  opacity: 0.5;\n}\n.bg_orange[data-v-3aef66de] {\n  background: #FD903C;\n  color: #fff;\n}\n.bg_orange[data-v-3aef66de]:hover {\n  background: #FD903C;\n  opacity: 0.5;\n}\n.bg_gray[data-v-3aef66de] {\n  background: #b4b4b4;\n  color: #fff;\n}\n.bg_gray[data-v-3aef66de]:hover {\n  background: rgba(180, 180, 180, 0.5);\n}\n.bg_blue[data-v-3aef66de] {\n  background: #05AAFF;\n  color: #fff;\n}\n.bg_blue[data-v-3aef66de]:hover {\n  background: #05AAFF;\n  opacity: 0.5;\n}\n.header[data-v-3aef66de] {\n  margin-bottom: 10px;\n  border-bottom: 1px solid #eee;\n}\n.header[data-v-3aef66de] .el-button {\n  border-radius: 0;\n}\n.moreOperoBox[data-v-3aef66de] {\n  position: absolute;\n  left: 113px;\n  top: 65px;\n  width: 130px;\n  background: #fff;\n  text-align: center;\n  z-index: 3;\n  -webkit-box-shadow: 0px 6px 10px rgba(28, 28, 28, 0.18);\n          box-shadow: 0px 6px 10px rgba(28, 28, 28, 0.18);\n}\n.moreOperoBox .spanButton[data-v-3aef66de] {\n  height: 36px;\n  line-height: 36px;\n}\n.box-card[data-v-3aef66de] {\n  margin-bottom: 14px;\n}\n.box-card[data-v-3aef66de] .el-button {\n  border-radius: 2px;\n  height: 36px;\n  line-height: 36px;\n  padding: 0 20px;\n}\n.box-card .filterList[data-v-3aef66de] .el-input {\n  min-width: 140px;\n  max-width: 200px;\n  margin-right: 10px;\n}\n.box-card .filterList[data-v-3aef66de] .el-input__inner {\n  border-radius: 0;\n  height: 36px;\n  line-height: 36px;\n}\n.box-card .filterList[data-v-3aef66de] .filter-item {\n  margin-bottom: 0 !important;\n}\n[data-v-3aef66de] .el-table {\n  border: #d9f2ff 1px solid !important;\n}\n[data-v-3aef66de] .el-table th.gutter {\n  display: table-cell !important;\n}\n[data-v-3aef66de] .el-table--border th,[data-v-3aef66de] .el-table th {\n  background: #2CB1F5 !important;\n  color: #fff;\n  font-weight: 400;\n  border-right: 1px solid rgba(220, 223, 230, 0.21);\n}\n[data-v-3aef66de] .el-table__row:nth-child(even) {\n  background: #ebf8ff !important;\n}\n[data-v-3aef66de] .el-table--border td {\n  border: none;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n}\n[data-v-3aef66de] .el-table--border td:first-child {\n  border-right: #d9f2ff 1px solid !important;\n}\n[data-v-3aef66de] .el-table--border td:last-child {\n  border-left: #d9f2ff 1px solid !important;\n}\n.spanButton[data-v-3aef66de] {\n  color: #05AAFF;\n}\n.shu[data-v-3aef66de] {\n  margin: 0 10px;\n  color: #ccc;\n}\n.pagination-container[data-v-3aef66de] {\n  margin-top: 20px;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n}\n.pagination-container[data-v-3aef66de] .el-pagination__total {\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n}\n.pagination-container .totalText[data-v-3aef66de] {\n  font-size: 14px;\n  font-family: PingFang SC;\n  font-weight: 400;\n  line-height: 20px;\n  color: #444444;\n}\n.pagination-container .totalText span[data-v-3aef66de] {\n  margin-right: 20px;\n}\n.pagination-container[data-v-3aef66de] .el-pagination.is-background .btn-next,\n.pagination-container[data-v-3aef66de] .el-pagination.is-background .btn-prev,\n.pagination-container[data-v-3aef66de] .el-pagination.is-background .el-pager li {\n  background: none;\n  border: #D5D5D5 1px solid;\n  color: #8B8B8B;\n  font-size: 12px;\n  font-weight: normal;\n}\n.pagination-container[data-v-3aef66de] .el-pagination.is-background .el-pager li.active {\n  background: #05AAFF;\n  color: #fff;\n  border: #05AAFF 1px solid;\n}\n.pagination-container[data-v-3aef66de] .el-card.is-always-shadow,\n.pagination-container[data-v-3aef66de] .el-card.is-hover-shadow:focus,\n.pagination-container[data-v-3aef66de] .el-card.is-hover-shadow:hover {\n  -webkit-box-shadow: 0px 2px 6px rgba(68, 68, 68, 0.1) !important;\n          box-shadow: 0px 2px 6px rgba(68, 68, 68, 0.1) !important;\n}\n.upload-demo[data-v-3aef66de] {\n  /*float:right;*/\n  /*margin-bottom:20px;*/\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: reverse;\n      -ms-flex-direction: row-reverse;\n          flex-direction: row-reverse;\n  margin-left: 20px;\n}\n.app-container .el-table__header[data-v-3aef66de] {\n  background-color: #f5f7fa;\n}\n[data-v-3aef66de] .el-table__header .gutter {\n  display: block !important;\n  width: 17px !important;\n}\n.showColParent[data-v-3aef66de] {\n  cursor: pointer;\n  font-size: 20px;\n  line-height: 32px;\n  position: relative;\n}\n.showColParent[data-v-3aef66de]:hover {\n  color: #409EFF;\n}\n.showColParent .showColBox[data-v-3aef66de] {\n  position: absolute;\n  left: -74px;\n  top: 45px;\n  width: 200px;\n  height: 300px;\n  background: #fff;\n  text-align: left;\n  padding-left: 15px;\n  z-index: 99;\n  -webkit-box-shadow: 0px 6px 10px rgba(28, 28, 28, 0.18);\n          box-shadow: 0px 6px 10px rgba(28, 28, 28, 0.18);\n  overflow: scroll;\n}\n.el-icon-arrow-down[data-v-3aef66de] {\n  font-size: 12px;\n}\n.character[data-v-3aef66de] {\n  padding-bottom: 20px;\n  margin-bottom: 20px;\n  border-bottom: 1px solid #eee;\n}\n.df[data-v-3aef66de] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n}\n.table-container[data-v-3aef66de] {\n  overflow: hidden;\n}\n.table-container .table-left[data-v-3aef66de] {\n  width: 220px;\n  margin-right: 10px;\n  float: left;\n}\n.table-container .table-left .consumeType[data-v-3aef66de] {\n  margin-right: 14px;\n  border: 1px solid rgba(0, 141, 214, 0.2);\n}\n.table-container .table-left .consumeType .typeTop[data-v-3aef66de] {\n  background: #2CB1F5;\n  padding: 15px 12px;\n  font-size: 14px;\n  color: #fff;\n}\n.table-container .table-left .consumeType .typeCont[data-v-3aef66de] {\n  /*border: 1px solid rgba(0, 141, 214, 0.2);*/\n}\n.table-container .table-left .consumeType .typeCont .el-table--fit[data-v-3aef66de] {\n  margin-bottom: 0 !important;\n}\n.table-container .table-right[data-v-3aef66de] {\n  overflow: hidden;\n}\n[data-v-3aef66de] .el-dialog__header {\n  background: #05AAFF;\n  padding: 20px;\n  margin-bottom: 20px;\n}\n[data-v-3aef66de] .el-dialog__header /deep/ .el-dialog__title {\n  color: #fff;\n  font-size: 16px;\n}\n[data-v-3aef66de] .el-dialog__header /deep/ .el-dialog__headerbtn {\n  border-radius: 50%;\n  background: #fff;\n  padding: 4px;\n  font-size: 12px;\n  font-weight: 400;\n}\n[data-v-3aef66de] .el-dialog__header /deep/ .el-dialog__headerbtn /deep/ .el-dialog__close {\n  color: #05AAFF;\n}\n[data-v-3aef66de] .el-dialog__footer {\n  text-align: center;\n}\n[data-v-3aef66de] .el-dialog__footer /deep/ .el-button {\n  border-radius: 2px;\n  height: 36px;\n  line-height: 36px;\n  padding: 0 20px;\n}\n[data-v-3aef66de] .el-table .sort-caret.ascending {\n  border-bottom-color: #fff;\n}\n[data-v-3aef66de] .el-table .sort-caret.descending {\n  border-top-color: #fff;\n}\n",""])},b6NI:function(e,t,a){var n=a("S05I");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a("rjj0")("72fa1e1c",n,!0)},zYdr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("Xxa5"),i=a.n(n),r=a("exGp"),o=a.n(r),d=a("5ybE"),l=a("i3ot"),s=a("cAgV"),p={components:{EditorText:a("3/OM").a},data:function(){return{listQuery:{page:1,pageSize:10},companyName:"",companyId:"",departmentList:null,total:0,company_list:[],tableData:[],list:[],listLoading:!1,departmentDetailDialogVisible:!1,detailForm:{},departmentMembers:[],rules:{deptName:[{required:!0,message:"请输入部门名称",trigger:"blur"}],leaderUserId:[{required:!0,message:"请选择部门负责人",trigger:"blur"}]},parentIdArr:[],isChecked:!1,isSearch:!1,isEdit:!1,companyDto:!1,companyTree:"",defaultProps:{children:"child",label:"deptName"},editor1:"editor1",allowGetList:this.authorityControl("SYSTEM:BACKGROUND:MANAGE","SYSTEM:DEPT:MANAGE","SYSTEM:DEPT:LIST"),allowAdd:this.authorityControl("SYSTEM:BACKGROUND:MANAGE","SYSTEM:DEPT:MANAGE","SYSTEM:DEPT:INSTER"),allowUpdate:this.authorityControl("SYSTEM:BACKGROUND:MANAGE","SYSTEM:DEPT:MANAGE","SYSTEM:DEPT:EDIT:UPDATE"),allowDelete:this.authorityControl("SYSTEM:BACKGROUND:MANAGE","SYSTEM:DEPT:MANAGE","SYSTEM:DEPT:DELETE"),allowUpDown:this.authorityControl("SYSTEM:BACKGROUND:MANAGE","SYSTEM:DEPT:MANAGE","SYSTME:DEPT:UOORDOWN"),allowDetail:this.authorityControl("SYSTEM:BACKGROUND:MANAGE","SYSTEM:DEPT:MANAGE","SYSTEM:DEPT:DETAILS")}},directives:{waves:s.a},activated:function(){this.allowGetList.twoAllow&&this.getList(),this.getDepartmentTree(),this.isSearch=!1},methods:{changeValue:function(e){this.detailForm.deptDesc=e},getDepartmentTree:function(){var e=this;this.tableData=[],setTimeout(function(){Object(d.f)({}).then(function(t){if(e.companyTree=t.data,e.companyName=t.data.companyName,e.companyId=t.data.companyId,""==t.data.deptInfoTreeVos){e.companyDto=!0;var a={deptName:t.data.companyName,deptId:t.data.companyId};e.tableData.push(a)}else e.companyDto=!1,e.tableData=t.data.deptInfoTreeVos})},200)},getList:function(){var e=this;Object(d.d)(this.listQuery).then(function(t){e.list=t.data.data;for(var a=1;a<e.list.length;a++)e.list[a].parentId===e.list[0].deptId&&(e.list[0].children=e.list.splice(a));e.total=Number(t.data.total)})},findParentId:function(e,t){var a=this;if("0"!==e.parentId){var n=t.find(function(t){return t.child.length>0&&a.findParentId(e,t.child),t.deptId===e.parentId});n&&(this.parentIdArr.push(n.deptId),n.parentId&&this.findParentId(n,this.tableData))}},handleFilter:function(){this.isSearch=!0,this.listQuery.page=1,this.listQuery.deptId="",this.getList()},handleSortChange:function(e){this.listQuery.sortFieldName=e.prop,"ascending"===e.order?this.listQuery.sortType="ASC":"descending"===e.order?this.listQuery.sortType="DESC":this.listQuery.sortType="",this.isSearch=!1,this.getList()},treeSubHandle:function(e){this.listQuery.deptId=this.listQuery.deptId=e.deptId,this.parentIdArr=[e.parentId],this.findParentId(e,this.tableData),this.detailForm.parentIds=this.parentIdArr.join(","),this.isSearch=!1,this.allowGetList.twoAllow&&this.getList()},handleCreate:function(e,t){var a=this;this.listQuery.parentId="",this.detailForm.parentName="",this.detailForm.parentId="",1==e&&(this.listQuery.parentId=t.parentId,this.detailForm.parentName=t.deptName,this.detailForm.parentId=t.deptId,this.listQuery.deptId=t.deptId,this.parentIdArr=[t.parentId]),this.isChecked=!1,this.detailForm.parentName=this.detailForm.parentName||this.companyName,this.detailForm.parentId=this.detailForm.parentId||"0",this.departmentDetailDialogVisible=!0;Object(l.j)({page:1,pageSize:1e6}).then(function(e){a.departmentMembers=e.data.data}),setTimeout(function(){a.$refs.editor.initCKEditor()})},departChange:function(e){for(var t=0;t<this.departmentMembers.length;t++)e==this.departmentMembers[t].userId&&(this.detailForm.leaderUserName=this.departmentMembers[t].userName)},handleSubmit:function(){var e=this;return o()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.detailForm.parentIds=e.parentIdArr.join(","),e.detailForm.parentIds=e.detailForm.parentIds||"0",""!=e.detailForm.deptName&&void 0!=e.detailForm.deptName){t.next=5;break}return e.$message.warning("请输入部门名称"),t.abrupt("return");case 5:if(""!=e.detailForm.leaderUserId&&void 0!=e.detailForm.leaderUserId){t.next=8;break}return e.$message.warning("请选择部门负责人"),t.abrupt("return");case 8:if(!e.isEdit){t.next=13;break}return t.next=11,Object(d.i)(e.detailForm).then(function(t){e.$message({type:"success",message:t.message}),e.getDepartmentTree(),e.getList()});case 11:t.next=15;break;case 13:return t.next=15,Object(d.a)(e.detailForm).then(function(t){e.$message({type:"success",message:t.message}),e.getDepartmentTree(),e.getList()});case 15:e.departmentDetailDialogVisible=!1,e.isSearch=!1,e.$refs.editor.destroyEditor();case 18:case"end":return t.stop()}},t,e)}))()},cancelDept:function(){this.departmentDetailDialogVisible=!1,this.$refs.editor.destroyEditor()},getDepartmentDetail:function(e){var t=this,a={deptId:e};Object(d.c)(a).then(function(e){t.detailForm=e.data,t.detailForm.parentName=t.detailForm.parentName||t.companyName,t.detailForm.parentId=t.detailForm.parentId||"0",t.departmentDetailDialogVisible=!0,setTimeout(function(){t.$refs.editor.initCKEditor()},100)})},handleUpdate:function(e){var t=this;if(this.isChecked=!1,this.isEdit=!0,"0"==e.parentId){var a={page:1,pageSize:1e6};Object(l.j)(a).then(function(e){t.departmentMembers=e.data.data})}else{a={deptId:e.deptId,companyId:this.$store.getters.companyId};Object(d.e)(a).then(function(e){t.departmentMembers=e.data})}this.getDepartmentDetail(e.deptId)},handleChecked:function(e){this.allowDetail.twoAllow&&(this.isChecked=!0,this.getDepartmentDetail(e.deptId))},handleDel:function(e){var t=this;this.$confirm("此操作将删除该节点和其子节点, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var a={deptId:e,companyId:t.$store.getters.companyId};Object(d.b)(a).then(function(e){t.$message({type:"success",message:"删除成功!"}),t.listQuery.page=Math.ceil((t.total-1)/t.listQuery.pageSize)<t.listQuery.page?--t.listQuery.page:t.listQuery.page,t.getDepartmentTree(),t.isSearch=!1,t.getList()})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},handleUp:function(e,t){var a=this,n={deptId:e,parentId:t,operationType:1,companyId:this.$store.getters.companyId};Object(d.g)(n).then(function(e){a.$message({type:"success",message:e.message}),a.getDepartmentTree(),a.getList()})},handleDown:function(e,t){var a=this,n={deptId:e,parentId:t,operationType:2,companyId:this.$store.getters.companyId};Object(d.g)(n).then(function(e){a.$message({type:"success",message:e.message}),a.getDepartmentTree(),a.getList()})},handleSizeChange:function(e){this.listQuery.pageSize=e,this.getList()},handleCurrentChange:function(e){this.listQuery.page=e,this.getList()}},watch:{departmentDetailDialogVisible:function(e){e||(this.isEdit=!1,this.$set(this.detailForm,"deptName",""),this.$set(this.detailForm,"deptId",""),this.$set(this.detailForm,"leaderUserName",""),this.$set(this.detailForm,"leaderUserId",""),this.$set(this.detailForm,"deptDesc",""))}}},c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"table-container"},[a("div",{staticClass:"table-left"},[a("div",{staticClass:"consumeType"},[a("div",{staticClass:"typeTop"},[e._v("组织架构")]),e._v(" "),a("div",{staticClass:"typeCont"},[a("el-tree",{ref:"tableData",attrs:{data:e.tableData,"node-key":"deptId","check-strictly":"",props:e.defaultProps,"expand-on-click-node":!1,"highlight-current":!0},on:{"node-click":e.treeSubHandle},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.node;return t.data,a("span",{staticClass:"span-ellipsis"},[a("span",{attrs:{title:n.label}},[e._v(e._s(n.label))])])}}])})],1)])]),e._v(" "),a("div",{staticClass:"table-right"},[a("el-row",{staticClass:"filterList character",attrs:{type:"flex",justify:"space-between"}},[a("div",{staticClass:"df"},[a("el-input",{staticClass:"filter-item",attrs:{size:"small",placeholder:"部门名称",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleFilter(t)}},model:{value:e.listQuery.deptName,callback:function(t){e.$set(e.listQuery,"deptName",t)},expression:"listQuery.deptName"}}),e._v(" "),a("el-button",{staticClass:"filter-item bg_blue",attrs:{size:"small",icon:"el-icon-search"},on:{click:e.handleFilter}},[e._v("搜索")])],1),e._v(" "),a("div",{staticClass:"df"},[e.allowAdd.twoAllow?a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item bg_blue",attrs:{size:"small"},on:{click:function(t){return e.handleCreate(8)}}},[e._v("新建部门")]):e._e()],1)]),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.list,"default-expand-all":"",border:"",fit:"","highlight-current-row":"","row-key":"deptId","tree-props":{children:"children"}},on:{"sort-change":e.handleSortChange,"cell-dblclick":e.handleChecked}},[a("el-table-column",{attrs:{label:"序号",type:"index",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"120px",label:"部门名称",prop:"deptName",sortable:"custom"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.deptName))])]}}])}),e._v(" "),a("el-table-column",{attrs:{"min-width":"80px",label:"负责人",prop:"leaderUserName",sortable:"custom"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.leaderUserName))])]}}])}),e._v(" "),a("el-table-column",{attrs:{"min-width":"100px",label:"备注"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{domProps:{innerHTML:e._s(t.row.deptDesc)}},[e._v(e._s(t.row.deptDesc))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作",width:"340px","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticClass:"spanButton col_skyblue",on:{click:function(a){return e.handleCreate(1,t.row)}}},[e._v("新建子部门")]),e._v(" "),a("span",{staticClass:"shu"},[e._v("|")]),e._v(" "),e.allowUpdate.twoAllow?a("span",{staticClass:"spanButton col_skyblue",on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("编辑")]):e._e(),e._v(" "),a("span",{staticClass:"shu"},[e._v("|")]),e._v(" "),e.allowDelete.twoAllow?a("span",{staticClass:"spanButton col_red",on:{click:function(a){return e.handleDel(t.row.deptId)}}},[e._v("删除")]):e._e(),e._v(" "),!e.isSearch&&!t.row.children||!e.isSearch&&!t.row.children.length&&e.allowUpDown.twoAllow?a("span",{staticClass:"shu"},[e._v("|")]):e._e(),e._v(" "),!e.isSearch&&!t.row.children||!e.isSearch&&!t.row.children.length&&e.allowUpDown.twoAllow?a("span",{staticClass:"spanButton col_orange",on:{click:function(a){return e.handleUp(t.row.deptId,t.row.parentId)}}},[e._v("上升")]):e._e(),e._v(" "),!e.isSearch&&!t.row.children||!e.isSearch&&!t.row.children.length&&e.allowUpDown.twoAllow?a("span",{staticClass:"shu"},[e._v("|")]):e._e(),e._v(" "),!e.isSearch&&!t.row.children||!e.isSearch&&!t.row.children.length&&e.allowUpDown.twoAllow?a("span",{staticClass:"spanButton col_orange",on:{click:function(a){return e.handleDown(t.row.deptId,t.row.parentId)}}},[e._v("下降")]):e._e()]}}])})],1),e._v(" "),a("div",{staticClass:"pagination-container"},[a("div",{staticClass:"totalText"},[a("span",[e._v("总数："+e._s(e.total))]),e._v(" "),a("span",[e._v("总页数:"+e._s(Math.ceil(e.total/e.listQuery.pageSize)||Math.ceil(e.total/10)))]),e._v(" "),a("span",[e._v("当前页："+e._s(e.listQuery.page||1))])]),e._v(" "),a("el-pagination",{attrs:{background:"","current-page":e.listQuery.page,"page-sizes":[10,20,30,50],"page-size":e.listQuery.pageSize,layout:"prev, pager, next, sizes, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)])]),e._v(" "),a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"部门管理编辑",visible:e.departmentDetailDialogVisible,width:"586px"},on:{"update:visible":function(t){e.departmentDetailDialogVisible=t}}},[a("el-form",{ref:"detailForm",attrs:{model:e.detailForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"父部门名称:"}},[e.isChecked?a("span",[e._v(e._s(e.detailForm.parentName))]):a("el-input",{attrs:{size:"small",disabled:!0},model:{value:e.detailForm.parentName,callback:function(t){e.$set(e.detailForm,"parentName",t)},expression:"detailForm.parentName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"部门名称:",prop:"deptName"}},[e.isChecked?a("span",[e._v(e._s(e.detailForm.deptName))]):a("el-input",{attrs:{size:"small"},model:{value:e.detailForm.deptName,callback:function(t){e.$set(e.detailForm,"deptName",t)},expression:"detailForm.deptName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"负责人:",prop:"leaderUserId"}},[e.isChecked?a("span",[e._v(e._s(e.detailForm.leaderUserName))]):a("el-select",{attrs:{size:"small",placeholder:"请选择部门负责人"},on:{change:e.departChange},model:{value:e.detailForm.leaderUserId,callback:function(t){e.$set(e.detailForm,"leaderUserId",t)},expression:"detailForm.leaderUserId"}},e._l(e.departmentMembers,function(e){return a("el-option",{key:e.userId,attrs:{label:e.userName,value:e.userId}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"备注:",prop:"deptDesc"}},[e.isChecked?a("span",{domProps:{innerHTML:e._s(e.detailForm.deptDesc)}},[e._v(e._s(e.detailForm.deptDesc))]):a("EditorText",{ref:"editor",attrs:{id:e.editor1,value:e.detailForm.deptDesc},on:{changeValue:function(t){return e.changeValue(t)}}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e.isChecked?e._e():a("el-button",{staticClass:"bg_blue",attrs:{size:"small"},on:{click:e.handleSubmit}},[e._v("确 定")]),e._v(" "),a("el-button",{attrs:{size:"small"},on:{click:e.cancelDept}},[e._v("取 消")])],1)],1)],1)},staticRenderFns:[]};var h=a("VU/8")(p,c,!1,function(e){a("b6NI")},"data-v-3aef66de",null);t.default=h.exports}});