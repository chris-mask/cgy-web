webpackJsonp([128],{"72S2":function(t,e,i){(t.exports=i("FZ+f")(!1)).push([t.i,"\n[data-v-0a451e74] .el-popper .popper__arrow {\n  right: 0 !important;\n  left: inherit !important;\n}\n.sales-plan-box[data-v-0a451e74] {\n  margin: auto 5%;\n}\n.sales-plan-box .title-name[data-v-0a451e74] {\n  padding-left: 20px;\n  margin-top: 20px;\n  font-size: 14px;\n  color: rgba(68, 68, 68, 0.75);\n}\n.sales-plan-box .list[data-v-0a451e74] {\n  background: #ffffff;\n  -webkit-box-shadow: 0 3px 12px rgba(5, 170, 255, 0.08);\n          box-shadow: 0 3px 12px rgba(5, 170, 255, 0.08);\n  margin-top: 16px;\n}\n.sales-plan-box .list .list-title[data-v-0a451e74] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n  padding: 5px 16px;\n  -webkit-box-shadow: -1px 2px 12px rgba(5, 170, 255, 0.08);\n          box-shadow: -1px 2px 12px rgba(5, 170, 255, 0.08);\n}\n.sales-plan-box .list .list-title .left[data-v-0a451e74] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n.sales-plan-box .list .list-title .left .title-text[data-v-0a451e74] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  margin-right: 38px;\n}\n.sales-plan-box .list .list-title .left .title-text .line[data-v-0a451e74] {\n  margin-right: 8px;\n  display: inline-block;\n  width: 3px;\n  height: 14px;\n  background: #ffa96a;\n}\n.sales-plan-box .list .list-title .left .title-text .search-total-num[data-v-0a451e74] {\n  font-size: 14px;\n  font-family: Microsoft YaHei;\n  font-weight: 400;\n  color: rgba(68, 68, 68, 0.75);\n}\n.sales-plan-box .list .list-title .left .title-text .search-total-num .num[data-v-0a451e74] {\n  color: #FF6C6C;\n}\n.sales-plan-box .list .list-title .left .title-btn-group[data-v-0a451e74] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n.sales-plan-box .list .list-title .left .title-btn-group .btn[data-v-0a451e74] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  margin-right: 14px;\n  padding: 4px 9px;\n  font-size: 16px;\n  color: #05aaff;\n  border: 1px solid #05aaff;\n  border-radius: 2px;\n  cursor: pointer;\n}\n.sales-plan-box .list .list-title .left .title-btn-group .btn[data-v-0a451e74]:hover {\n  color: #fff;\n  background: #05aaff;\n}\n.sales-plan-box .list .list-title .left .title-btn-group .btn.del[data-v-0a451e74] {\n  border: 1px solid #f56c6c;\n  color: #f56c6c;\n}\n.sales-plan-box .list .list-title .left .title-btn-group .btn.del[data-v-0a451e74]:hover {\n  color: #fff;\n  background: #f56c6c;\n}\n.sales-plan-box .list .list-title .left .title-btn-group .btn[data-v-0a451e74]:active {\n  opacity: 0.5;\n}\n.sales-plan-box .list .list-title .right .select-sort[data-v-0a451e74] .el-input__inner {\n  font-size: 15px;\n  border: 0;\n  text-align: right;\n  color: #05aaff;\n}\n.sales-plan-box .list .list-title .right .select-sort[data-v-0a451e74] .el-input__icon {\n  line-height: 0;\n}\n.sales-plan-box .list .list-detail .item[data-v-0a451e74] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n  padding: 20px;\n  padding-bottom: 8px;\n  position: relative;\n  border-bottom: 1px solid #ddd;\n}\n.sales-plan-box .list .list-detail .item[data-v-0a451e74]:last-child {\n  border-bottom: 0;\n}\n.sales-plan-box .list .list-detail .item .item-detail[data-v-0a451e74] {\n  width: 100%;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: start;\n      -ms-flex-align: start;\n          align-items: flex-start;\n}\n.sales-plan-box .list .list-detail .item .item-detail .pic[data-v-0a451e74] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  margin-right: 20px;\n}\n.sales-plan-box .list .list-detail .item .item-detail .pic .check-box[data-v-0a451e74] {\n  width: 18px;\n  height: 18px;\n  cursor: pointer;\n}\n.sales-plan-box .list .list-detail .item .item-detail .pic .check-box[data-v-0a451e74] .el-checkbox__inner::after {\n  height: 10px;\n  left: 6px;\n}\n.sales-plan-box .list .list-detail .item .item-detail .pic .img-box[data-v-0a451e74] {\n  width: 84px;\n  height: 84px;\n  border-radius: 4px;\n  background: #69ccff;\n  margin-left: 15px;\n  font-size: 18px;\n  font-family: PingFang SC;\n  font-weight: 400;\n  color: #fff;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  padding: 24px;\n}\n.sales-plan-box .list .list-detail .item .item-detail .detail[data-v-0a451e74] {\n  width: 100%;\n  padding-top: 3px;\n}\n.sales-plan-box .list .list-detail .item .item-detail .detail .text[data-v-0a451e74] {\n  margin-right: 18px;\n}\n.sales-plan-box .list .list-detail .item .item-detail .detail .title[data-v-0a451e74] {\n  font-size: 18px;\n  color: #444444;\n  font-weight: bold;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  margin-bottom: 12px;\n  cursor: pointer;\n}\n.sales-plan-box .list .list-detail .item .item-detail .detail .title .title-tag[data-v-0a451e74] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  padding: 3px 8px;\n  background: #cdeeff;\n  border-radius: 12px;\n  color: #05aaff;\n  font-weight: normal;\n  font-size: 14px;\n}\n.sales-plan-box .list .list-detail .item .item-detail .detail .user-conent .item[data-v-0a451e74] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -ms-flex-wrap: wrap;\n      flex-wrap: wrap;\n  padding: 0;\n  font-size: 14px;\n  border-bottom: 0;\n}\n.sales-plan-box .list .list-detail .item .item-detail .detail .user-conent .item .cate[data-v-0a451e74] {\n  min-width: 25%;\n  color: rgba(68, 68, 68, 0.75);\n  margin-bottom: 12px;\n}\n.sales-plan-box .list .list-detail .item .item-detail .detail .user-conent .item .cate span[data-v-0a451e74] {\n  color: #444444;\n}\n.sales-plan-box .list .list-detail .item .item-detail .detail .user-conent .item .cate .blue[data-v-0a451e74] {\n  color: #05aaff;\n  cursor: pointer;\n}\n.sales-plan-box .list .list-detail .item .item-detail .detail .user-conent .item .cate .red[data-v-0a451e74] {\n  color: #f56c6c;\n}\n.sales-plan-box .list .list-detail .item .bage[data-v-0a451e74] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  margin-right: 10%;\n}\n.sales-plan-box .list .list-detail .item .handle-btn-group[data-v-0a451e74] {\n  width: 98px;\n  min-width: 98px;\n}\n.sales-plan-box .list .list-detail .item .handle-btn-group .btn-img[data-v-0a451e74] {\n  margin: 8px;\n  cursor: pointer;\n  width: 70px;\n  height: 30px;\n}\n.sales-plan-box .list .list-detail .item .handle-btn-group .btn-img.read-img[data-v-0a451e74] {\n  background: url("+i("30/W")+") no-repeat;\n}\n.sales-plan-box .list .list-detail .item .handle-btn-group .btn-img.read-img[data-v-0a451e74]:hover {\n  background: url("+i("Kxc/")+") no-repeat;\n}\n.sales-plan-box .list .list-detail .item .handle-btn-group .btn-img.edit-img[data-v-0a451e74] {\n  background: url("+i("cuAl")+") no-repeat;\n}\n.sales-plan-box .list .list-detail .item .handle-btn-group .btn-img.edit-img[data-v-0a451e74]:hover {\n  background: url("+i("L74e")+") no-repeat;\n}\n.sales-plan-box .list .list-detail .get-more[data-v-0a451e74] {\n  padding: 30px 0;\n  text-align: center;\n  cursor: pointer;\n}\n[data-v-0a451e74] .select-sort-option {\n  z-index: 98 !important;\n}\n[data-v-0a451e74] .select-sort-option /deep/ .popper__arrow {\n  right: 40px !important;\n  left: auto !important;\n}\n",""])},"8tA8":function(t,e,i){var a=i("72S2");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);i("rjj0")("690336cc",a,!0)},NvqC:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("mvHQ"),n=i.n(a),l=i("Q5rI"),s=i("54n5"),o=i.n(s),r=i("ZWSL"),c={props:{id:{type:String},companyNames:{type:String},powerEdit:{type:Boolean}},data:function(){return{workList:[],patentIcon:o.a,sortSelectData:"",sortDataList:[{id:"createTime",value:"按创建日期顺序",type:"ASC"},{id:"-createTime",value:"按创建日期倒序",type:"DESC"},{id:"publicDate",value:"按发布日期顺序",type:"ASC"},{id:"-publicDate",value:"按发布日期倒序",type:"DESC"},{id:"approvalDate",value:"按登记批准日顺序",type:"ASC"},{id:"-approvalDate",value:"按登记批准日倒序",type:"DESC"}],listQuery:{page:0,pageSize:20},tempPage:null,listData:[],check_biz_ids:[],isCheckAll:!1,listTotal:0,picBackgroundList:["#FE95B2","#9BB5FF","#69CCFF","#91E5A1","#FFCBA6"],allowAdd:this.authorityControl("SYSTEM:CUSTOMER:MANAGE","SYSTEM:CUSTOMER:CENTER","SYSTEM:CUSTOMER:CENTER:PROPERTY:Copyright:INSERT"),allowUpdate:this.authorityControl("SYSTEM:CUSTOMER:MANAGE","SYSTEM:CUSTOMER:CENTER","SYSTEM:CUSTOMER:CENTER:PROPERTY:Copyright:UPDATE"),allowDetail:this.authorityControl("SYSTEM:CUSTOMER:MANAGE","SYSTEM:CUSTOMER:CENTER","SYSTEM:CUSTOMER:CENTER:PROPERTY:Copyright:DETAILS"),allowDelete:this.authorityControl("SYSTEM:CUSTOMER:MANAGE","SYSTEM:CUSTOMER:CENTER","SYSTEM:CUSTOMER:CENTER:PROPERTY:Copyright:DELETE"),allowGetList:this.authorityControl("SYSTEM:CUSTOMER:MANAGE","SYSTEM:CUSTOMER:CENTER","SYSTEM:CUSTOMER:CENTER:PROPERTY:Copyright:LIST"),allowExport:this.authorityControl("SYSTEM:CUSTOMER:MANAGE","SYSTEM:CUSTOMER:CENTER","SYSTEM:CUSTOMER:CENTER:PROPERTY:Copyright:EXPORT")}},mounted:function(){this.getCopyRightData()},activated:function(){this.listQuery.page=0,this.getCopyRightData(),this.isCheckAll=!1,this.check_biz_ids=[]},methods:{getCopyRightData:function(){var t=this;Object(l.d)({keyList:"DICT:COPYRIGHT_CATEGORY"}).then(function(e){200===e.code&&(t.workList=e.data["DICT:COPYRIGHT_CATEGORY"],t.getList())})},goHandle:function(t,e){var i=void 0;void 0!==this.id?"add"===t?this.$router.push({path:"/customer/copyrightForm",query:{type:t,companyId:e,companyNames:this.companyNames,isUser:!0}}):"edit"===t?this.$router.push({path:"/customer/copyrightForm",query:{type:t,copyrightId:e,isUser:!0}}):"read"===t&&this.$router.push({path:"/customer/copyrightForm",query:{type:t,copyrightId:e}}):("add"===t?i="/customer/copyrightForm":"edit"===t?i="/customer/copyrightForm":"read"===t&&(i="/customer/copyrightForm"),this.$router.push({path:i,query:{type:t,copyrightId:e}}))},getList:function(){var t=this;void 0!==this.id?(this.listQuery.companyId="",this.listQuery.crmCompanyId=this.id):this.listQuery.companyId="",this.allowGetList.twoAllow?Object(r.n)(this.listQuery).then(function(e){if(200===e.code){var i=e.data.data;i.forEach(function(e){t.workList.forEach(function(t){e.copyrightType===t.dictId&&(e.copyrightTypeName=t.dictName)})});var a=[],n=[],l=void 0;for(l=0;l<i.length;)n.push(i.slice(l,l+=5));n.forEach(function(e){e.forEach(function(e,i){t.picBackgroundList.forEach(function(t,a){i===a&&(e.bgColor=t)})})}),n.forEach(function(t){t.forEach(function(t){a.push(t)})}),t.listQuery.page>0?t.listData=t.listData.concat(a):t.listData=a,t.listTotal=e.data.total,void 0!==t.id&&t.$emit("copyrightTotal",e.data.total)}}):this.$message.warning("抱歉，您没有权限获取此列表数据")},checkOneOrNo:function(){this.check_biz_ids.length===this.listData.length?this.isCheckAll=!0:this.isCheckAll=!1},checkAllOrNo:function(){if(this.isCheckAll)this.check_biz_ids=[],this.isCheckAll=!1;else{var t=this;this.listData.forEach(function(e,i){-1===t.check_biz_ids.indexOf(e.copyrightId)&&t.check_biz_ids.push(e.copyrightId),t.isCheckAll=!0})}},delItemHandle:function(){var t=this;0===this.check_biz_ids.length?this.$message({message:"请勾选要删除的行！",type:"warning"}):Object(r.b)(this.check_biz_ids).then(function(e){200===e.code&&(t.check_biz_ids=[],t.isCheckAll=!1,t.$message({message:e.message,type:"success"}),t.getCopyRightData())})},handleExport:function(){var t=this;this.listQuery.page=0,void 0!==this.id?(this.listQuery.crmCompanyId=this.id,this.listQuery.pageSize=this.listData.length):(this.listQuery.crmCompanyId="",this.listQuery.pageSize=this.listTotal);var e=JSON.parse(n()(this.listQuery));e.copyrightIds=this.check_biz_ids,Object(r.g)(e).then(function(e){200===e.code&&Object(r.e)({fileName:e.message,delete:!0}).then(function(e){var i=window.URL.createObjectURL(e),a=document.createElement("a");document.body.appendChild(a),t.listQuery.page=t.tempPage;var n=(new Date).getFullYear()+""+((new Date).getMonth()+1)+(new Date).getDate()+(new Date).getHours()+(new Date).getMinutes()+(new Date).getSeconds()+"-著作权列表.xlsx";a.href=i,a.download=n,a.click(),window.URL.revokeObjectURL(i),t.$message({type:"success",message:"操作成功！"})})})},sortListHandle:function(t){var e=this;this.sortDataList.forEach(function(i){i.id===t&&i.type&&void 0!==i.type&&(e.listQuery.orderType=i.type)}),t.includes("-")&&(t=t.substr(1)),this.listQuery.orderField=t,this.getCopyRightData()},loadMore:function(){this.tempPage=this.listQuery.page+=20,this.listQuery.pageSize=20,this.listData.length<this.listTotal&&this.getCopyRightData()}}},d={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"sales-plan-box"},[i("div",{staticClass:"list"},[i("div",{staticClass:"list-title"},[i("div",{staticClass:"left"},[i("div",{staticClass:"title-text"},[i("span",{staticClass:"line"}),t._v(" "),i("div",{staticClass:"search-total-num"},[t._v("搜索到 "),i("span",{staticClass:"num"},[t._v(t._s(t.listTotal))]),t._v(" 条记录")]),t._v(" "),t.check_biz_ids.length>0?i("div",{staticClass:"search-total-num",staticStyle:{"margin-left":"10px"}},[t._v("已选中 "),i("span",{staticClass:"num"},[t._v(t._s(t.check_biz_ids.length))]),t._v(" 条记录")]):t._e()]),t._v(" "),i("div",{staticClass:"title-btn-group"},[i("div",{staticClass:"btn",on:{click:t.checkAllOrNo}},[t._v("\n            "+t._s(t.isCheckAll?"取消全选":"全选")+"\n          ")]),t._v(" "),t.allowAdd.twoAllow&&t.powerEdit?i("div",{staticClass:"btn",on:{click:function(e){return t.goHandle("add",t.id)}}},[t._v("新增")]):t._e(),t._v(" "),t.allowExport.twoAllow?i("div",{staticClass:"btn",on:{click:t.handleExport}},[t._v("导出")]):t._e(),t._v(" "),t.allowDelete.twoAllow&&t.powerEdit?i("div",{staticClass:"btn del",on:{click:t.delItemHandle}},[t._v("删除")]):t._e()])]),t._v(" "),i("div",{staticClass:"right"},[i("el-select",{staticClass:"select-sort",attrs:{clearable:"",placeholder:"默认排序","popper-class":"select-sort-option","popper-append-to-body":!1},on:{change:t.sortListHandle},model:{value:t.sortSelectData,callback:function(e){t.sortSelectData=e},expression:"sortSelectData"}},t._l(t.sortDataList,function(t){return i("el-option",{key:t.id,attrs:{value:t.id,label:t.value}})}),1)],1)]),t._v(" "),i("div",{staticClass:"list-detail"},[t._l(t.listData,function(e){return i("div",{staticClass:"item"},[i("div",{staticClass:"item-detail"},[i("div",{staticClass:"pic"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.check_biz_ids,expression:"check_biz_ids"}],staticClass:"check-box",attrs:{type:"checkbox",name:"check_biz_ids"},domProps:{value:e.copyrightId,checked:Array.isArray(t.check_biz_ids)?t._i(t.check_biz_ids,e.copyrightId)>-1:t.check_biz_ids},on:{change:[function(i){var a=t.check_biz_ids,n=i.target,l=!!n.checked;if(Array.isArray(a)){var s=e.copyrightId,o=t._i(a,s);n.checked?o<0&&(t.check_biz_ids=a.concat([s])):o>-1&&(t.check_biz_ids=a.slice(0,o).concat(a.slice(o+1)))}else t.check_biz_ids=l},t.checkOneOrNo]}}),t._v(" "),i("div",{staticClass:"img-box",style:"background:"+e.bgColor},[t._v("\n              著作\n            ")])]),t._v(" "),i("div",{staticClass:"detail"},[i("div",{staticClass:"title"},[i("span",{staticClass:"text",on:{click:function(i){return t.goHandle("read",e.copyrightId)}}},[t._v(t._s(e.copyrightName))]),t._v(" "),i("span",{staticClass:"title-tag"},[t._v("\n                  著作类型："+t._s(e.copyrightTypeName)+"\n              ")])]),t._v(" "),i("div",{staticClass:"user-conent"},[i("div",{staticClass:"item"},[i("div",{staticClass:"cate"},[t._v("著作权人："),i("span",[t._v(t._s(e.copyrightOwner))])]),t._v(" "),i("div",{staticClass:"cate"},[t._v("登记号："),i("span",[t._v(t._s(e.registerNo))])]),t._v(" "),i("div",{staticClass:"cate"}),t._v(" "),i("div",{staticClass:"cate"})]),t._v(" "),i("div",{staticClass:"item"},[i("div",{staticClass:"cate"},[t._v("登记批准日："),i("span",[t._v(t._s(e.approvalDate))])]),t._v(" "),i("div",{staticClass:"cate"},[t._v("版本号："),i("span",{staticClass:"red"},[t._v(t._s(e.versionNo))])]),t._v(" "),i("div",{staticClass:"cate"},[t._v("发布日期："),i("span",[t._v(t._s(e.publicDate))])]),t._v(" "),i("div",{staticClass:"cate"})])])])]),t._v(" "),i("div",{staticClass:"handle-btn-group"},[t.allowDetail.twoAllow?i("div",{staticClass:"btn-img read-img",on:{click:function(i){return t.goHandle("read",e.copyrightId)}}}):t._e(),t._v(" "),t.allowUpdate.twoAllow?i("div",{staticClass:"btn-img edit-img",on:{click:function(i){return t.goHandle("edit",e.copyrightId)}}}):t._e()])])}),t._v(" "),t.listData.length>=t.listTotal?i("div",{staticClass:"get-more"},[t._v("\n        没有更多\n      ")]):i("div",{staticClass:"get-more",on:{click:t.loadMore}},[t._v("\n        加载更多\n      ")])],2)])])},staticRenderFns:[]};var p=i("VU/8")(c,d,!1,function(t){i("8tA8")},"data-v-0a451e74",null);e.default=p.exports}});