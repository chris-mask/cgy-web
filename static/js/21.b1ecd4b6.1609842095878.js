webpackJsonp([21],{"2yBc":function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,"\n.row-width-auto-margin-0-90[data-v-73e74cbc] {\n  width: auto;\n  margin: auto 1%;\n}\n[data-v-73e74cbc] .el-card {\n  overflow: inherit;\n}\n.searchCont[data-v-73e74cbc] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  max-width: 740px;\n  margin: 0 auto;\n}\n.searchCont[data-v-73e74cbc] .el-input__inner {\n  height: 100%;\n  border-radius: 0;\n  border: 1px solid #05AAFF;\n}\n.searchCont .el-input[data-v-73e74cbc] {\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n}\n.searchCont .btn[data-v-73e74cbc] {\n  border: 0;\n  border-radius: 0;\n}\n.searchCont .addBtn[data-v-73e74cbc] {\n  margin-left: 20px;\n}\n.searchCont .el-button[data-v-73e74cbc] {\n  width: 120px;\n}\n.hotSearch[data-v-73e74cbc] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  max-width: 740px;\n  margin: 0 auto;\n}\n.hotSearch p[data-v-73e74cbc] {\n  font-size: 12px;\n  color: #042B40;\n}\n.hotSearch span[data-v-73e74cbc] {\n  font-size: 12px;\n  color: #979797;\n  margin-right: 18px;\n}\n.box-card[data-v-73e74cbc] {\n  margin-bottom: 14px;\n}\n.bt_blue[data-v-73e74cbc] {\n  width: 120px;\n  height: 48px;\n  background: -webkit-gradient(linear, left top, left bottom, from(#69ccff), to(#05aaff));\n  background: linear-gradient(180deg, #69ccff 0%, #05aaff 100%);\n  opacity: 1;\n  border-radius: 2px;\n}\n[data-v-73e74cbc] .el-card__header {\n  padding: 10px 20px;\n}\n.headerTop[data-v-73e74cbc] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n}\n.headerLeft[data-v-73e74cbc] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n.headerLeft span[data-v-73e74cbc] {\n  font-size: 14px;\n  color: rgba(68, 68, 68, 0.75);\n}\n.headerLeft span span[data-v-73e74cbc] {\n  color: #F56C6C;\n}\n.headerLeft .headBtn[data-v-73e74cbc] {\n  margin-left: 40px;\n  font-size: 14px;\n}\n.headerLeft .headBtn .allChoose[data-v-73e74cbc] {\n  padding: 6px 8px;\n  color: #05AAFF;\n  border: 1px solid #05AAFF;\n  background-color: #fff;\n  border-radius: 2px;\n}\n.headerLeft .headBtn .export[data-v-73e74cbc] {\n  padding: 6px 8px;\n  border-radius: 2px;\n}\n.headerLeft .headBtn .allDelete[data-v-73e74cbc] {\n  padding: 6px 8px;\n  color: #fff;\n  border: 1px solid #FF8585;\n  background-color: #FF8585;\n  border-radius: 2px;\n}\n.headerLeft .headBtn .originBtn[data-v-73e74cbc] {\n  padding: 6px 8px;\n  color: #fff;\n  border: 1px solid #FD903C;\n  background-color: #FD903C;\n  border-radius: 2px;\n}\n.headerRig[data-v-73e74cbc] .el-select .el-input__inner {\n  border: none;\n}\n.cardCont[data-v-73e74cbc] .el-card__body {\n  padding: 0;\n}\n.dataList .dataBox[data-v-73e74cbc] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  padding: 23px 30px;\n  border-bottom: 1px solid rgba(68, 68, 68, 0.14901961);\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n}\n.dataList .dataBox .dataBoxLeft[data-v-73e74cbc] {\n  width: 93%;\n}\n.dataList .dataBox .dataBoxLeft[data-v-73e74cbc] .el-checkbox {\n  width: 100%;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n}\n.dataList .dataBox .dataBoxLeft[data-v-73e74cbc] .el-checkbox__label {\n  width: 100%;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n}\n.dataList .dataBox .dataBoxLeft .dataLeft[data-v-73e74cbc] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n}\n.dataList .dataBox .dataBoxLeft .dataLeft .fileType[data-v-73e74cbc] {\n  font-size: 18px;\n  width: 60px;\n  height: 60px;\n  opacity: 1;\n  border-radius: 2px;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  color: #fff;\n  margin-right: 30px;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  white-space: pre-wrap;\n  word-break: break-all;\n  padding: 10px;\n}\n.dataList .dataBox .dataBoxLeft .dataLeft .fileDoc[data-v-73e74cbc] {\n  background: #69ccff;\n}\n.dataList .dataBox .dataBoxLeft .dataLeft .fileXls[data-v-73e74cbc] {\n  background: #91E5A1;\n}\n.dataList .dataBox .dataBoxLeft .dataLeft .filePpt[data-v-73e74cbc] {\n  background: #FFCBA6;\n}\n.dataList .dataBox .dataBoxLeft .dataLeft .filePdt[data-v-73e74cbc] {\n  background: #FF8585;\n}\n.dataList .dataBox .dataBoxLeft .dataLeft .fileJpg[data-v-73e74cbc] {\n  background: #9BB5FF;\n}\n.dataList .dataBox .dataBoxLeft .dataLeft .filePng[data-v-73e74cbc] {\n  background: #FE95B2;\n}\n.dataList .dataBox .dataBoxLeft .dataLeft .dataDetail[data-v-73e74cbc] {\n  width: 100%;\n}\n.dataList .dataBox .dataBoxLeft .dataLeft .dataDetail .titleData[data-v-73e74cbc] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n.dataList .dataBox .dataBoxLeft .dataLeft .dataDetail .titleData p[data-v-73e74cbc] {\n  font-size: 18px;\n  font-weight: bold;\n  color: #444444;\n  margin-right: 10px;\n}\n.dataList .dataBox .dataBoxLeft .dataLeft .dataDetail .down-img[data-v-73e74cbc] {\n  cursor: pointer;\n  margin-left: 12px;\n}\n.dataList .dataBox .dataBoxLeft .dataLeft .dataDetail .dataMsg[data-v-73e74cbc] {\n  font-size: 14px;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  color: #444;\n  margin-top: 16px;\n}\n.dataList .dataBox .dataBoxLeft .dataLeft .dataDetail .dataMsg span[data-v-73e74cbc] {\n  margin-right: 60px;\n}\n.dataList .dataBox .dataBoxRig .btnMt[data-v-73e74cbc] {\n  text-align: center;\n  margin-bottom: 5px;\n}\n.dataList .dataBox .dataBoxRig .btnMt .primary[data-v-73e74cbc] {\n  border: 1px solid #05aaff;\n  background: #05aaff;\n  color: #fff;\n}\n.dataList .dataBox .dataBoxRig .btnMt .primary[data-v-73e74cbc]:hover {\n  background: rgba(5, 170, 255, 0.9);\n  color: #fff;\n}\n.dataList .dataBox .dataBoxRig .btnMt .violet[data-v-73e74cbc] {\n  border: 1px solid #799cff;\n  background: #799cff;\n  color: #fff;\n}\n.dataList .dataBox .dataBoxRig .btnMt .violet[data-v-73e74cbc]:hover {\n  background: rgba(121, 156, 255, 0.9);\n  color: #fff;\n}\n.dataList .dataBox .dataBoxRig .btnMt .origin[data-v-73e74cbc] {\n  border: 1px solid #ffcba6;\n  background: #ffcba6;\n  color: #fff;\n}\n.dataList .dataBox .dataBoxRig .btnMt .origin[data-v-73e74cbc]:hover {\n  background: rgba(255, 203, 166, 0.9);\n  color: #fff;\n}\n.conditionCont[data-v-73e74cbc] {\n  padding: 10px 20px;\n}\n.conditionCont .conditionBox[data-v-73e74cbc] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  margin-bottom: 10px;\n}\n.conditionCont .conditionBox span[data-v-73e74cbc] {\n  font-size: 14px;\n  color: #606266;\n  margin-right: 10px;\n  min-width: 100px;\n  text-align: right;\n}\n.conditionCont .conditionBox .el-select[data-v-73e74cbc] {\n  margin-right: 10px;\n}\n.conditionCont .conditionBox .el-date-editor[data-v-73e74cbc] {\n  margin-right: 10px;\n}\n.conditionChoose[data-v-73e74cbc] {\n  font-size: 14px;\n  color: #444 !important;\n}\n.conditionChoose[data-v-73e74cbc]::before {\n  content: '';\n  border-left: 2px solid #03adf4;\n  margin-right: 4px;\n}\n.conditionList[data-v-73e74cbc] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  margin-left: 10px;\n}\n.conditionList .conditionBox[data-v-73e74cbc] {\n  border: 1px solid #33B3EE;\n  font-size: 12px;\n  color: #33B3EE;\n  padding: 5px;\n  margin-right: 10px;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n}\n.conditionClear[data-v-73e74cbc] {\n  border: 1px solid #ff0000;\n  font-size: 12px;\n  color: #ff0000;\n  padding: 5px;\n  cursor: pointer;\n}\n.conditRig[data-v-73e74cbc] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n.conditRig img[data-v-73e74cbc] {\n  width: 20%;\n}\n.conditRig span[data-v-73e74cbc] {\n  cursor: pointer;\n  font-size: 14px;\n  color: #33B3EE;\n  white-space: nowrap;\n  margin-left: 5px;\n}\n.projectList[data-v-73e74cbc] {\n  margin-top: 10px;\n}\n.projectList .projectBox[data-v-73e74cbc] {\n  padding: 10px;\n  background: #EFFAFF;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n}\n.projectList .projectBox[data-v-73e74cbc]:hover {\n  background: #CDEEFF;\n}\n.projectList .projectBox .projectLeft[data-v-73e74cbc] {\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n  margin-right: 15px;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n}\n.projectList .projectBox .projectLeft .proNum[data-v-73e74cbc] {\n  width: 20px;\n  height: 20px;\n  background: #FE95B2;\n  border-radius: 100%;\n  color: #fff;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  margin-right: 10px;\n}\n.projectList .projectBox .projectLeft .projectMsg[data-v-73e74cbc] {\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n}\n.projectList .projectBox .projectLeft .projectMsg .leftBox[data-v-73e74cbc] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  margin-bottom: 10px;\n}\n.projectList .projectBox .projectLeft .projectMsg .leftBox h4[data-v-73e74cbc] {\n  font-size: 14px;\n  font-weight: normal;\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n}\n.projectList .projectBox .projectRig[data-v-73e74cbc] .el-button {\n  padding: 5px 10px;\n}\n.noMore[data-v-73e74cbc] {\n  text-align: center;\n  padding: 20px 0;\n}\n[data-v-73e74cbc] .select-box-date .select-item-list .item {\n  padding: 10px 6px !important;\n}\n[data-v-73e74cbc] .el-date-editor .el-range-separator {\n  padding: 0;\n}\n.chat-modal[data-v-73e74cbc] .el-dialog__body {\n  padding-top: 0;\n}\n.dialog-box .has-more-news[data-v-73e74cbc] {\n  text-align: center;\n  color: #37BBFF;\n  font-size: 12px;\n}\n.dialog-box .has-more-news.not_more[data-v-73e74cbc] {\n  color: rgba(68, 68, 68, 0.5);\n}\n.dialog-box .has-more-news span[data-v-73e74cbc] {\n  cursor: pointer;\n}\n.dialog-box .dialog[data-v-73e74cbc] {\n  height: 300px;\n  overflow-y: auto;\n  padding: 10px;\n  border: 1px solid #37BBFF;\n  border-bottom: 0;\n  /*滚动条整体样式*/\n  /*滚动条里面小方块*/\n  /*滚动条里面轨道*/\n}\n.dialog-box .dialog .connect-div .left-massage[data-v-73e74cbc],\n.dialog-box .dialog .connect-div .right-massage[data-v-73e74cbc] {\n  margin-top: 10px;\n}\n.dialog-box .dialog .connect-div .left-massage .title[data-v-73e74cbc],\n.dialog-box .dialog .connect-div .right-massage .title[data-v-73e74cbc] {\n  width: 50%;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n.dialog-box .dialog .connect-div .left-massage .title .pic[data-v-73e74cbc],\n.dialog-box .dialog .connect-div .right-massage .title .pic[data-v-73e74cbc] {\n  min-width: 24px;\n  width: 24px;\n  height: 24px;\n  background: #37BBFF;\n  color: #fff;\n  font-size: 12px;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  border-radius: 50%;\n}\n.dialog-box .dialog .connect-div .left-massage .title .text[data-v-73e74cbc],\n.dialog-box .dialog .connect-div .right-massage .title .text[data-v-73e74cbc] {\n  color: #444;\n  font-size: 14px;\n  margin: 0 10px;\n  white-space: nowrap;\n}\n.dialog-box .dialog .connect-div .left-massage .title .time[data-v-73e74cbc],\n.dialog-box .dialog .connect-div .right-massage .title .time[data-v-73e74cbc] {\n  color: #FFA96A;\n  font-size: 14px;\n  white-space: nowrap;\n}\n.dialog-box .dialog .connect-div .left-massage .title .del-icon[data-v-73e74cbc],\n.dialog-box .dialog .connect-div .right-massage .title .del-icon[data-v-73e74cbc] {\n  cursor: pointer;\n  margin-left: 10px;\n  width: 16px;\n  display: none;\n}\n.dialog-box .dialog .connect-div .left-massage .title:hover .del-icon[data-v-73e74cbc],\n.dialog-box .dialog .connect-div .right-massage .title:hover .del-icon[data-v-73e74cbc] {\n  display: block;\n}\n.dialog-box .dialog .connect-div .left-massage .content[data-v-73e74cbc],\n.dialog-box .dialog .connect-div .right-massage .content[data-v-73e74cbc] {\n  margin-top: 10px;\n  width: 50%;\n  color: rgba(68, 68, 68, 0.75);\n  max-width: 680px;\n  background: #EEF9FF;\n  font-size: 14px;\n  padding: 10px;\n  border-radius: 4px;\n}\n.dialog-box .dialog .connect-div .left-massage .down-content[data-v-73e74cbc],\n.dialog-box .dialog .connect-div .right-massage .down-content[data-v-73e74cbc] {\n  margin-top: 10px;\n  font-size: 14px;\n}\n.dialog-box .dialog .connect-div .left-massage .down-content .down-btn[data-v-73e74cbc],\n.dialog-box .dialog .connect-div .right-massage .down-content .down-btn[data-v-73e74cbc] {\n  width: 70px;\n  height: 30px;\n  color: #fff;\n  cursor: pointer;\n  outline: none;\n  border: 0;\n  border-radius: 4px;\n  margin-left: 10px;\n  background: -webkit-gradient(linear, left top, left bottom, from(#69ccff), to(#05aaff));\n  background: linear-gradient(180deg, #69ccff 0%, #05aaff 100%);\n}\n.dialog-box .dialog .connect-div .left-massage .down-content .down-btn[data-v-73e74cbc]:active,\n.dialog-box .dialog .connect-div .right-massage .down-content .down-btn[data-v-73e74cbc]:active {\n  opacity: 0.5;\n}\n.dialog-box .dialog .connect-div .right-massage[data-v-73e74cbc] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n  -webkit-box-align: end;\n      -ms-flex-align: end;\n          align-items: flex-end;\n}\n.dialog-box .dialog .connect-div .right-massage .title[data-v-73e74cbc] {\n  -webkit-box-pack: end;\n      -ms-flex-pack: end;\n          justify-content: flex-end;\n}\n.dialog-box .dialog .connect-div .right-massage .content[data-v-73e74cbc] {\n  text-align: right;\n}\n.dialog-box .dialog .connect-div .right-massage .del-icon[data-v-73e74cbc] {\n  margin-right: 10px;\n}\n.dialog-box .dialog[data-v-73e74cbc]::-webkit-scrollbar {\n  width: 8px;\n  height: 1px;\n}\n.dialog-box .dialog[data-v-73e74cbc]::-webkit-scrollbar-thumb {\n  border-radius: 10px;\n  background: #69CCFF;\n}\n.dialog-box .dialog[data-v-73e74cbc]::-webkit-scrollbar-track {\n  border-radius: 10px;\n  background: #CDEEFF;\n}\n.dialog-box .dialog-input[data-v-73e74cbc] {\n  height: 120px;\n  border: 1px solid #37BBFF;\n}\n.dialog-box .dialog-input[data-v-73e74cbc] .el-textarea__inner {\n  border: 0;\n  resize: none;\n}\n.dialog-box .dialog-input .btn-group[data-v-73e74cbc] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: start;\n      -ms-flex-align: start;\n          align-items: flex-start;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n  padding: 0 15px;\n}\n.dialog-box .dialog-input .btn-group[data-v-73e74cbc] .el-button {\n  border: 0;\n}\n.dialog-box .dialog-input .btn-group .update-files-btn[data-v-73e74cbc] {\n  background: -webkit-gradient(linear, left top, left bottom, from(#98b1fa), to(#5883ff));\n  background: linear-gradient(180deg, #98b1fa 0%, #5883ff 100%);\n}\n.dialog-box .dialog-input .btn-group .send-tap[data-v-73e74cbc] {\n  white-space: nowrap;\n  font-size: 14px;\n  color: #00A5FF;\n  margin-right: 10px;\n}\n.dialog-box .dialog-input .btn-group .send-btn[data-v-73e74cbc] {\n  background: -webkit-gradient(linear, left top, left bottom, from(#69ccff), to(#05aaff));\n  background: linear-gradient(180deg, #69ccff 0%, #05aaff 100%);\n}\n.el-button.is-disabled[data-v-73e74cbc] {\n  color: #fff;\n  background-image: none;\n  background-color: #C0C4CC;\n}\n",""])},Bg94:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("mvHQ"),n=a.n(i),o=a("VEBq"),s=a("UZ0P"),l=a("c8+v"),r=a("5ybE"),c=a("Q5rI"),d=a("tZro"),p=a("l8D1"),h=a("rN1C"),v={components:{dateSelect:o.a},data:function(){return{btnFlag:0,moreCondition:!1,checkList:[],department:"",departmentList:[{dictName:"部门1",dictId:1},{dictName:"部门2",dictId:2},{dictName:"部门3",dictId:3}],level:3,parentId:0,provinceList:[],cityList:[],districtList:[],townList:[],dateList:[{key:"0:7",val:"1周内"},{key:"0:14",val:"2周内"},{key:"0:30",val:"1月内"},{key:"0:60",val:"2月内"},{key:"0:180",val:"半年内"},{key:"0:365",val:"1年内"}],signOffTime:"",fileList:[],limitNum:1,fileTemp:"",approvalForm:{page:0,pageSize:20,provinceId:"",cityId:"",districtId:"",townId:""},approvalList:[],approvalCheckList:[],total:0,isCheckAll:!1,sortList:[{label:"客户级别顺序",value:"companyLevel",key:"ASC"},{label:"客户级别倒序",value:"companyLevel",key:"DESC"},{label:"项目库创建顺序",value:"createTime",key:"ASC"},{label:"项目库创建倒序",value:"createTime",key:"DESC"}],sort:"",projectLevelList:[{label:"国家级",value:1},{label:"省级",value:2},{label:"市级",value:3},{label:"区县级",value:4},{label:"镇街级",value:5}],batchNoList:[{label:"未指定",value:0},{label:"第一批",value:1},{label:"第二批",value:2},{label:"第三批",value:3},{label:"第四批",value:4},{label:"第五批",value:5}],picBackgroundList:["#FE95B2","#9BB5FF","#69CCFF","#91E5A1","#FFCBA6"],selectConditionsList:{},pickerOptions:{shortcuts:[{text:"昨天",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-864e5),e.setTime(e.getTime()-864e5),t.$emit("pick",[a,e])}},{text:"今天",onClick:function(t){var e=new Date,a=new Date;t.$emit("pick",[a,e])}},{text:"上周",onClick:function(t){var e=new Date;e.setTime(e.getTime()-6048e5);var a=e.getDay(),i=new Date,n=new Date;0==a?(i.setDate(e.getDate()),n.setDate(e.getDate()+6)):(i.setTime(e.getTime()-864e5*a),n.setTime(e.getTime()+864e5*(6-a))),t.$emit("pick",[i,n])}},{text:"本周",onClick:function(t){var e=new Date,a=new Date,i=a.getDay(),n=a.getDate();0!=i&&a.setDate(n-i),t.$emit("pick",[a,e])}},{text:"上月",onClick:function(t){var e,a,i=new Date,n=i.getFullYear(),o=i.getMonth();0==o?(n--,e=new Date(n,11,1),a=new Date(n,11,31)):(e=new Date(n,o-1,1),a=new Date(n,o,0)),t.$emit("pick",[e,a])}},{text:"本月",onClick:function(t){var e=new Date,a=new Date;a.setDate(1),t.$emit("pick",[a,e])}},{text:"去年",onClick:function(t){var e=(new Date).getFullYear()-1,a=new Date,i=new Date;i.setFullYear(e),i.setMonth(0),i.setDate(1),a.setFullYear(e),a.setMonth(11),a.setDate(31),t.$emit("pick",[i,a])}},{text:"今年",onClick:function(t){var e=new Date,a=new Date;a.setMonth(0),a.setDate(1),t.$emit("pick",[a,e])}}]},signDate:"",createTime:"",projectTypeList:[],companyLevelList:[],companyList:[],deptmentList:[],userList:[],projectPersonList:[],auditPersonList:[],ConnectContentDialogVisible:!1,searchForm:{companyId:"",page:0,pageSize:10,labelValue:1},chatData:[],isShowMoreNews:!0,chatContent:"",fileTemps:[],projectForm:{page:0,pageSize:20,orderField:"sales",orderType:"DESC"},loading:!1,exportShow:!1,exportFailShow:!1,exportSuccessShow:!1,exportFailMsg:{},exportSuccessMsg:{},allowGetList:this.authorityControl("SYSTEM:COLLABORATION:SYNERGY","SYSTEM:SYNERGY:MANAGE","SYSTEM:SYNERGY:MANAGE:LIST"),allowAddOrderProcess:this.authorityControl("SYSTEM:COLLABORATION:SYNERGY","SYSTEM:SYNERGY:MANAGE","SYSTEM:SYNERGY:ORDERPROCESS:LIST"),allowGetImport:this.authorityControl("SYSTEM:COLLABORATION:SYNERGY","SYSTEM:SYNERGY:MANAGE","SYSTEM:SYNERGY:ORDERPROCESS:GETTEMPLATE"),allowImport:this.authorityControl("SYSTEM:COLLABORATION:SYNERGY","SYSTEM:SYNERGY:MANAGE","SYSTEM:SYNERGY:ORDERPROCESS:IMPORT"),allowGetDeptList:this.authorityControl("SYSTEM:BACKGROUND:MANAGE","SYSTEM:DEPT:MANAGE","SYSTEM:DEPT:LIST")}},directives:{loadMore:{bind:function(t,e){t.querySelector(".el-select-dropdown .el-select-dropdown__wrap").addEventListener("scroll",function(){this.scrollHeight-this.scrollTop<=this.clientHeight&&e.value()})}}},activated:function(){localStorage.getItem("searchName")&&""!==localStorage.getItem("searchName")&&(this.approvalForm={page:0,pageSize:10,provinceId:"",cityId:"",districtId:"",townId:""},this.selectConditionsList={},this.$set(this.approvalForm,"companyAndProjectName",localStorage.getItem("searchName"))),window.addEventListener("scroll",this.scrollToTop),this.$store.getters.approvalTaskMsg&&this.$store.getters.approvalTaskMsg.taskId&&this.getTaskInfo(),0!=this.$store.getters.approvalPage?(this.approvalForm.page=0,this.approvalForm.pageSize=this.$store.getters.approvalPage+20,this.getApprovalList()):(this.approvalForm.page=this.$store.getters.approvalPage,this.approvalForm.pageSize=20,this.getApprovalList()),this.$nextTick(function(){var t=this.$store.getters.approvalScroll;document.documentElement.scrollTop=document.body.scrollTop=t})},destroyed:function(){clearInterval(this.timer),window.removeEventListener("scroll",this.scrollToTop)},deactivated:function(){localStorage.removeItem("searchName")},beforeRouteLeave:function(t,e,a){var i=document.documentElement.scrollTop;this.$store.commit("SET_APPROVAL_SCROLL",i),this.$store.commit("SET_APPROVAL_PAGE",this.approvalForm.page),a()},methods:{backTop:function(){var t=this,e=setInterval(function(){var a=Math.floor(-t.scrollTop/5);document.documentElement.scrollTop=document.body.scrollTop=t.scrollTop+a,0===t.scrollTop&&clearInterval(e)},16)},scrollToTop:function(){var t=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;this.scrollTop=t,this.scrollTop>0?this.btnFlag=!0:this.btnFlag=!1},getTaskInfo:function(){var t=this;Object(c.s)({taskId:this.$store.getters.approvalTaskMsg.taskId}).then(function(e){if(200==e.code)if("FAILURE"==e.data.taskStatus){var a={taskId:e.data.taskId,taskMessage:e.data.taskMessage,taskTitle:e.data.taskType,taskStatus:e.data.taskStatus};t.exportShow=!1,t.exportFailShow=!0,t.exportSuccessShow=!1,t.exportFailMsg=a,t.$store.commit("SET_APPROVAL_TASKMSG",a)}else if("SUCCESS"==e.data.taskStatus){var i={taskId:e.data.taskId,taskMessage:e.data.taskMessage,taskTitle:e.data.taskType,taskStatus:e.data.taskStatus};t.exportShow=!1,t.exportFailShow=!1,t.exportSuccessShow=!0,t.exportFailMsg={},t.exportSuccessMsg=i,t.$store.commit("SET_APPROVAL_TASKMSG",i)}else t.exportShow=!1,t.exportFailShow=!1,t.exportSuccessShow=!1,t.exportFailMsg={},t.exportSuccessMsg={},t.$store.commit("SET_APPROVAL_TASKMSG",{})})},closeExportFail:function(){this.exportShow=!1,this.exportFailShow=!1,this.exportSuccessShow=!1,this.exportFailMsg={},this.$store.commit("SET_APPROVAL_TASKMSG",{})},closeExportSuccess:function(){this.exportShow=!1,this.exportFailShow=!1,this.exportSuccessShow=!1,this.exportSuccessMsg={},this.$store.commit("SET_APPROVAL_TASKMSG",{})},getApprovalList:function(){var t=this;this.allowGetList.twoAllow?Object(s.f)(this.approvalForm).then(function(e){if(200==e.code){var a=e.data.data,i=[],n=[],o=void 0;for(o=0;o<a.length;)n.push(a.slice(o,o+=5));n.forEach(function(e){e.forEach(function(e,a){t.picBackgroundList.forEach(function(t,i){a===i&&(e.bgColor=t)})})}),n.forEach(function(t){t.forEach(function(t){i.push(t)})}),t.approvalForm.page>0?(t.approvalList=t.approvalList.concat(i),t.total=e.data.total):(t.approvalList=i,t.total=e.data.total,t.approvalCheckList=[],0!=t.$store.getters.approvalPage&&(t.approvalForm.page=t.$store.getters.approvalPage,t.approvalForm.pageSize=20));var s={};t.approvalList=t.approvalList.reduce(function(t,e){return!s[e.companyId]&&(s[e.companyId]=t.push(e)),t},[])}else t.$message.warning(e.message)}):this.$message.warning("抱歉，您没有权限获取列表")},goSearch:function(){this.approvalForm.page=0,this.getApprovalList()},goDetail:function(t,e){this.$router.push({path:"/approvalCollaborative/approvalDetail",query:{approvalId:t,projectId:e}})},goEdit:function(t,e){this.$router.push({path:"/approvalCollaborative/approvalDetail",query:{approvalId:t,projectId:e,isEdit:!0}})},getMore:function(){this.approvalForm.page=this.approvalForm.page+20,this.getApprovalList()},allSelect:function(){if(this.isCheckAll)this.approvalCheckList=[],this.isCheckAll=!1;else{var t=this;this.approvalList.forEach(function(e,a){e.innerProjectInfoList.forEach(function(e){-1===t.approvalCheckList.indexOf(e.approvalId)&&t.approvalCheckList.push(e.approvalId),t.isCheckAll=!0})})}},allDelete:function(){var t=this;0!=this.approvalCheckList.length&&""!=this.approvalCheckList?this.$confirm("是否确定删除","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(s.b)({approvalIds:t.approvalCheckList}).then(function(e){200==e.code&&(t.$message.success("删除成功"),t.approvalForm.page=0,t.getApprovalList())})}):this.$message.warning("请最少选择一条")},handledSelect:function(t){var e=this;this.sortList.forEach(function(a,i){i==t&&(e.approvalForm.orderField=a.value,e.approvalForm.orderType=a.key,e.approvalForm.page=0,e.approvalForm.pageSize=20)}),this.getApprovalList()},getApprovalTemplate:function(){var t=this;Object(s.c)({}).then(function(e){200==e.code?Object(c.h)({fileName:e.data,delete:!0}).then(function(t){var e=window.URL.createObjectURL(t),a=document.createElement("a");document.body.appendChild(a);var i=(new Date).getFullYear()+((new Date).getMonth()+1)+(new Date).getDate()+(new Date).getHours()+(new Date).getMinutes()+(new Date).getSeconds()+"-立项列表模板.xlsx";a.href=e,a.download=i,a.click(),window.URL.revokeObjectURL(e)}):t.$message({type:"error",message:e.message})})},UploadUrl:function(){return"/api/policy/policyApprovalList/importApprovalListForTemplate"},fileChange:function(t){(this.fileTemp="",this.fileList=[],this.fileTemp=t.raw,this.fileTemp)?"xlsx"!==t.name.substring(t.name.lastIndexOf(".")+1)?(this.$message.warning("只能上传后缀是.xlsx的文件"),this.fileTemp="",this.fileList=[]):this.importApproval(this.fileTemp):(this.$message({type:"warning",message:"请上传文件！"}),this.fileTemp="",this.fileList=[])},importApproval:function(t){var e=this,a=new FormData;a.append("file",t),Object(s.d)(a).then(function(t){if(200==t.code){e.fileTemp="",e.fileList=[],e.$message({type:"success",message:t.message}),e.exportFailShow=!1,e.exportFailMsg={};var a={taskId:t.data.taskId};e.$store.commit("SET_APPROVAL_TASKMSG",a),e.exportShow=!0,e.getTaskInfo(),e.getApprovalList()}else e.$message({type:"warning",message:t.message})}),this.fileTemp="",this.fileList=[]},openCond:function(){this.moreCondition=!this.moreCondition,this.userList=[],this.getRegionList(),this.getCommonData(),this.getCompanyList(),this.getDepartmentList(),this.getProjectList(),this.getPersonList("项目员"),this.getPersonList("审计员"),this.getPersonList("业务员,业务主管")},getRegionList:function(){var t=this;void 0!=this.level&&null!=this.level||(this.level=3),void 0!=this.parentId&&""!=this.parentId||(this.level=3,this.parentId=0);var e={level:this.level,parentId:this.parentId};Object(c.f)(e).then(function(e){200==e.code?(3==t.level&&(t.provinceList=e.data),2==t.level&&(t.cityList=e.data),1==t.level&&(t.districtList=e.data),0==t.level&&(t.townList=e.data)):t.$message({type:"error",message:e.message})})},getCommonData:function(){var t=this;Object(c.d)({keyList:"DICT:PROJECT_TYPE,DICT:CUSTOMER_LEVEL"}).then(function(e){200==e.code?(t.projectTypeList=e.data["DICT:PROJECT_TYPE"],t.companyLevelList=e.data["DICT:CUSTOMER_LEVEL"]):t.$message({type:"error",message:e.message})})},getCompanyList:function(){var t=this;Object(p.p)().then(function(e){200==e.code?t.companyList=e.data:t.$message({type:"error",message:e.message})})},getDepartmentList:function(){var t=this;Object(r.f)({}).then(function(e){200==e.code?t.deptmentList=e.data.deptInfoTreeVos:t.$message.warning(e.message)})},getPersonList:function(t,e){var a=this,i=new FormData;i.append("roleNameList",t),void 0!=e&&i.append("deptIdList",e),Object(l.E)(i).then(function(e){200==e.code?("业务员,业务主管"==t&&(a.userList=e.data),"项目员"==t&&(a.projectPersonList=e.data),"审计员"==t&&(a.auditPersonList=e.data)):a.$message.warning(e.message)})},getProjectList:function(t){var e=this;this.projectForm.projectName=t||"",Object(h.e)(this.projectForm).then(function(t){200==t.code?e.projectForm.page>0?e.projectList=e.projectList.concat(t.data.data):e.projectList=t.data.data:e.$message.warning(t.message)})},projectListMethod:function(t){var e=this;this.projectForm.page=0,""!==t?(this.loading=!0,setTimeout(function(){e.loading=!1,e.getProjectList(t)},200)):(this.loading=!0,setTimeout(function(){e.loading=!1,e.getProjectList()},200))},loadMore:function(){this.projectForm.page=this.projectForm.page+20,this.getProjectList()},projectChange:function(t){var e=this,a=[];0!=t.length?this.projectList.forEach(function(i){t.forEach(function(t){if(i.projectName==t){a.push(i.projectName);var n=a.join("，");e.$set(e.selectConditionsList,"projectNames","项目 - "+n)}})}):this.$delete(this.selectConditionsList,"projectNames"),this.approvalForm.page=0,this.approvalForm.pageSize=20,this.getApprovalList()},yearChange:function(t){t?this.$set(this.selectConditionsList,"year","项目年度 - "+t):this.$delete(this.selectConditionsList,"year"),this.approvalForm.page=0,this.approvalForm.pageSize=20,this.getApprovalList()},applyLevelChange:function(t){t?this.$set(this.selectConditionsList,"applyLevel","项目级别 - "+this.projectLevelList.find(function(e){return e.value===t}).label):this.$delete(this.selectConditionsList,"applyLevel"),this.approvalForm.page=0,this.approvalForm.pageSize=20,this.getApprovalList()},batchNoChange:function(t){t?this.$set(this.selectConditionsList,"projectBatchNo","批次 - "+this.batchNoList.find(function(e){return e.value===t}).label):this.$delete(this.selectConditionsList,"projectBatchNo"),this.approvalForm.page=0,this.approvalForm.pageSize=20,this.getApprovalList()},changeProvince:function(t){t?this.$set(this.selectConditionsList,"provinceId","省份 - "+this.provinceList.find(function(e){return e.dictId===t}).dictName):this.$delete(this.selectConditionsList,"provinceId"),this.$delete(this.selectConditionsList,"cityId"),this.$delete(this.selectConditionsList,"districtId"),this.$delete(this.selectConditionsList,"townId"),this.approvalForm.page=0,this.approvalForm.pageSize=20,this.parentId=t,this.level=2,this.getRegionList(),this.getApprovalList()},changeCity:function(t){t?this.$set(this.selectConditionsList,"cityId","城市 - "+this.cityList.find(function(e){return e.dictId===t}).dictName):this.$delete(this.selectConditionsList,"cityId"),this.$delete(this.selectConditionsList,"districtId"),this.$delete(this.selectConditionsList,"townId"),this.approvalForm.page=0,this.approvalForm.pageSize=20,this.parentId=t,this.level=1,this.getRegionList(),this.getApprovalList()},changeDistrict:function(t){t?(this.$set(this.selectConditionsList,"districtId","区县 - "+this.districtList.find(function(e){return e.dictId===t}).dictName),this.$delete(this.selectConditionsList,"townId")):(this.$delete(this.selectConditionsList,"districtId"),this.$delete(this.selectConditionsList,"townId")),this.approvalForm.page=0,this.approvalForm.pageSize=20,this.parentId=t,this.level=0,this.getRegionList(),this.getApprovalList()},changeTown:function(t){t?this.$set(this.selectConditionsList,"townId","镇街 - "+this.townList.find(function(e){return e.dictId===t}).dictName):this.$delete(this.selectConditionsList,"townId"),this.approvalForm.page=0,this.approvalForm.pageSize=20,this.getApprovalList()},signDateChange:function(t){t?(this.$set(this.selectConditionsList,"signDate","签单时间 - "+t[0]+"-"+t[1]),this.approvalForm.signDateStart=t[0],this.approvalForm.signDateEnd=t[1]):(this.$delete(this.selectConditionsList,"signDate"),this.approvalForm.signDateStart="",this.approvalForm.signDateEnd=""),this.approvalForm.page=0,this.approvalForm.pageSize=20,this.getApprovalList()},createTimeChange:function(t){t?(this.$set(this.selectConditionsList,"createTime","录入合同时间 - "+t[0]+"-"+t[1]),this.approvalForm.createTimeStart=t[0],this.approvalForm.createTimeEnd=t[1]):(this.$delete(this.selectConditionsList,"createTime"),this.approvalForm.createTimeStart="",this.approvalForm.createTimeEnd=""),this.approvalForm.page=0,this.approvalForm.pageSize=20,this.getApprovalList()},projectTypeChange:function(t){t?this.$set(this.selectConditionsList,"projectType","项目类型 - "+this.projectTypeList.find(function(e){return e.dictId===t}).dictName):this.$delete(this.selectConditionsList,"projectType"),this.approvalForm.page=0,this.approvalForm.pageSize=20,this.getApprovalList()},companyLeveChange:function(t){t?this.$set(this.selectConditionsList,"companyLevel","客户级别 - "+this.companyLevelList.find(function(e){return e.dictId===t}).dictName):this.$delete(this.selectConditionsList,"companyLevel"),this.approvalForm.page=0,this.approvalForm.pageSize=20,this.getApprovalList()},newOrOldChange:function(t){var e="0"==t?"新客户":"1"==t?"老客户":void 0;void 0!=e?this.$set(this.selectConditionsList,"newOrOld","新老客户 - "+e):this.$delete(this.selectConditionsList,"newOrOld"),this.approvalForm.page=0,this.approvalForm.pageSize=20,this.getApprovalList()},isSigningChange:function(t){var e="0"==t?"否":"1"==t?"是":void 0;void 0!=e?this.$set(this.selectConditionsList,"isSigning","签单 - "+e):this.$delete(this.selectConditionsList,"isSigning"),this.approvalForm.page=0,this.approvalForm.pageSize=20,this.getApprovalList()},isChannelChange:function(t){var e="0"==t?"不是":"1"==t?"是":void 0;void 0!=e?this.$set(this.selectConditionsList,"isChannel","是否渠道单 - "+e):this.$delete(this.selectConditionsList,"isChannel"),this.approvalForm.page=0,this.approvalForm.pageSize=20,this.getApprovalList()},signCompanyChange:function(t){t?this.$set(this.selectConditionsList,"signCompanyId","签约公司 - "+this.companyList.find(function(e){return e.companyId===t}).companyName):this.$delete(this.selectConditionsList,"signCompanyId"),this.approvalForm.page=0,this.approvalForm.pageSize=20,this.getApprovalList()},deptmentChange:function(t){var e=this,a=[];0!=t.length?this.deptmentList.forEach(function(i){t.forEach(function(t){if(i.deptId==t){a.push(i.deptName);var n=a.join("，");e.$set(e.selectConditionsList,"deptIds","部门 - "+n)}})}):(this.$delete(this.selectConditionsList,"deptIds"),this.$delete(this.selectConditionsList,"userIds"),this.userList=[]),this.getPersonList("业务员,业务主管",t),this.approvalForm.page=0,this.approvalForm.pageSize=20,this.getApprovalList()},userChange:function(t){var e=this,a=[];0!=t.length?this.userList.forEach(function(i){t.forEach(function(t){if(i.userId==t){a.push(i.userName);var n=a.join("，");e.$set(e.selectConditionsList,"userIds","员工 - "+n)}})}):this.$delete(this.selectConditionsList,"userIds"),this.approvalForm.page=0,this.approvalForm.pageSize=20,this.getApprovalList()},engineerUser:function(t){var e=this,a=[];0!=t.length?this.projectPersonList.forEach(function(i){t.forEach(function(t){if(i.userId==t){a.push(i.userName);var n=a.join("，");e.$set(e.selectConditionsList,"engineerUserIds","项目工程师 - "+n)}})}):this.$delete(this.selectConditionsList,"engineerUserIds"),this.approvalForm.page=0,this.approvalForm.pageSize=20,this.getApprovalList()},auditUserChange:function(t){var e=this,a=[];0!=t.length?this.auditPersonList.forEach(function(i){t.forEach(function(t){if(i.userId==t){a.push(i.userName);var n=a.join("，");e.$set(e.selectConditionsList,"auditUserIds","审计人员 - "+n)}})}):this.$delete(this.selectConditionsList,"auditUserIds"),this.approvalForm.page=0,this.approvalForm.pageSize=20,this.getApprovalList()},deleteOneClick:function(t){this.approvalList=[],this.$delete(this.selectConditionsList,t),this.$delete(this.approvalForm,t),this.approvalForm.page=0,this.approvalForm.pageSize=20,"deptIds"==t&&this.getPersonList("业务员,业务主管"),this.getApprovalList()},deleteAllClick:function(){this.approvalList=[],this.getPersonList("业务员,业务主管"),this.selectConditionsList={},this.approvalForm={},this.approvalForm.page=0,this.approvalForm.pageSize=20,this.getApprovalList()},handleShowConnectContentList:function(t){this.ConnectContentDialogVisible=!0,this.searchForm.companyId=t,this.isShowMoreNews=!0,this.getConnectList()},getConnectList:function(){var t=this;this.searchForm.page=0,this.searchForm.pageSize=10,Object(d.j)(this.searchForm).then(function(e){200===e.code?(t.chatData=e.data.msgChatListVos,t.$nextTick(function(){t.$refs.dialog.scrollTop=t.$refs.dialog.scrollHeight})):t.$message.error(e.message)})},sendData:function(){var t=this;if(""!=this.chatContent){var e={chatContent:this.chatContent,companyId:this.$store.getters.companyId,toCompanyId:this.searchForm.companyId};""!==this.fileIds&&(e.fileIds=this.fileIds),Object(d.a)(e).then(function(e){200===e.code&&(t.chatContent="",t.fileTemps=[],t.fileIds="",t.getConnectList())})}else this.$message.warning("请输入沟通内容")},chatFileChange:function(t,e){var a=this;if(t.name.length>=150)return this.$message("文件名称超长，请检查"),void(this.fileTemps=JSON.parse(n()(this.fileTemps)));var i=new FormData;i.append("companyId",this.searchForm.companyId),i.append("files",t.raw),e.length>1&&e.splice(0,1),Object(d.b)(i).then(function(t){200===t.code&&(a.fileIds=t.data)})},delChat:function(t){var e=this;this.$confirm("此操作将永久删除该消息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(d.d)({chatId:t.chatId}).then(function(a){200===a.code&&(e.chatData.forEach(function(a,i){t.chatId==a.chatId&&e.chatData.splice(i,1)}),e.$message({type:"success",message:"删除成功!"}))})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},handleKeyCode:function(t){13==t.keyCode&&t.ctrlKey?this.chatContent+="\n":13==t.keyCode&&(this.sendData(),t.preventDefault())},downHandle:function(t){var e=t.replace(/http/,"https");window.location.href=e},getMoreChar:function(){var t=this;this.searchForm.page+=1,Object(d.j)(this.searchForm).then(function(e){200===e.code&&(0!==e.data.msgChatListVos.length?JSON.parse(n()(e.data.msgChatListVos)).reverse().forEach(function(e){t.chatData.unshift(e),t.$nextTick(function(){var e=t.$refs.dialog.clientHeight;t.$refs.dialog.scrollTop=t.$refs.dialog.scrollHeight/2+e})}):t.isShowMoreNews=!1)})},goCompanyDatail:function(t){this.$router.push({path:"/customer/editCustomer",query:{id:t.companyId,check:!0}})}},filters:{titleSize:function(t){return t.substring(0,1)}}},g={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app-container"},[i("div",{},[i("el-card",{staticClass:"box-card"},[i("div",{staticClass:"searchCont"},[i("el-input",{attrs:{placeholder:"输入企业名称/项目名称"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.goSearch(e)}},model:{value:t.approvalForm.companyAndProjectName,callback:function(e){t.$set(t.approvalForm,"companyAndProjectName","string"==typeof e?e.trim():e)},expression:"approvalForm.companyAndProjectName"}}),t._v(" "),i("el-button",{staticClass:"btn bt_blue",attrs:{type:"primary"},on:{click:t.goSearch}},[i("span",{staticClass:"bt_font"},[t._v("搜一下")])]),t._v(" "),t.allowGetImport.twoAllow?i("el-button",{staticClass:"btn bt_blue addBtn",attrs:{type:"primary"},on:{click:t.getApprovalTemplate}},[i("span",{staticClass:"bt_font"},[t._v("获取模板")])]):t._e(),t._v(" "),t.allowImport.twoAllow?i("el-upload",{staticClass:"upload-demo",attrs:{action:t.UploadUrl(),limit:t.limitNum,"show-file-list":!1,"auto-upload":!1,"on-change":t.fileChange,disabled:t.exportShow,"file-list":t.fileList}},[i("el-button",{staticClass:"btn bt_blue addBtn",attrs:{type:"primary",disabled:t.exportShow}},[i("span",{staticClass:"bt_font"},[t._v("导入")])])],1):t._e()],1)]),t._v(" "),t.exportShow?i("el-alert",{staticStyle:{"margin-bottom":"10px"},attrs:{title:"正在导入文件，请稍等...",type:"warning",effect:"dark"}}):t._e(),t._v(" "),t.exportFailShow?i("el-alert",{staticStyle:{"margin-bottom":"10px"},attrs:{title:t.exportFailMsg.taskTitle,type:"error",effect:"dark",description:t.exportFailMsg.taskMessage,"show-icon":""},on:{close:t.closeExportFail}}):t._e(),t._v(" "),t.exportSuccessShow?i("el-alert",{staticStyle:{"margin-top":"10px"},attrs:{title:t.exportSuccessMsg.taskTitle,type:"success",effect:"dark",description:t.exportSuccessMsg.taskMessage,"show-icon":""},on:{close:t.closeExportSuccess}}):t._e(),t._v(" "),i("el-card",{staticClass:"box-card cardCont"},[i("div",{staticClass:"headerTop",attrs:{slot:"header"},slot:"header"},[i("div",{staticClass:"headerLeft"},[i("span",{staticClass:"conditionChoose"},[t._v("已选条件:")]),t._v(" "),i("div",{staticClass:"conditionList"},[t._l(t.selectConditionsList,function(e,n){return i("div",{staticClass:"conditionBox"},[t._v("\n              "+t._s(e)),i("img",{staticClass:"hoverCursor",attrs:{src:a("cFCn")},on:{click:function(e){return t.deleteOneClick(n)}}})])}),t._v(" "),Object.keys(t.selectConditionsList).length>1?i("div",{staticClass:"conditionClear",on:{click:t.deleteAllClick}},[t._v("\n              清空所有\n            ")]):t._e()],2)]),t._v(" "),i("div",{staticClass:"headerRig conditRig",on:{click:t.openCond}},[t.moreCondition?i("img",{staticStyle:{"vertical-align":"middle"},attrs:{src:a("8DMi")}}):i("img",{staticStyle:{"vertical-align":"middle"},attrs:{src:a("RU3k")}}),t._v(" "),i("span",[t._v("选择筛选条件")])])]),t._v(" "),t.moreCondition?i("div",{staticClass:"conditionCont"},[i("el-row",[i("el-col",[i("div",{staticClass:"conditionBox"},[i("span",[t._v("常用：")]),t._v(" "),i("el-select",{attrs:{size:"small",placeholder:"签约公司",clearable:""},on:{change:t.signCompanyChange},model:{value:t.approvalForm.signCompanyId,callback:function(e){t.$set(t.approvalForm,"signCompanyId",e)},expression:"approvalForm.signCompanyId"}},t._l(t.companyList,function(t){return i("el-option",{key:t.companyId,attrs:{label:t.companyName,value:t.companyId}})}),1),t._v(" "),t.allowGetDeptList.twoAllow?i("el-select",{attrs:{size:"small",multiple:"",placeholder:"选择部门",clearable:""},on:{change:t.deptmentChange},model:{value:t.approvalForm.deptIds,callback:function(e){t.$set(t.approvalForm,"deptIds",e)},expression:"approvalForm.deptIds"}},t._l(t.deptmentList,function(t){return i("el-option",{key:t.deptId,attrs:{label:t.deptName,value:t.deptId}})}),1):t._e(),t._v(" "),i("el-select",{attrs:{size:"small",multiple:"",placeholder:"选择员工",clearable:"",filterable:""},on:{change:t.userChange},model:{value:t.approvalForm.userIds,callback:function(e){t.$set(t.approvalForm,"userIds",e)},expression:"approvalForm.userIds"}},t._l(t.userList,function(t){return i("el-option",{key:t.userId,attrs:{label:t.userName,value:t.userId}})}),1),t._v(" "),i("el-select",{attrs:{size:"small",multiple:"",placeholder:"项目工程师",clearable:""},on:{change:t.engineerUser},model:{value:t.approvalForm.engineerUserIds,callback:function(e){t.$set(t.approvalForm,"engineerUserIds",e)},expression:"approvalForm.engineerUserIds"}},t._l(t.projectPersonList,function(t){return i("el-option",{key:t.userId,attrs:{label:t.userName,value:t.userId}})}),1),t._v(" "),i("el-select",{attrs:{size:"small",multiple:"",placeholder:"审计人员",clearable:""},on:{change:t.auditUserChange},model:{value:t.approvalForm.auditUserIds,callback:function(e){t.$set(t.approvalForm,"auditUserIds",e)},expression:"approvalForm.auditUserIds"}},t._l(t.auditPersonList,function(t){return i("el-option",{key:t.userId,attrs:{label:t.userName,value:t.userId}})}),1)],1)])],1),t._v(" "),i("el-row",[i("el-col",[i("div",{staticClass:"conditionBox"},[i("span",[t._v("项目：")]),t._v(" "),i("el-select",{directives:[{name:"loadMore",rawName:"v-loadMore",value:t.loadMore,expression:"loadMore"}],attrs:{filterable:"",multiple:"",remote:"","remote-method":t.projectListMethod,loading:t.loading,size:"small",placeholder:"项目",clearable:""},on:{change:t.projectChange},model:{value:t.approvalForm.projectNames,callback:function(e){t.$set(t.approvalForm,"projectNames",e)},expression:"approvalForm.projectNames"}},t._l(t.projectList,function(t){return i("el-option",{key:t.projectName,attrs:{label:t.projectName,value:t.projectName}})}),1),t._v(" "),i("el-date-picker",{attrs:{clearable:"",size:"small",type:"year","value-format":"yyyy",placeholder:"项目年度"},on:{change:t.yearChange},model:{value:t.approvalForm.year,callback:function(e){t.$set(t.approvalForm,"year",e)},expression:"approvalForm.year"}}),t._v(" "),i("el-select",{attrs:{size:"small",placeholder:"项目级别",clearable:""},on:{change:t.applyLevelChange},model:{value:t.approvalForm.applyLevel,callback:function(e){t.$set(t.approvalForm,"applyLevel",e)},expression:"approvalForm.applyLevel"}},t._l(t.projectLevelList,function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1),t._v(" "),i("el-select",{attrs:{size:"small",placeholder:"批次",clearable:""},on:{change:t.batchNoChange},model:{value:t.approvalForm.projectBatchNo,callback:function(e){t.$set(t.approvalForm,"projectBatchNo",e)},expression:"approvalForm.projectBatchNo"}},t._l(t.batchNoList,function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1)])],1),t._v(" "),i("el-row",[i("el-col",[i("div",{staticClass:"conditionBox"},[i("span",[t._v("地区：")]),t._v(" "),i("el-select",{attrs:{size:"small",placeholder:"省份",clearable:""},on:{change:t.changeProvince},model:{value:t.approvalForm.provinceId,callback:function(e){t.$set(t.approvalForm,"provinceId",e)},expression:"approvalForm.provinceId"}},t._l(t.provinceList,function(t){return i("el-option",{key:t.dictId,attrs:{label:t.dictName,value:t.dictId}})}),1),t._v(" "),i("el-select",{attrs:{size:"small",placeholder:"城市",clearable:""},on:{change:t.changeCity},model:{value:t.approvalForm.cityId,callback:function(e){t.$set(t.approvalForm,"cityId",e)},expression:"approvalForm.cityId"}},t._l(t.cityList,function(t){return i("el-option",{key:t.dictId,attrs:{label:t.dictName,value:t.dictId}})}),1),t._v(" "),i("el-select",{attrs:{size:"small",placeholder:"县区",clearable:""},on:{change:t.changeDistrict},model:{value:t.approvalForm.districtId,callback:function(e){t.$set(t.approvalForm,"districtId",e)},expression:"approvalForm.districtId"}},t._l(t.districtList,function(t){return i("el-option",{key:t.dictId,attrs:{label:t.dictName,value:t.dictId}})}),1),t._v(" "),i("el-select",{attrs:{size:"small",placeholder:"镇街",clearable:""},on:{change:t.changeTown},model:{value:t.approvalForm.townId,callback:function(e){t.$set(t.approvalForm,"townId",e)},expression:"approvalForm.townId"}},t._l(t.townList,function(t){return i("el-option",{key:t.dictId,attrs:{label:t.dictName,value:t.dictId}})}),1)],1)])],1),t._v(" "),i("el-row",[i("el-col",[i("div",{staticClass:"conditionBox"},[i("span",[t._v("签单时间：")]),t._v(" "),i("el-date-picker",{staticClass:"date-select",attrs:{type:"daterange",align:"left",size:"small","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd","picker-options":t.pickerOptions},on:{change:t.signDateChange},model:{value:t.signDate,callback:function(e){t.signDate=e},expression:"signDate"}})],1)])],1),t._v(" "),i("el-row",[i("el-col",[i("div",{staticClass:"conditionBox"},[i("span",[t._v("录入合同时间：")]),t._v(" "),i("el-date-picker",{staticClass:"date-select",attrs:{type:"daterange",align:"left",size:"small","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd","picker-options":t.pickerOptions},on:{change:t.createTimeChange},model:{value:t.createTime,callback:function(e){t.createTime=e},expression:"createTime"}})],1)])],1),t._v(" "),i("el-row",[i("el-col",[i("div",{staticClass:"conditionBox"},[i("span",[t._v("项目类型：")]),t._v(" "),i("el-radio-group",{on:{change:t.projectTypeChange},model:{value:t.approvalForm.projectType,callback:function(e){t.$set(t.approvalForm,"projectType",e)},expression:"approvalForm.projectType"}},t._l(t.projectTypeList,function(e){return i("el-radio",{key:e.dictId,attrs:{label:e.dictId,value:e.dictId}},[t._v("\n                  "+t._s(e.dictName)+"\n                ")])}),1)],1)])],1),t._v(" "),i("el-row",[i("el-col",[i("div",{staticClass:"conditionBox"},[i("span",[t._v("类型：")]),t._v(" "),i("el-select",{attrs:{size:"small",placeholder:"新老客户",clearable:""},on:{change:t.newOrOldChange},model:{value:t.approvalForm.newOrOld,callback:function(e){t.$set(t.approvalForm,"newOrOld",e)},expression:"approvalForm.newOrOld"}},[i("el-option",{attrs:{label:"新客户",value:0}}),t._v(" "),i("el-option",{attrs:{label:"老客户",value:1}})],1),t._v(" "),i("el-select",{attrs:{size:"small",placeholder:"客户级别",clearable:""},on:{change:t.companyLeveChange},model:{value:t.approvalForm.companyLevel,callback:function(e){t.$set(t.approvalForm,"companyLevel",e)},expression:"approvalForm.companyLevel"}},t._l(t.companyLevelList,function(t){return i("el-option",{key:t.dictId,attrs:{label:t.dictName,value:t.dictId}})}),1),t._v(" "),i("el-select",{attrs:{size:"small",placeholder:"是否签单",clearable:""},on:{change:t.isSigningChange},model:{value:t.approvalForm.isSigning,callback:function(e){t.$set(t.approvalForm,"isSigning",e)},expression:"approvalForm.isSigning"}},[i("el-option",{attrs:{label:"否",value:0}}),t._v(" "),i("el-option",{attrs:{label:"是",value:1}})],1),t._v(" "),i("el-select",{attrs:{size:"small",placeholder:"是否渠道单",clearable:""},on:{change:t.isChannelChange},model:{value:t.approvalForm.isChannel,callback:function(e){t.$set(t.approvalForm,"isChannel",e)},expression:"approvalForm.isChannel"}},[i("el-option",{attrs:{label:"不是",value:0}}),t._v(" "),i("el-option",{attrs:{label:"是",value:1}})],1)],1)])],1)],1):t._e()]),t._v(" "),i("el-card",{staticClass:"box-card cardCont"},[i("div",{staticClass:"headerTop",attrs:{slot:"header"},slot:"header"},[i("div",{staticClass:"headerLeft"},[i("span",[t._v("搜索到"),i("span",[t._v(t._s(t.total))]),t._v("条记录")]),t._v(" "),t.approvalCheckList.length>0?i("span",{staticStyle:{"margin-left":"10px"}},[t._v("已选中"),i("span",[t._v(t._s(t.approvalCheckList.length))]),t._v("条记录")]):t._e(),t._v(" "),i("div",{staticClass:"headBtn"},[i("el-button",{staticClass:"btn allChoose",attrs:{type:"primary",size:"small"},on:{click:t.allSelect}},[t._v("全选")]),t._v(" "),i("el-button",{staticClass:"btn allDelete",attrs:{type:"primary",size:"small"},on:{click:t.allDelete}},[t._v("删除")])],1)]),t._v(" "),i("div",{staticClass:"headerRig"},[i("el-select",{attrs:{placeholder:"默认排序",clearable:""},on:{change:t.handledSelect},model:{value:t.sort,callback:function(e){t.sort=e},expression:"sort"}},t._l(t.sortList,function(t,e){return i("el-option",{key:e,attrs:{label:t.label,value:e}})}),1)],1)]),t._v(" "),i("div",{staticClass:"dataList"},[i("el-checkbox-group",{model:{value:t.approvalCheckList,callback:function(e){t.approvalCheckList=e},expression:"approvalCheckList"}},t._l(t.approvalList,function(e){return i("div",{staticClass:"dataBox"},[i("div",{staticClass:"dataBoxLeft"},[i("div",{staticClass:"dataLeft"},[i("div",{staticClass:"fileType fileDoc",style:"background:"+e.bgColor},[t._v("企业简称")]),t._v(" "),i("div",{staticClass:"dataDetail"},[i("div",{staticClass:"titleData",on:{click:function(a){return t.goCompanyDatail(e)}}},[i("p",{staticStyle:{cursor:"pointer"}},[t._v(t._s(e.companyName))]),t._v(" "),"优质客户"==e.companyLevelName?i("img",{attrs:{src:a("Eeh1")}}):t._e(),t._v(" "),"重点客户"==e.companyLevelName?i("img",{attrs:{src:a("rJ5h")}}):t._e()]),t._v(" "),i("div",{staticClass:"projectList"},t._l(e.innerProjectInfoList,function(e,a){return i("div",{staticClass:"projectBox"},[i("el-checkbox",{attrs:{label:e.approvalId}},[i("div",{staticClass:"projectLeft"},[i("span",{staticClass:"proNum"},[t._v(t._s(a+1))]),t._v(" "),i("div",{staticClass:"projectMsg"},[i("div",{staticClass:"leftBox"},[i("h4",[t._v("项目名称："+t._s(e.projectName?e.projectName:"-"))]),t._v(" "),i("h4",[t._v("签约公司："+t._s(e.signCompanyName&&""!==e.signCompanyName?e.signCompanyName:"其他"))]),t._v(" "),i("h4",[t._v("签订人："+t._s(e.signUserName&&""!==e.signUserName?e.signUserName:"-"))]),t._v(" "),i("h4",[t._v("工程师："+t._s(e.engineerUserName?e.engineerUserName:"-"))])]),t._v(" "),i("div",{staticClass:"leftBox"},[i("h4",[t._v("立项日期："+t._s(e.approvalDate?e.approvalDate:"-"))]),t._v(" "),i("h4",[t._v("扶持标准："+t._s(e.subsidyTota>99999999?e.subsidyTota/1e8+"亿":e.subsidyTotal&&""!==e.subsidyTotal?e.subsidyTotal/1e4+"万元":"0元"))]),t._v(" "),i("h4",[t._v("批准金额："+t._s(e.approvalMoney>99999999?e.approvalMoney/1e8+"亿":e.approvalMoney&&""!==e.approvalMoney?e.approvalMoney/1e4+"万元":"0元"))])]),t._v(" "),i("div",{staticClass:"leftBox"},[i("h4",[t._v("中期检查日期：-")]),t._v(" "),i("h4",[t._v("结题检查日期：-")])])])]),t._v(" "),i("div",{staticClass:"projectRig"},[i("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(a){return t.goDetail(e.approvalId,e.projectId)}}},[t._v("\n                            查看\n                          ")]),t._v(" "),i("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(a){return t.goEdit(e.approvalId,e.projectId)}}},[t._v("\n                            编辑\n                          ")])],1)])],1)}),0)])])]),t._v(" "),i("div",{staticClass:"dataBoxRig"},[i("div",{staticClass:"btnMt"},[i("el-button",{staticClass:"origin",attrs:{size:"small"},on:{click:function(a){return t.handleShowConnectContentList(e.companyId)}}},[t._v("跟进\n                ")])],1)])])}),0)],1),t._v(" "),t.total-t.approvalList.length>0?i("div",{staticClass:"noMore",staticStyle:{cursor:"pointer"},on:{click:t.getMore}},[t._v("\n        点击加载更多\n      ")]):i("div",{staticClass:"noMore"},[t._v("\n        没有更多\n      ")])]),t._v(" "),i("div",{staticStyle:{height:"60px",position:"fixed",bottom:"20px",right:"0",width:"80px"}},[t.btnFlag?i("a",{attrs:{href:"javascript:",target:"_self"},on:{click:t.backTop}},[i("img",{attrs:{src:a("1XGe"),alt:""}})]):t._e()]),t._v(" "),i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],staticClass:"chat-modal",attrs:{title:"跟进消息",visible:t.ConnectContentDialogVisible,width:"40%"},on:{"update:visible":function(e){t.ConnectContentDialogVisible=e}}},[i("div",{staticClass:"dialog-box"},[i("div",{ref:"dialog",staticClass:"dialog"},[t.isShowMoreNews?i("div",{staticClass:"has-more-news",on:{click:t.getMoreChar}},[i("span",[t._v("查看更多消息")])]):i("div",{staticClass:"has-more-news not_more"},[t._v("没有多消息了")]),t._v(" "),i("div",{staticClass:"connect-div"},[t._l(t.chatData,function(e){return["left"===e.msgPosition?i("div",{staticClass:"left-massage"},[i("div",{staticClass:"title"},[i("div",{staticClass:"pic"},[t._v(t._s(t._f("titleSize")(e.userName)))]),t._v(" "),i("div",{staticClass:"text"},[t._v(t._s(e.userName))]),t._v(" "),i("div",{staticClass:"time"},[t._v(t._s(e.sendTime))])]),t._v(" "),i("div",{staticClass:"content"},[t._v("\n                  "+t._s(e.chatContent)+"\n                ")]),t._v(" "),e.appFileVoList&&0!==e.appFileVoList.length?t._l(e.appFileVoList,function(e){return i("div",{key:e.fileId,staticClass:"down-content"},[t._v("\n                    附件："+t._s(e.fileName)+"."+t._s(e.fileType)+"\n                    "),i("button",{staticClass:"down-btn",on:{click:function(a){return t.downHandle(e.fileUrl)}}},[t._v("下载")])])}):t._e()],2):t._e(),t._v(" "),"right"===e.msgPosition?i("div",{staticClass:"right-massage"},[i("div",{staticClass:"title"},[i("img",{staticClass:"del-icon",attrs:{src:t.del_icon},on:{click:function(a){return t.delChat(e)}}}),t._v(" "),i("div",{staticClass:"time"},[t._v(t._s(e.sendTime))]),t._v(" "),i("div",{staticClass:"text"},[t._v(t._s(e.userName))]),t._v(" "),i("div",{staticClass:"pic"},[t._v(t._s(t._f("titleSize")(e.userName)))])]),t._v(" "),i("div",{staticClass:"content"},[t._v("\n                  "+t._s(e.chatContent)+"\n                ")]),t._v(" "),e.appFileVoList&&0!==e.appFileVoList.length?t._l(e.appFileVoList,function(e){return i("div",{key:e.fileId,staticClass:"down-content"},[t._v("\n                    附件："+t._s(e.fileName)+t._s(e.fileType)+"\n                    "),i("button",{directives:[{name:"preventReClick",rawName:"v-preventReClick"}],staticClass:"down-btn",on:{click:function(a){return t.downHandle(e.fileUrl)}}},[t._v("下载")])])}):t._e()],2):t._e()]})],2)]),t._v(" "),i("div",{ref:"dialogInput",staticClass:"dialog-input"},[i("el-input",{staticClass:"text-input",attrs:{autofocus:"true",type:"textarea",autosize:{minRows:3,maxRows:5},placeholder:"输入沟通内容..."},nativeOn:{keydown:function(e){return t.handleKeyCode(e)}},model:{value:t.chatContent,callback:function(e){t.chatContent=e},expression:"chatContent"}}),t._v(" "),i("div",{staticClass:"btn-group"},[i("div",{staticClass:"dialog-footer",staticStyle:{width:"50%"},attrs:{slot:"footer"},slot:"footer"},[i("el-upload",{staticClass:"upload-box upload-box-width",attrs:{action:"#","auto-upload":!1,"file-list":t.fileTemps,"on-remove":t.handleRemove,"on-change":t.chatFileChange}},[i("el-button",{staticClass:"update-files-btn",attrs:{type:"info"}},[t._v("附件上传"),i("i",{staticClass:"el-icon-upload el-icon--right"})])],1)],1),t._v(" "),i("div",{staticStyle:{display:"flex","align-items":"center"}},[i("span",{staticClass:"send-tap"},[t._v("Enter发送，Ctrl+Enter换行")]),t._v(" "),i("el-button",{staticClass:"send-btn",attrs:{type:"primary"},on:{click:t.sendData}},[t._v("发 送")])],1)])],1)])])],1)])},staticRenderFns:[]};var m=a("VU/8")(v,g,!1,function(t){a("Bmzr")},"data-v-73e74cbc",null);e.default=m.exports},Bmzr:function(t,e,a){var i=a("2yBc");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("rjj0")("0d81f0ee",i,!0)}});