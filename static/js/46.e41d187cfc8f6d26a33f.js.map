{"version":3,"sources":["webpack:///./src/views/contractManage/paymentRecordDetail.vue?1a2e","webpack:///src/views/contractManage/paymentRecordDetail.vue","webpack:///./src/views/contractManage/paymentRecordDetail.vue?5be5","webpack:///./src/views/contractManage/paymentRecordDetail.vue","webpack:///./src/views/contractManage/paymentRecordDetail.vue?3951"],"names":["module","exports","__webpack_require__","push","i","version","sources","names","mappings","file","sourcesContent","sourceRoot","paymentRecordDetail","isCheck","recordId","getDetail","label","value","_this","this","paymentRecordVo","recordForm","basisFileIds","recheckFileIds","orderId","_this2","fileName","item","fileId","fileUrl","message","url","_this3","FormData","name","deptIds","data","_this4","_this5","then","num","length","isLt2M","_this6","recheckFileList","filePath","size","addFile","crmCompanyId","crmCompanyName","FileList","_this7","trueOjb","falseOjb","contractManage_paymentRecordDetail","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","slot","_v","span","_s","recheckResult","_e","staticStyle","vertical-align","margin-left","cursor","src","on","click","openEdit","companyLevelName","contractCode","createDate","availableYear","signUserName","signDate","signCompanyName","projectName","engineerUserName","year","batch","applyNum","type","maxlength","oninput","nativeOn","input","$event","inputXz","model","callback","$$v","$set","expression","approvalMoney","value-format","placeholder","paymentDate","paymentAmount","clearable","_l","group","key","lable","paymentMode","paymentModeName","paymentType","paymentLevel","userId","userName","paymentUserName","entryDate","downloadFile","fileForm","max-width","margin-top","alt","editPayment","openRecheck","cancelSub","directives","rawName","title","visible","dialogVisible","width","before-close","handleClose","update:visible","display","http-request","handleUpload","before-upload","uploadBeforeFile","file-list","limit","on-exceed","handleExceed","action","recheckPayment","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__","content","locals"],"mappings":"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","file":"static/js/46.e41d187cfc8f6d26a33f.js","sourcesContent":["exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"\\n.box-card[data-v-0e1aa186] {\\n  margin-bottom: 10px;\\n}\\n.headerLeft[data-v-0e1aa186] {\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-align: center;\\n      -ms-flex-align: center;\\n          align-items: center;\\n}\\n.headerLeft .conditionChoose[data-v-0e1aa186] {\\n  font-size: 16px;\\n  color: #444 !important;\\n}\\n.headerLeft .conditionChoose[data-v-0e1aa186]::before {\\n  content: '';\\n  border-left: 2px solid #03adf4;\\n  margin-right: 15px;\\n}\\n.headerLeft .condOring[data-v-0e1aa186]::before {\\n  content: '';\\n  border-left: 2px solid #ffa01c;\\n  margin-right: 15px;\\n}\\n.payName[data-v-0e1aa186] {\\n  font-size: 14px;\\n  display: inline-block;\\n}\\n.payName span[data-v-0e1aa186] {\\n  color: #69ccff;\\n  margin-right: 10px;\\n}\\n.el-row[data-v-0e1aa186] {\\n  margin-bottom: 15px;\\n}\\n.el-row[data-v-0e1aa186]:last-child {\\n  margin-bottom: 0;\\n}\\n[data-v-0e1aa186] .el-card__header {\\n  padding: 12px 13px;\\n}\\n[data-v-0e1aa186] .el-input {\\n  width: auto;\\n}\\n[data-v-0e1aa186] .el-select {\\n  display: inline-block !important;\\n}\\n.btnList[data-v-0e1aa186] {\\n  text-align: center;\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"H:/chengguoyun-web/src/views/contractManage/paymentRecordDetail.vue\"],\"names\":[],\"mappings\":\";AACA;EACE,oBAAoB;CACrB;AACD;EACE,qBAAqB;EACrB,qBAAqB;EACrB,cAAc;EACd,0BAA0B;MACtB,uBAAuB;UACnB,oBAAoB;CAC7B;AACD;EACE,gBAAgB;EAChB,uBAAuB;CACxB;AACD;EACE,YAAY;EACZ,+BAA+B;EAC/B,mBAAmB;CACpB;AACD;EACE,YAAY;EACZ,+BAA+B;EAC/B,mBAAmB;CACpB;AACD;EACE,gBAAgB;EAChB,sBAAsB;CACvB;AACD;EACE,eAAe;EACf,mBAAmB;CACpB;AACD;EACE,oBAAoB;CACrB;AACD;EACE,iBAAiB;CAClB;AACD;EACE,mBAAmB;CACpB;AACD;EACE,YAAY;CACb;AACD;EACE,iCAAiC;CAClC;AACD;EACE,mBAAmB;CACpB\",\"file\":\"paymentRecordDetail.vue\",\"sourcesContent\":[\"\\n.box-card[data-v-0e1aa186] {\\n  margin-bottom: 10px;\\n}\\n.headerLeft[data-v-0e1aa186] {\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-align: center;\\n      -ms-flex-align: center;\\n          align-items: center;\\n}\\n.headerLeft .conditionChoose[data-v-0e1aa186] {\\n  font-size: 16px;\\n  color: #444 !important;\\n}\\n.headerLeft .conditionChoose[data-v-0e1aa186]::before {\\n  content: '';\\n  border-left: 2px solid #03adf4;\\n  margin-right: 15px;\\n}\\n.headerLeft .condOring[data-v-0e1aa186]::before {\\n  content: '';\\n  border-left: 2px solid #ffa01c;\\n  margin-right: 15px;\\n}\\n.payName[data-v-0e1aa186] {\\n  font-size: 14px;\\n  display: inline-block;\\n}\\n.payName span[data-v-0e1aa186] {\\n  color: #69ccff;\\n  margin-right: 10px;\\n}\\n.el-row[data-v-0e1aa186] {\\n  margin-bottom: 15px;\\n}\\n.el-row[data-v-0e1aa186]:last-child {\\n  margin-bottom: 0;\\n}\\n[data-v-0e1aa186] .el-card__header {\\n  padding: 12px 13px;\\n}\\n[data-v-0e1aa186] .el-input {\\n  width: auto;\\n}\\n[data-v-0e1aa186] .el-select {\\n  display: inline-block !important;\\n}\\n.btnList[data-v-0e1aa186] {\\n  text-align: center;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-0e1aa186\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/less-loader/dist/cjs.js?{\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/views/contractManage/paymentRecordDetail.vue\n// module id = KYbW\n// module chunks = 46","<template>\n  <div class=\"app-container\">\n    <el-card class=\"box-card\">\n      <div slot=\"header\" class=\"headerTop\">\n        <div class=\"headerLeft\">\n          <span class=\"conditionChoose\">回款详情</span>\n        </div>\n      </div>\n      <div class=\"paymentCont\">\n        <el-row>\n          <el-col :span=\"12\">\n            <p class=\"payName\">\n              客户名称：\n              <span>{{recordForm.crmCompanyName}}</span>\n              <img v-if=\"!isCheck && recordForm.recheckResult == 0\" @click=\"openEdit\" src=\"../icons/enterprise/contract_edit.png\" style=\"vertical-align:middle; margin-left: 3px;cursor:pointer;\"/>\n            </p>\n          </el-col>\n          <el-col :span=\"12\">\n            <p class=\"payName\">客户类别：<span>{{recordForm.companyLevelName}}</span></p>\n          </el-col>\n        </el-row>\n      </div>\n    </el-card>\n    <el-card class=\"box-card\">\n      <div slot=\"header\" class=\"headerTop\">\n        <div class=\"headerLeft\">\n          <span class=\"conditionChoose condOring\">合同信息</span>\n        </div>\n      </div>\n      <div class=\"paymentCont\">\n        <el-row>\n          <el-col :span=\"8\">\n            <p class=\"payName\">合同编号：<span>{{recordForm.contractCode}}</span></p>\n          </el-col>\n          <el-col :span=\"8\">\n            <p class=\"payName\">创建日期：{{recordForm.createDate}}</p>\n          </el-col>\n          <el-col :span=\"8\">\n            <p class=\"payName\">有效期：{{recordForm.availableYear + '年'}}</p>\n          </el-col>\n        </el-row>\n        <el-row>\n          <el-col :span=\"8\">\n            <p class=\"payName\">签订人：<span>{{recordForm.signUserName}}</span></p>\n          </el-col>\n          <el-col :span=\"8\">\n            <p class=\"payName\">签约日期：{{recordForm.signDate}}</p>\n          </el-col>\n          <el-col :span=\"8\">\n            <p class=\"payName\">签约公司：{{recordForm.signCompanyName}}</p>\n          </el-col>\n        </el-row>\n<!--        <el-row>-->\n<!--          <el-col :span=\"8\">-->\n<!--            <p class=\"payName\">年份：2220</p>-->\n<!--          </el-col>-->\n<!--          <el-col :span=\"8\">-->\n<!--            <p class=\"payName\">数量：100</p>-->\n<!--          </el-col>-->\n<!--        </el-row>-->\n      </div>\n    </el-card>\n    <el-card class=\"box-card\">\n      <div slot=\"header\" class=\"headerTop\">\n        <div class=\"headerLeft\">\n          <span class=\"conditionChoose condOring\">项目信息</span>\n        </div>\n      </div>\n      <div class=\"paymentCont\">\n        <el-row>\n          <el-col :span=\"12\">\n            <p class=\"payName\">项目名称：<span>{{recordForm.projectName}}</span></p>\n          </el-col>\n          <el-col :span=\"12\">\n            <p class=\"payName\">工程师：<span>{{recordForm.engineerUserName}}</span></p>\n          </el-col>\n        </el-row>\n        <el-row>\n<!--          <el-col :span=\"6\">-->\n<!--            <p class=\"payName\">项目类别：<span>客户</span></p>-->\n<!--          </el-col>-->\n          <el-col :span=\"6\">\n            <p class=\"payName\">年份：{{recordForm.year}}</p>\n          </el-col>\n          <el-col :span=\"6\">\n            <p class=\"payName\">批次：\n              {{\n                recordForm.batch == 0 ? '未指定' :\n                recordForm.batch == 1 ? '第一批' :\n                recordForm.batch == 2 ? '第二批' :\n                recordForm.batch == 3 ? '第三批' :\n                recordForm.batch == 4 ? '第四批' :\n                recordForm.batch == 5 ? '第五批' : '-'\n              }}</p>\n          </el-col>\n          <el-col :span=\"6\">\n            <p class=\"payName\">数量：{{recordForm.applyNum}}</p>\n          </el-col>\n        </el-row>\n        <el-row>\n<!--          <el-col :span=\"6\">-->\n<!--            <p class=\"payName\">金额/比例：{{recordForm.unitPrice}}</p>-->\n<!--          </el-col>-->\n          <el-col :span=\"6\">\n            <p class=\"payName\">批准金额：</p>\n            <p v-if=\"!isCheck\" class=\"payName\">{{recordForm.approvalMoney + '元'}}</p>\n            <el-input v-else type=\"number\" size=\"small\" v-model=\"recordForm.approvalMoney\" maxlength=\"7\" oninput=\"value=value.replace(/[^0-9.]/g,'');\" @input.native=\"inputXz\">\n              <template slot=\"append\">元</template>\n            </el-input>\n          </el-col>\n        </el-row>\n      </div>\n    </el-card>\n    <el-card class=\"box-card\">\n      <div slot=\"header\" class=\"headerTop\">\n        <div class=\"headerLeft\">\n          <span class=\"conditionChoose condOring\">回款信息</span>\n        </div>\n      </div>\n      <div class=\"paymentCont\">\n        <el-row>\n          <el-col :span=\"5\">\n            <p class=\"payName\">汇款日期：</p>\n            <p v-if=\"!isCheck\" class=\"payName\"><span>{{recordForm.paymentDate}}</span></p>\n            <el-date-picker\n              v-else\n              size=\"small\"\n              v-model=\"recordForm.paymentDate\"\n              type=\"date\"\n              value-format=\"yyyy-MM-dd\"\n              placeholder=\"选择日期\">\n            </el-date-picker>\n          </el-col>\n          <el-col :span=\"5\">\n            <p class=\"payName\">回款金额/比例：</p>\n            <p v-if=\"!isCheck\" class=\"payName\">{{recordForm.paymentAmount + '元'}}</p>\n            <el-input v-else size=\"small\" v-model=\"recordForm.paymentAmount\" type=\"number\" maxlength=\"7\" oninput=\"value=value.replace(/[^0-9.]/g,'');\" @input.native=\"inputXz\">\n              <template slot=\"append\">元</template>\n            </el-input>\n          </el-col>\n          <el-col :span=\"5\">\n            <p class=\"payName\">回款阶段：</p>\n            <p v-if=\"!isCheck\" class=\"payName\">\n              {{recordForm.paymentType == 0 ? '签约后' : recordForm.paymentType == 1 ? '受理后' : recordForm.paymentType == 2 ? '完成（提交）后': recordForm.paymentType == 3 ? '立项公示后':recordForm.paymentType == 4 ? '拨付后':recordForm.paymentType == 5 ? '验收后':recordForm.paymentType == 6 ? '收到通知书后':'-'}}\n            </p>\n            <el-select v-else placeholder=\"回款阶段\" clearable v-model=\"recordForm.paymentType\" size=\"small\">\n              <el-option-group\n                v-for=\"group in payMethods\"\n                :key=\"group.lable\"\n                :label=\"group.lable\">\n                <el-option\n                  v-for=\"item in group.options\"\n                  :key=\"item.paymentMode\"\n                  :label=\"item.paymentModeName\"\n                  :value=\"item.paymentMode\">\n                </el-option>\n              </el-option-group>\n            </el-select>\n          </el-col>\n          <el-col :span=\"5\">\n            <p class=\"payName\">财政级别：</p>\n            <p class=\"payName\" v-if=\"!isCheck\">\n              {{\n                recordForm.paymentLevel == 1 ? '国家级' :\n                recordForm.paymentLevel == 2 ? '省级' :\n                recordForm.paymentLevel == 3 ? '市级' :\n                recordForm.paymentLevel == 4 ? '区县级' :\n                recordForm.paymentLevel == 5 ? '镇街级' : '-'\n              }}\n            </p>\n            <el-select v-else v-model=\"recordForm.paymentLevel\" placeholder=\"财政级别\" clearable size=\"small\">\n              <el-option v-for=\"item in paymentLevelList\" :key=\"item.value\"\n                         :label=\"item.label\"\n                         :value=\"item.value\"></el-option>\n            </el-select>\n          </el-col>\n          <el-col :span=\"4\">\n            <p class=\"payName\">收款人：</p>\n            <p class=\"payName\" v-if=\"!isCheck\">{{recordForm.paymentUserName}}</p>\n            <el-select v-else v-model=\"recordForm.paymentUserId\" placeholder=\"收款人\" clearable size=\"small\">\n              <el-option v-for=\"item in userList\" :key=\"item.userId\"\n                         :label=\"item.userName\"\n                         :value=\"item.userId\"></el-option>\n            </el-select>\n          </el-col>\n        </el-row>\n        <el-row>\n          <el-col :span=\"5\">\n            <p class=\"payName\">录入日期：{{recordForm.entryDate}}</p>\n          </el-col>\n        </el-row>\n      </div>\n    </el-card>\n    <el-card class=\"box-card\">\n      <p class=\"payName\" v-if=\"recordForm.file\">\n        我是凭证：\n        <span style=\"cursor: pointer\" @click=\"downloadFile(recordForm.file)\">{{recordForm.file.fileName}}</span>\n      </p>\n      <p class=\"payName\">\n        回款依据：\n        <span style=\"cursor: pointer\" @click=\"downloadFile(fileForm.file)\">{{fileForm.file.fileName}}</span>\n      </p>\n      <p>\n        <img :src=\"recordForm.fileUrl\" alt=\"\" style=\"max-width: 100%;margin-top:10px;\">\n      </p>\n    </el-card>\n\n    <div class=\"btnList\">\n      <el-button v-if=\"isCheck && recordForm.recordId && recordForm.recheckResult == 0\" size='small' type=\"primary\" @click=\"editPayment\">提交</el-button>\n      <el-button v-if=\"recordForm.recordId && recordForm.recheckResult == 0\" size='small' type=\"primary\" @click=\"openRecheck\">审核</el-button>\n      <el-button size='small' @click=\"cancelSub\">取消</el-button>\n    </div>\n\n    <el-dialog\n      title=\"审核\"\n      :visible.sync=\"dialogVisible\"\n      width=\"30%\"\n      :before-close=\"handleClose\"\n      v-dialogDrag\n    >\n      <div style=\"display: flex\">\n        <span>上传凭证：</span>\n        <el-upload\n          :http-request=\"handleUpload\"\n          :before-upload=\"uploadBeforeFile\"\n          class=\"image-uploader\"\n          :file-list=\"recheckFileList\"\n          :limit=\"1\"\n          :on-exceed=\"handleExceed\"\n          action=\"\"\n        >\n          <el-button type=\"primary\" class=\"btn export\" size=\"small\">上传</el-button>\n        </el-upload>\n      </div>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogVisible = false\" size=\"small\">取 消</el-button>\n        <el-button v-if=\"recordForm.recordId && recordForm.recheckResult == 0\" size='small' type=\"info\" @click=\"recheckPayment(2)\">不通过</el-button>\n        <el-button v-if=\"recordForm.recordId && recordForm.recheckResult == 0\" size='small' type=\"primary\" @click=\"recheckPayment(1)\">通过</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\n  import { queryPaymentRecord, updatePaymentRecord, updateRecheckPaymentRecord,queryPaymentMode } from '@/api/contractManage'\n  import {queryUserComboInfo} from '@/api/customerCenter.js'\n  import {addFileBatch,getFileListWithFileIds,ossFileSystemFileDownload} from '@/api/utils.js'\n  import { uploadFilesOss } from '@/utils/uploadFilesOss'\n  import { projectOrderUpload } from '@/utils/uploadPathMethods'\n\n  export default {\n    activated() {\n      this.recordForm = {};\n      this.isCheck = this.$route.query.isCheck;\n      this.recordForm.recordId = this.$route.query.recordId;\n      if(this.recordForm.recordId){\n        this.getDetail();\n      }\n\n      this.getPersonList('业务员,业务主管')\n    },\n    data(){\n      return{\n        recordForm:{},\n        fileForm:{},\n        paymentLevelList: [\n          {label: '国家级', value: '1'},\n          {label: '省级', value: '2'},\n          {label: '市级', value: '3'},\n          {label: '区县级', value: '4'},\n          {label: '镇街级', value: '5'}\n        ],\n        isCheck:false,\n        fileList:[],\n        recheckFileList:[],\n        dialogVisible:false,\n        //回款阶段数据\n        payMethods: [],\n      }\n    },\n    methods:{\n      getDetail(){\n        queryPaymentRecord({recordId:this.recordForm.recordId}).then(res=>{\n          if (res.code == 200) {\n            Object.assign(this.recordForm, res.data.crmContractVo, res.data.crmCustomerVo, res.data.orderDetailVo, res.data.paymentRecordVo)\n            this.recordForm = JSON.parse(JSON.stringify(this.recordForm))\n\n            if (this.recordForm.basisFileIds && this.recordForm.basisFileIds != '') {\n              let fileIds = [this.recordForm.basisFileIds]\n              this.getFileDetail(fileIds,1)\n            }\n\n            if (this.recordForm.recheckFileIds && this.recordForm.recheckFileIds != '') {\n              let fileIds = [this.recordForm.recheckFileIds]\n              this.getFileDetail(fileIds,2)\n            }\n\n            this.getPaymentData(res.data.paymentRecordVo.orderId)\n          }\n        })\n      },\n\n      //根据文件id获取文件详情\n      getFileDetail(fileIds,num) {\n        getFileListWithFileIds({fileIds: fileIds, haveView: true}).then(res => {\n          if (res.code == 200) {\n            if(num == 1){\n              this.fileList = res.data.map(item => {\n                item.name = item.fileName;\n                return item\n              });\n\n              this.$set(this.fileForm,'file',res.data[0])\n              this.$set(this.fileForm,'fileIds',res.data[0].fileId)\n              this.$set(this.fileForm,'fileName',res.data[0].fileName)\n              this.$set(this.fileForm,'fileUrl',res.data[0].fileUrl)\n            }\n\n            if(num == 2){\n              this.recheckFileList = res.data.map(item => {\n                item.name = item.fileName;\n                return item\n              });\n\n              this.$set(this.recordForm,'file',res.data[0])\n              this.$set(this.recordForm,'fileIds',res.data[0].fileId)\n              this.$set(this.recordForm,'fileName',res.data[0].fileName)\n              this.$set(this.recordForm,'fileUrl',res.data[0].fileUrl)\n            }\n\n            // console.log('daa',this.recordForm)\n\n          } else {\n            this.$message.warning(res.message)\n          }\n        })\n      },\n\n      //下载文件\n      downloadFile(file) {\n        if (file.filePath) {\n          ossFileSystemFileDownload(file).then(res => {\n            if (res.code == 200) {\n              let url = res.data.replace(/http/,'https')\n              window.open(url)\n              // this.$message.success('下载成功')\n            }\n          })\n        }\n      },\n\n      //根据角色获取人员列表\n      getPersonList(name, deptIds) {\n        let formData = new FormData;\n        formData.append('roleNameList', name)\n        if (deptIds != undefined) {\n          formData.append('deptIdList', deptIds)\n        }\n        queryUserComboInfo(formData).then(res => {\n          if (res.code == 200) {\n            this.userList = res.data;\n          } else {\n            this.$message.warning(res.message)\n          }\n        })\n      },\n\n      //切换编辑\n      openEdit(){\n        this.isCheck = true\n      },\n\n      //编辑提交\n      editPayment(){\n        updatePaymentRecord(this.recordForm).then(res=>{\n          if(res.code == 200){\n            this.$message.success('修改成功');\n            this.recordForm = {};\n            this.fileList = [];\n            this.recheckFileList = [];\n            this.$store.commit('SET_CONTRACT_SCROLL', 0)\n            this.closeCurrent(this.$store.state.tagsView.visitedViews,this.$route,'/contract');\n          }\n        })\n      },\n\n      //打开审核弹窗\n      openRecheck(){\n        this.dialogVisible = true;\n      },\n\n      //审核\n      recheckPayment(num){\n        this.$confirm('你确定审核吗？确定后即可生效', '提示', {\n          // distinguishCancelAndClose: true,\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning',\n          // closeOnClickModal: false,\n        }).then(() => {\n          this.recordForm.recheckResult = num\n          updateRecheckPaymentRecord(this.recordForm).then(res=>{\n            if(res.code == 200){\n              this.$message({type: 'success', message: '审核成功'});\n              this.dialogVisible = false\n              // this.$store.commit('SET_CONTRACT_SCROLL', 0)\n              this.closeCurrent(this.$store.state.tagsView.visitedViews,this.$route,'/contract');\n            }\n          })\n        }).catch((action) => {\n          // if(action != 'close'){\n          //   this.recordForm.recheckResult = 2\n          //   updateRecheckPaymentRecord(this.recordForm).then(res=>{\n          //     this.$message({type: 'success', message: '审核成功'});\n          //     this.dialogVisible = false\n          //     this.closeCurrent(this.$store.state.tagsView.visitedViews,this.$route);\n          //   })\n          // }\n        })\n      },\n\n      handleExceed(files, fileList) {\n        this.$message.warning(`当前限制选择 1 个文件，本次选择了 ${files.length} 个文件，共选择了 ${files.length + fileList.length} 个文件`)\n      },\n\n      //上次文件之前\n      uploadBeforeFile(file){\n        const isJPG = file.type === 'image/jpeg' || file.type === 'image/png';\n        const isLt2M = file.size / 1024 / 1024 < 100\n\n        if (!isLt2M) {\n          this.$message.error('上传文件大小不能超过 100MB!')\n        }\n\n        if (!isJPG) {\n          this.$message.error('上传头像图片只能是 JPG或者png 格式!');\n        }\n\n        return isJPG && isLt2M;\n      },\n\n      //上传凭证\n      handleUpload(option){\n        if(option.file.name.length >= 150){\n          this.$message.error('文件名称超长，请检查');\n          this.recheckFileList = JSON.parse(JSON.stringify(this.recheckFileList))\n          return;\n        }\n        // 调用 ali-oss 中的方法\n        let fileName = option.file.name.split('.');\n        let filePath = projectOrderUpload(this.recordForm.crmCompanyName,this.recordForm.projectName,'其他资料',fileName[0]) + '.' + fileName[fileName.length-1]\n        uploadFilesOss(filePath, option.file, option).then(res => {\n          if(res){\n            let FileList = [];\n            let addFile = {\n              fileName: option.file.name,\n              filePath: filePath,\n              fileSize: option.file.size,\n              fileType: fileName[fileName.length-1],\n              parentType:4\n            }\n            FileList.push(addFile)\n            let params = {\n              companyId: this.recordForm.crmCompanyId,\n              companyName: this.recordForm.crmCompanyName,\n              addFileDtos: FileList,\n              haveView: true\n            }\n\n            addFileBatch(params).then(response=>{\n              if(response.code == 200){\n                this.$message.success('上传成功');\n                this.$set(this.recordForm,'recheckFileIds',response.data[0].fileId)\n                // this.$set(this.recordForm,'fileIds',response.data[0].fileId)\n                this.$set(this.recordForm,'fileName',response.data[0].fileName)\n                this.$set(this.recordForm,'fileUrl',response.data[0].fileUrl)\n              }\n            })\n          }\n        })\n      },\n\n      cancelSub(){\n        this.closeCurrent(this.$store.state.tagsView.visitedViews,this.$route,'/contract');\n      },\n\n      //限制输入 num:1 折扣\n      inputXz(value){\n        if(value.target.value >= 9999999){\n          value.target.value = 9999999;\n        }\n\n        if (value != '') {\n          value.target.value = (value.target.value.match(/^\\d*(\\.?\\d{0,2})/g)[0]) || null\n        }\n      },\n\n      //获取回款阶段数据\n      getPaymentData(id) {\n        let trueOjb = {};\n        trueOjb.options = [];\n        let falseOjb = {};\n        falseOjb.options = [];\n        queryPaymentMode({orderId: id}).then(res => {\n          if (res.code === 200) {\n            res.data.forEach(item => {\n              if (item.paymentModeType) {\n                trueOjb.lable = '历史回款阶段';\n                trueOjb.options.push(item);\n                this.$set(this.payMethods, 0, trueOjb);\n              } else {\n                falseOjb.lable = '';\n                falseOjb.options.push(item);\n                this.$set(this.payMethods, 1, falseOjb);\n              }\n            });\n          }\n        })\n      },\n    }\n  }\n</script>\n\n<style lang=\"less\" scoped>\n  .box-card{\n    margin-bottom: 10px;\n  }\n\n  .headerLeft{\n    display: flex;\n    align-items: center;\n    .conditionChoose{\n      font-size: 16px;\n      color: #444 !important;\n\n      &::before {\n        content: '';\n        border-left: 2px solid rgb(3, 173, 244);\n        margin-right: 15px;\n      }\n    }\n    .condOring{\n      &::before {\n        content: '';\n        border-left: 2px solid #ffa01c;\n        margin-right: 15px;\n      }\n    }\n  }\n\n  .payName{\n    font-size:14px;\n    display: inline-block;\n    span{\n      color:#69ccff;\n      margin-right: 10px;\n    }\n  }\n\n  .el-row {\n    margin-bottom: 15px;\n    &:last-child {\n      margin-bottom: 0;\n    }\n  }\n\n  /deep/ .el-card__header{\n    padding: 12px 13px;\n  }\n\n  /deep/ .el-input{\n    width: auto;\n  }\n\n  /deep/ .el-select{\n    display: inline-block !important;\n  }\n\n  .btnList{\n    text-align: center;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/contractManage/paymentRecordDetail.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-container\"},[_c('el-card',{staticClass:\"box-card\"},[_c('div',{staticClass:\"headerTop\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('div',{staticClass:\"headerLeft\"},[_c('span',{staticClass:\"conditionChoose\"},[_vm._v(\"回款详情\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"paymentCont\"},[_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_c('p',{staticClass:\"payName\"},[_vm._v(\"\\n              客户名称：\\n              \"),_c('span',[_vm._v(_vm._s(_vm.recordForm.crmCompanyName))]),_vm._v(\" \"),(!_vm.isCheck && _vm.recordForm.recheckResult == 0)?_c('img',{staticStyle:{\"vertical-align\":\"middle\",\"margin-left\":\"3px\",\"cursor\":\"pointer\"},attrs:{\"src\":require(\"../icons/enterprise/contract_edit.png\")},on:{\"click\":_vm.openEdit}}):_vm._e()])]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":12}},[_c('p',{staticClass:\"payName\"},[_vm._v(\"客户类别：\"),_c('span',[_vm._v(_vm._s(_vm.recordForm.companyLevelName))])])])],1)],1)]),_vm._v(\" \"),_c('el-card',{staticClass:\"box-card\"},[_c('div',{staticClass:\"headerTop\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('div',{staticClass:\"headerLeft\"},[_c('span',{staticClass:\"conditionChoose condOring\"},[_vm._v(\"合同信息\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"paymentCont\"},[_c('el-row',[_c('el-col',{attrs:{\"span\":8}},[_c('p',{staticClass:\"payName\"},[_vm._v(\"合同编号：\"),_c('span',[_vm._v(_vm._s(_vm.recordForm.contractCode))])])]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":8}},[_c('p',{staticClass:\"payName\"},[_vm._v(\"创建日期：\"+_vm._s(_vm.recordForm.createDate))])]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":8}},[_c('p',{staticClass:\"payName\"},[_vm._v(\"有效期：\"+_vm._s(_vm.recordForm.availableYear + '年'))])])],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":8}},[_c('p',{staticClass:\"payName\"},[_vm._v(\"签订人：\"),_c('span',[_vm._v(_vm._s(_vm.recordForm.signUserName))])])]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":8}},[_c('p',{staticClass:\"payName\"},[_vm._v(\"签约日期：\"+_vm._s(_vm.recordForm.signDate))])]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":8}},[_c('p',{staticClass:\"payName\"},[_vm._v(\"签约公司：\"+_vm._s(_vm.recordForm.signCompanyName))])])],1)],1)]),_vm._v(\" \"),_c('el-card',{staticClass:\"box-card\"},[_c('div',{staticClass:\"headerTop\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('div',{staticClass:\"headerLeft\"},[_c('span',{staticClass:\"conditionChoose condOring\"},[_vm._v(\"项目信息\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"paymentCont\"},[_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_c('p',{staticClass:\"payName\"},[_vm._v(\"项目名称：\"),_c('span',[_vm._v(_vm._s(_vm.recordForm.projectName))])])]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":12}},[_c('p',{staticClass:\"payName\"},[_vm._v(\"工程师：\"),_c('span',[_vm._v(_vm._s(_vm.recordForm.engineerUserName))])])])],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":6}},[_c('p',{staticClass:\"payName\"},[_vm._v(\"年份：\"+_vm._s(_vm.recordForm.year))])]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":6}},[_c('p',{staticClass:\"payName\"},[_vm._v(\"批次：\\n              \"+_vm._s(_vm.recordForm.batch == 0 ? '未指定' :\n                _vm.recordForm.batch == 1 ? '第一批' :\n                _vm.recordForm.batch == 2 ? '第二批' :\n                _vm.recordForm.batch == 3 ? '第三批' :\n                _vm.recordForm.batch == 4 ? '第四批' :\n                _vm.recordForm.batch == 5 ? '第五批' : '-'))])]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":6}},[_c('p',{staticClass:\"payName\"},[_vm._v(\"数量：\"+_vm._s(_vm.recordForm.applyNum))])])],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":6}},[_c('p',{staticClass:\"payName\"},[_vm._v(\"批准金额：\")]),_vm._v(\" \"),(!_vm.isCheck)?_c('p',{staticClass:\"payName\"},[_vm._v(_vm._s(_vm.recordForm.approvalMoney + '元'))]):_c('el-input',{attrs:{\"type\":\"number\",\"size\":\"small\",\"maxlength\":\"7\",\"oninput\":\"value=value.replace(/[^0-9.]/g,'');\"},nativeOn:{\"input\":function($event){return _vm.inputXz($event)}},model:{value:(_vm.recordForm.approvalMoney),callback:function ($$v) {_vm.$set(_vm.recordForm, \"approvalMoney\", $$v)},expression:\"recordForm.approvalMoney\"}},[_c('template',{slot:\"append\"},[_vm._v(\"元\")])],2)],1)],1)],1)]),_vm._v(\" \"),_c('el-card',{staticClass:\"box-card\"},[_c('div',{staticClass:\"headerTop\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('div',{staticClass:\"headerLeft\"},[_c('span',{staticClass:\"conditionChoose condOring\"},[_vm._v(\"回款信息\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"paymentCont\"},[_c('el-row',[_c('el-col',{attrs:{\"span\":5}},[_c('p',{staticClass:\"payName\"},[_vm._v(\"汇款日期：\")]),_vm._v(\" \"),(!_vm.isCheck)?_c('p',{staticClass:\"payName\"},[_c('span',[_vm._v(_vm._s(_vm.recordForm.paymentDate))])]):_c('el-date-picker',{attrs:{\"size\":\"small\",\"type\":\"date\",\"value-format\":\"yyyy-MM-dd\",\"placeholder\":\"选择日期\"},model:{value:(_vm.recordForm.paymentDate),callback:function ($$v) {_vm.$set(_vm.recordForm, \"paymentDate\", $$v)},expression:\"recordForm.paymentDate\"}})],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":5}},[_c('p',{staticClass:\"payName\"},[_vm._v(\"回款金额/比例：\")]),_vm._v(\" \"),(!_vm.isCheck)?_c('p',{staticClass:\"payName\"},[_vm._v(_vm._s(_vm.recordForm.paymentAmount + '元'))]):_c('el-input',{attrs:{\"size\":\"small\",\"type\":\"number\",\"maxlength\":\"7\",\"oninput\":\"value=value.replace(/[^0-9.]/g,'');\"},nativeOn:{\"input\":function($event){return _vm.inputXz($event)}},model:{value:(_vm.recordForm.paymentAmount),callback:function ($$v) {_vm.$set(_vm.recordForm, \"paymentAmount\", $$v)},expression:\"recordForm.paymentAmount\"}},[_c('template',{slot:\"append\"},[_vm._v(\"元\")])],2)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":5}},[_c('p',{staticClass:\"payName\"},[_vm._v(\"回款阶段：\")]),_vm._v(\" \"),(!_vm.isCheck)?_c('p',{staticClass:\"payName\"},[_vm._v(\"\\n              \"+_vm._s(_vm.recordForm.paymentType == 0 ? '签约后' : _vm.recordForm.paymentType == 1 ? '受理后' : _vm.recordForm.paymentType == 2 ? '完成（提交）后': _vm.recordForm.paymentType == 3 ? '立项公示后':_vm.recordForm.paymentType == 4 ? '拨付后':_vm.recordForm.paymentType == 5 ? '验收后':_vm.recordForm.paymentType == 6 ? '收到通知书后':'-')+\"\\n            \")]):_c('el-select',{attrs:{\"placeholder\":\"回款阶段\",\"clearable\":\"\",\"size\":\"small\"},model:{value:(_vm.recordForm.paymentType),callback:function ($$v) {_vm.$set(_vm.recordForm, \"paymentType\", $$v)},expression:\"recordForm.paymentType\"}},_vm._l((_vm.payMethods),function(group){return _c('el-option-group',{key:group.lable,attrs:{\"label\":group.lable}},_vm._l((group.options),function(item){return _c('el-option',{key:item.paymentMode,attrs:{\"label\":item.paymentModeName,\"value\":item.paymentMode}})}),1)}),1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":5}},[_c('p',{staticClass:\"payName\"},[_vm._v(\"财政级别：\")]),_vm._v(\" \"),(!_vm.isCheck)?_c('p',{staticClass:\"payName\"},[_vm._v(\"\\n              \"+_vm._s(_vm.recordForm.paymentLevel == 1 ? '国家级' :\n                _vm.recordForm.paymentLevel == 2 ? '省级' :\n                _vm.recordForm.paymentLevel == 3 ? '市级' :\n                _vm.recordForm.paymentLevel == 4 ? '区县级' :\n                _vm.recordForm.paymentLevel == 5 ? '镇街级' : '-')+\"\\n            \")]):_c('el-select',{attrs:{\"placeholder\":\"财政级别\",\"clearable\":\"\",\"size\":\"small\"},model:{value:(_vm.recordForm.paymentLevel),callback:function ($$v) {_vm.$set(_vm.recordForm, \"paymentLevel\", $$v)},expression:\"recordForm.paymentLevel\"}},_vm._l((_vm.paymentLevelList),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":4}},[_c('p',{staticClass:\"payName\"},[_vm._v(\"收款人：\")]),_vm._v(\" \"),(!_vm.isCheck)?_c('p',{staticClass:\"payName\"},[_vm._v(_vm._s(_vm.recordForm.paymentUserName))]):_c('el-select',{attrs:{\"placeholder\":\"收款人\",\"clearable\":\"\",\"size\":\"small\"},model:{value:(_vm.recordForm.paymentUserId),callback:function ($$v) {_vm.$set(_vm.recordForm, \"paymentUserId\", $$v)},expression:\"recordForm.paymentUserId\"}},_vm._l((_vm.userList),function(item){return _c('el-option',{key:item.userId,attrs:{\"label\":item.userName,\"value\":item.userId}})}),1)],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":5}},[_c('p',{staticClass:\"payName\"},[_vm._v(\"录入日期：\"+_vm._s(_vm.recordForm.entryDate))])])],1)],1)]),_vm._v(\" \"),_c('el-card',{staticClass:\"box-card\"},[(_vm.recordForm.file)?_c('p',{staticClass:\"payName\"},[_vm._v(\"\\n        我是凭证：\\n        \"),_c('span',{staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":function($event){return _vm.downloadFile(_vm.recordForm.file)}}},[_vm._v(_vm._s(_vm.recordForm.file.fileName))])]):_vm._e(),_vm._v(\" \"),_c('p',{staticClass:\"payName\"},[_vm._v(\"\\n        回款依据：\\n        \"),_c('span',{staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":function($event){return _vm.downloadFile(_vm.fileForm.file)}}},[_vm._v(_vm._s(_vm.fileForm.file.fileName))])]),_vm._v(\" \"),_c('p',[_c('img',{staticStyle:{\"max-width\":\"100%\",\"margin-top\":\"10px\"},attrs:{\"src\":_vm.recordForm.fileUrl,\"alt\":\"\"}})])]),_vm._v(\" \"),_c('div',{staticClass:\"btnList\"},[(_vm.isCheck && _vm.recordForm.recordId && _vm.recordForm.recheckResult == 0)?_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":_vm.editPayment}},[_vm._v(\"提交\")]):_vm._e(),_vm._v(\" \"),(_vm.recordForm.recordId && _vm.recordForm.recheckResult == 0)?_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":_vm.openRecheck}},[_vm._v(\"审核\")]):_vm._e(),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":_vm.cancelSub}},[_vm._v(\"取消\")])],1),_vm._v(\" \"),_c('el-dialog',{directives:[{name:\"dialogDrag\",rawName:\"v-dialogDrag\"}],attrs:{\"title\":\"审核\",\"visible\":_vm.dialogVisible,\"width\":\"30%\",\"before-close\":_vm.handleClose},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('div',{staticStyle:{\"display\":\"flex\"}},[_c('span',[_vm._v(\"上传凭证：\")]),_vm._v(\" \"),_c('el-upload',{staticClass:\"image-uploader\",attrs:{\"http-request\":_vm.handleUpload,\"before-upload\":_vm.uploadBeforeFile,\"file-list\":_vm.recheckFileList,\"limit\":1,\"on-exceed\":_vm.handleExceed,\"action\":\"\"}},[_c('el-button',{staticClass:\"btn export\",attrs:{\"type\":\"primary\",\"size\":\"small\"}},[_vm._v(\"上传\")])],1)],1),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){_vm.dialogVisible = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),(_vm.recordForm.recordId && _vm.recordForm.recheckResult == 0)?_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"info\"},on:{\"click\":function($event){return _vm.recheckPayment(2)}}},[_vm._v(\"不通过\")]):_vm._e(),_vm._v(\" \"),(_vm.recordForm.recordId && _vm.recordForm.recheckResult == 0)?_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.recheckPayment(1)}}},[_vm._v(\"通过\")]):_vm._e()],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0e1aa186\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/contractManage/paymentRecordDetail.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0e1aa186\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./paymentRecordDetail.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./paymentRecordDetail.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./paymentRecordDetail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0e1aa186\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./paymentRecordDetail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0e1aa186\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/contractManage/paymentRecordDetail.vue\n// module id = null\n// module chunks = ","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0e1aa186\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/less-loader/dist/cjs.js?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./paymentRecordDetail.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"ccd4ef36\", content, true);\n\n\n// WEBPACK FOOTER //\n// \"}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-0e1aa186\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/less-loader/dist/cjs.js?{\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/views/contractManage/paymentRecordDetail.vue"],"sourceRoot":""}