webpackJsonp([105],{q74E:function(t,e,a){var i=a("qyKf");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("rjj0")("44384cee",i,!0)},qyKf:function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,"\n[data-v-c537bda8] .el-popper .popper__arrow {\n  right: 0 !important;\n  left: inherit !important;\n}\n.sales-plan-box[data-v-c537bda8] {\n  margin: auto 5%;\n}\n.sales-plan-box .title-name[data-v-c537bda8] {\n  padding-left: 20px;\n  margin-top: 20px;\n  font-size: 14px;\n  color: rgba(68, 68, 68, 0.75);\n}\n.sales-plan-box .list[data-v-c537bda8] {\n  background: #ffffff;\n  -webkit-box-shadow: 0 3px 12px rgba(5, 170, 255, 0.08);\n          box-shadow: 0 3px 12px rgba(5, 170, 255, 0.08);\n  margin-top: 16px;\n}\n.sales-plan-box .list .list-title[data-v-c537bda8] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n  padding: 5px 16px;\n  -webkit-box-shadow: -1px 2px 12px rgba(5, 170, 255, 0.08);\n          box-shadow: -1px 2px 12px rgba(5, 170, 255, 0.08);\n}\n.sales-plan-box .list .list-title .left[data-v-c537bda8] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n.sales-plan-box .list .list-title .left .title-text[data-v-c537bda8] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  margin-right: 38px;\n}\n.sales-plan-box .list .list-title .left .title-text .line[data-v-c537bda8] {\n  margin-right: 8px;\n  display: inline-block;\n  width: 3px;\n  height: 14px;\n  background: #ffa96a;\n}\n.sales-plan-box .list .list-title .left .title-text .search-total-num[data-v-c537bda8] {\n  font-size: 14px;\n  font-family: Microsoft YaHei;\n  font-weight: 400;\n  color: rgba(68, 68, 68, 0.75);\n}\n.sales-plan-box .list .list-title .left .title-text .search-total-num .num[data-v-c537bda8] {\n  color: #FF6C6C;\n}\n.sales-plan-box .list .list-title .left .title-btn-group[data-v-c537bda8] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n.sales-plan-box .list .list-title .left .title-btn-group .btn[data-v-c537bda8] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  margin-right: 14px;\n  padding: 4px 9px;\n  font-size: 16px;\n  color: #05aaff;\n  border: 1px solid #05aaff;\n  border-radius: 2px;\n  cursor: pointer;\n}\n.sales-plan-box .list .list-title .left .title-btn-group .btn[data-v-c537bda8]:hover {\n  color: #fff;\n  background: #05aaff;\n}\n.sales-plan-box .list .list-title .left .title-btn-group .btn.del[data-v-c537bda8] {\n  border: 1px solid #f56c6c;\n  color: #f56c6c;\n}\n.sales-plan-box .list .list-title .left .title-btn-group .btn.del[data-v-c537bda8]:hover {\n  color: #fff;\n  background: #f56c6c;\n}\n.sales-plan-box .list .list-title .left .title-btn-group .btn[data-v-c537bda8]:active {\n  opacity: 0.5;\n}\n.sales-plan-box .list .list-title .right .select-sort[data-v-c537bda8] .el-input__inner {\n  font-size: 15px;\n  border: 0;\n  text-align: right;\n  color: #05aaff;\n}\n.sales-plan-box .list .list-title .right .select-sort[data-v-c537bda8] .el-input__icon {\n  line-height: 0;\n}\n.sales-plan-box .list .list-detail .item[data-v-c537bda8] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n  padding: 20px;\n  padding-bottom: 8px;\n  position: relative;\n  border-bottom: 1px solid #ddd;\n}\n.sales-plan-box .list .list-detail .item[data-v-c537bda8]:last-child {\n  border-bottom: 0;\n}\n.sales-plan-box .list .list-detail .item .item-detail[data-v-c537bda8] {\n  width: 100%;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: start;\n      -ms-flex-align: start;\n          align-items: flex-start;\n}\n.sales-plan-box .list .list-detail .item .item-detail .pic[data-v-c537bda8] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  margin-right: 20px;\n}\n.sales-plan-box .list .list-detail .item .item-detail .pic .check-box[data-v-c537bda8] {\n  width: 18px;\n  height: 18px;\n  cursor: pointer;\n}\n.sales-plan-box .list .list-detail .item .item-detail .pic .check-box[data-v-c537bda8] .el-checkbox__inner::after {\n  height: 10px;\n  left: 6px;\n}\n.sales-plan-box .list .list-detail .item .item-detail .pic .img-box[data-v-c537bda8] {\n  width: 84px;\n  height: 84px;\n  border-radius: 4px;\n  background: #69ccff;\n  margin-left: 15px;\n  font-size: 18px;\n  font-family: PingFang SC;\n  font-weight: 400;\n  color: #fff;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  padding: 24px;\n}\n.sales-plan-box .list .list-detail .item .item-detail .detail[data-v-c537bda8] {\n  width: 100%;\n  padding-top: 3px;\n}\n.sales-plan-box .list .list-detail .item .item-detail .detail .text[data-v-c537bda8] {\n  margin-right: 18px;\n}\n.sales-plan-box .list .list-detail .item .item-detail .detail .title[data-v-c537bda8] {\n  font-size: 18px;\n  color: #444444;\n  font-weight: bold;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  margin-bottom: 12px;\n  cursor: pointer;\n}\n.sales-plan-box .list .list-detail .item .item-detail .detail .title .title-tag[data-v-c537bda8] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  padding: 3px 8px;\n  background: #cdeeff;\n  border-radius: 12px;\n  color: #05aaff;\n  font-weight: normal;\n  font-size: 14px;\n}\n.sales-plan-box .list .list-detail .item .item-detail .detail .user-conent .item[data-v-c537bda8] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -ms-flex-wrap: wrap;\n      flex-wrap: wrap;\n  padding: 0;\n  font-size: 14px;\n  border-bottom: 0;\n}\n.sales-plan-box .list .list-detail .item .item-detail .detail .user-conent .item .cate[data-v-c537bda8] {\n  min-width: 25%;\n  color: rgba(68, 68, 68, 0.75);\n  margin-bottom: 12px;\n}\n.sales-plan-box .list .list-detail .item .item-detail .detail .user-conent .item .cate span[data-v-c537bda8] {\n  color: #444444;\n}\n.sales-plan-box .list .list-detail .item .item-detail .detail .user-conent .item .cate .blue[data-v-c537bda8] {\n  color: #05aaff;\n  cursor: pointer;\n}\n.sales-plan-box .list .list-detail .item .item-detail .detail .user-conent .item .cate .red[data-v-c537bda8] {\n  color: #f56c6c;\n}\n.sales-plan-box .list .list-detail .item .bage[data-v-c537bda8] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  margin-right: 10%;\n}\n.sales-plan-box .list .list-detail .item .handle-btn-group[data-v-c537bda8] {\n  width: 98px;\n  min-width: 98px;\n}\n.sales-plan-box .list .list-detail .item .handle-btn-group .btn-img[data-v-c537bda8] {\n  margin: 8px;\n  cursor: pointer;\n  width: 70px;\n  height: 30px;\n}\n.sales-plan-box .list .list-detail .item .handle-btn-group .btn-img.read-img[data-v-c537bda8] {\n  background: url("+a("30/W")+") no-repeat;\n}\n.sales-plan-box .list .list-detail .item .handle-btn-group .btn-img.read-img[data-v-c537bda8]:hover {\n  background: url("+a("Kxc/")+") no-repeat;\n}\n.sales-plan-box .list .list-detail .item .handle-btn-group .btn-img.edit-img[data-v-c537bda8] {\n  background: url("+a("cuAl")+") no-repeat;\n}\n.sales-plan-box .list .list-detail .item .handle-btn-group .btn-img.edit-img[data-v-c537bda8]:hover {\n  background: url("+a("L74e")+") no-repeat;\n}\n.sales-plan-box .list .list-detail .get-more[data-v-c537bda8] {\n  padding: 30px 0;\n  text-align: center;\n  cursor: pointer;\n}\n[data-v-c537bda8] .select-sort-option {\n  z-index: 98 !important;\n}\n[data-v-c537bda8] .select-sort-option /deep/ .popper__arrow {\n  right: 40px !important;\n  left: auto !important;\n}\n",""])},zgRt:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("mvHQ"),n=a.n(i),s=a("Q5rI"),l=a("54n5"),o=a.n(l),c=a("ZWSL"),d={props:{id:{type:String},companyNames:{type:String},powerEdit:{type:Boolean}},data:function(){return{patentIcon:o.a,sortSelectData:"",sortDataList:[{id:"annualFeeDate",value:"按缴费截止顺序",type:"ASC"},{id:"-annualFeeDate",value:"按缴费截止倒序",type:"DESC"},{id:"applyDate",value:"按申请日期顺序",type:"ASC"},{id:"-applyDate",value:"按申请日期倒序",type:"DESC"},{id:"updateTime",value:"按更新日期顺序",type:"ASC"},{id:"-updateTime",value:"按更新日期倒序",type:"DESC"}],listQuery:{page:0,pageSize:20},tempPage:null,listData:[],check_biz_ids:[],isCheckAll:!1,patentType:[],listTotal:0,picBackgroundList:["#FE95B2","#9BB5FF","#69CCFF","#91E5A1","#FFCBA6"],allowAdd:this.authorityControl("SYSTEM:CUSTOMER:MANAGE","SYSTEM:CUSTOMER:CENTER","SYSTEM:CUSTOMER:CENTER:PROPERTY:PATENT:INSERT"),allowUpdate:this.authorityControl("SYSTEM:CUSTOMER:MANAGE","SYSTEM:CUSTOMER:CENTER","SYSTEM:CUSTOMER:CENTER:PROPERTY:PATENT:UPDATE"),allowDetail:this.authorityControl("SYSTEM:CUSTOMER:MANAGE","SYSTEM:CUSTOMER:CENTER","SYSTEM:CUSTOMER:CENTER:PROPERTY:PATENT:DETAILS"),allowDelete:this.authorityControl("SYSTEM:CUSTOMER:MANAGE","SYSTEM:CUSTOMER:CENTER","SYSTEM:CUSTOMER:CENTER:PROPERTY:PATENT:DELETE"),allowGetList:this.authorityControl("SYSTEM:CUSTOMER:MANAGE","SYSTEM:CUSTOMER:CENTER","SYSTEM:CUSTOMER:CENTER:PROPERTY:PATENT:LIST"),allowExport:this.authorityControl("SYSTEM:CUSTOMER:MANAGE","SYSTEM:CUSTOMER:CENTER","SYSTEM:CUSTOMER:CENTER:PROPERTY:PATENT:EXPORT")}},mounted:function(){this.getPatentData()},activated:function(){this.listQuery.page=0,this.getPatentData(),this.isCheckAll=!1,this.check_biz_ids=[]},methods:{getPatentData:function(){var t=this;Object(s.d)({keyList:"DICT:PATENT_TYPE"}).then(function(e){200===e.code&&(t.patentType=e.data["DICT:PATENT_TYPE"],t.getList())})},goHandle:function(t,e){var a=void 0;void 0!==this.id?"add"===t?this.$router.push({path:"/customer/patentForm",query:{type:t,companyId:e,companyNames:this.companyNames,isUser:!0}}):"edit"===t?this.$router.push({path:"/customer/patentForm",query:{type:t,patentId:e,isUser:!0}}):"read"===t&&this.$router.push({path:"/customer/patentForm",query:{type:t,patentId:e}}):("add"===t?a="/customer/patentForm":"edit"===t?a="/customer/patentForm":"read"===t&&(a="/customer/patentForm"),this.$router.push({path:a,query:{type:t,patentId:e}}))},getList:function(){var t=this;console.log(this.companyNames,"===this.companyNames111==>"),void 0!==this.id?(this.listQuery.companyId="",this.listQuery.crmCompanyId=this.id):this.listQuery.companyId="",this.listQuery.pageSize=20,this.allowGetList.twoAllow?Object(c.o)(this.listQuery).then(function(e){if(200===e.code){var a=e.data.data;a.forEach(function(e){t.patentType.forEach(function(t){e.patentType===t.dictId&&(e.patentTypeName=t.dictName)})});var i=[],n=[],s=void 0;for(s=0;s<a.length;)n.push(a.slice(s,s+=5));n.forEach(function(e){e.forEach(function(e,a){t.picBackgroundList.forEach(function(t,i){a===i&&(e.bgColor=t)})})}),n.forEach(function(t){t.forEach(function(t){i.push(t)})}),t.listQuery.page>0?t.listData=t.listData.concat(i):t.listData=i,t.listTotal=e.data.total,void 0!==t.id&&t.$emit("patentTotal",e.data.total)}}):this.$message.warning("抱歉，您没有权限获取列表数据")},checkOneOrNo:function(){this.check_biz_ids.length===this.listData.length?this.isCheckAll=!0:this.isCheckAll=!1},checkAllOrNo:function(){if(this.isCheckAll)this.check_biz_ids=[],this.isCheckAll=!1;else{var t=this;this.listData.forEach(function(e,a){-1===t.check_biz_ids.indexOf(e.patentId)&&t.check_biz_ids.push(e.patentId),t.isCheckAll=!0})}},delItemHandle:function(){var t=this;0===this.check_biz_ids.length?this.$message({message:"请勾选要删除的行！",type:"warning"}):Object(c.c)(this.check_biz_ids).then(function(e){200===e.code&&(t.check_biz_ids=[],t.isCheckAll=!1,t.$message({message:e.message,type:"success"}),t.getPatentData())})},handleExport:function(){var t=this;this.listQuery.page=0,void 0!==this.id?(this.listQuery.crmCompanyId=this.id,this.listQuery.pageSize=this.listData.length):(this.listQuery.crmCompanyId="",this.listQuery.pageSize=this.listTotal);var e=JSON.parse(n()(this.listQuery));e.patentIds=this.check_biz_ids,Object(c.h)(e).then(function(e){200===e.code&&Object(c.e)({fileName:e.message,delete:!0}).then(function(e){var a=window.URL.createObjectURL(e),i=document.createElement("a");document.body.appendChild(i),t.listQuery.page=t.tempPage;var n=(new Date).getFullYear()+""+((new Date).getMonth()+1)+(new Date).getDate()+(new Date).getHours()+(new Date).getMinutes()+(new Date).getSeconds()+"-专利列表.xlsx";i.href=a,i.download=n,i.click(),window.URL.revokeObjectURL(a),t.$message({type:"success",message:"操作成功！"})})})},sortListHandle:function(t){var e=this;this.sortDataList.forEach(function(a){a.id===t&&a.type&&void 0!==a.type&&(e.listQuery.orderType=a.type)}),t.includes("-")&&(t=t.substr(1)),this.listQuery.orderField=t,this.listQuery.page=0,this.listQuery.pageSize=20,this.getPatentData()},loadMore:function(){this.tempPage=this.listQuery.page+=20,this.listQuery.pageSize=20,this.listData.length<this.listTotal&&this.getPatentData()}}},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"sales-plan-box"},[a("div",{staticClass:"list"},[a("div",{staticClass:"list-title"},[a("div",{staticClass:"left"},[a("div",{staticClass:"title-text"},[a("span",{staticClass:"line"}),t._v(" "),a("div",{staticClass:"search-total-num"},[t._v("搜索到 "),a("span",{staticClass:"num"},[t._v(t._s(t.listTotal))]),t._v(" 条记录")]),t._v(" "),t.check_biz_ids.length>0?a("div",{staticClass:"search-total-num",staticStyle:{"margin-left":"10px"}},[t._v("已选中 "),a("span",{staticClass:"num"},[t._v(t._s(t.check_biz_ids.length))]),t._v(" 条记录")]):t._e()]),t._v(" "),a("div",{staticClass:"title-btn-group"},[a("div",{staticClass:"btn",on:{click:t.checkAllOrNo}},[t._v("\n            "+t._s(t.isCheckAll?"取消全选":"全选")+"\n          ")]),t._v(" "),t.allowAdd.twoAllow&&t.powerEdit?a("div",{staticClass:"btn",on:{click:function(e){return t.goHandle("add",t.id)}}},[t._v("新增")]):t._e(),t._v(" "),t.allowExport.twoAllow?a("div",{staticClass:"btn",on:{click:t.handleExport}},[t._v("导出")]):t._e(),t._v(" "),t.allowDelete.twoAllow&&t.powerEdit?a("div",{staticClass:"btn del",on:{click:t.delItemHandle}},[t._v("删除")]):t._e()])]),t._v(" "),a("div",{staticClass:"right"},[a("el-select",{staticClass:"select-sort",attrs:{clearable:"",placeholder:"默认排序","popper-class":"select-sort-option","popper-append-to-body":!1},on:{change:t.sortListHandle},model:{value:t.sortSelectData,callback:function(e){t.sortSelectData=e},expression:"sortSelectData"}},t._l(t.sortDataList,function(t){return a("el-option",{key:t.id,attrs:{value:t.id,label:t.value}})}),1)],1)]),t._v(" "),a("div",{staticClass:"list-detail"},[t._l(t.listData,function(e){return a("div",{staticClass:"item"},[a("div",{staticClass:"item-detail"},[a("div",{staticClass:"pic"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.check_biz_ids,expression:"check_biz_ids"}],staticClass:"check-box",attrs:{type:"checkbox",name:"check_biz_ids"},domProps:{value:e.patentId,checked:Array.isArray(t.check_biz_ids)?t._i(t.check_biz_ids,e.patentId)>-1:t.check_biz_ids},on:{change:[function(a){var i=t.check_biz_ids,n=a.target,s=!!n.checked;if(Array.isArray(i)){var l=e.patentId,o=t._i(i,l);n.checked?o<0&&(t.check_biz_ids=i.concat([l])):o>-1&&(t.check_biz_ids=i.slice(0,o).concat(i.slice(o+1)))}else t.check_biz_ids=s},t.checkOneOrNo]}}),t._v(" "),a("div",{staticClass:"img-box",style:"background:"+e.bgColor},[t._v("\n              专利\n            ")])]),t._v(" "),a("div",{staticClass:"detail"},[a("div",{staticClass:"title"},[a("span",{staticClass:"text",on:{click:function(a){return t.goHandle("read",e.patentId)}}},[t._v(t._s(e.patentName))]),t._v(" "),a("span",{staticClass:"title-tag"},[t._v("\n                  专利类型："+t._s(e.patentTypeName)+"\n              ")])]),t._v(" "),a("div",{staticClass:"user-conent"},[a("div",{staticClass:"item"},[a("div",{staticClass:"cate"},[t._v("专利编号："),a("span",[t._v(t._s(e.patentNo))])]),t._v(" "),a("div",{staticClass:"cate"},[t._v("第一申请人："),a("span",[t._v(t._s(e.firstApplyName))])]),t._v(" "),a("div",{staticClass:"cate"}),t._v(" "),a("div",{staticClass:"cate"})]),t._v(" "),a("div",{staticClass:"item"},[a("div",{staticClass:"cate"},[t._v("申请日期："),a("span",[t._v(t._s(e.applyDate))])]),t._v(" "),a("div",{staticClass:"cate"},[t._v("年费截止日期："),a("span",{staticClass:"red"},[t._v(t._s(e.annualFeeDate))])]),t._v(" "),a("div",{staticClass:"cate"},[t._v("更新日期："),a("span",[t._v(t._s(e.updateTime))])]),t._v(" "),a("div",{staticClass:"cate"})])])])]),t._v(" "),a("div",{staticClass:"bage"},[a("img",{attrs:{src:t.patentIcon}})]),t._v(" "),a("div",{staticClass:"handle-btn-group"},[t.allowDetail.twoAllow?a("div",{staticClass:"btn-img read-img",on:{click:function(a){return t.goHandle("read",e.patentId)}}}):t._e(),t._v(" "),t.allowUpdate.twoAllow?a("div",{staticClass:"btn-img edit-img",on:{click:function(a){return t.goHandle("edit",e.patentId)}}}):t._e()])])}),t._v(" "),t.listData.length>=t.listTotal?a("div",{staticClass:"get-more"},[t._v("\n        没有更多\n      ")]):a("div",{staticClass:"get-more",on:{click:t.loadMore}},[t._v("\n        加载更多\n      ")])],2)])])},staticRenderFns:[]};var p=a("VU/8")(d,r,!1,function(t){a("q74E")},"data-v-c537bda8",null);e.default=p.exports}});